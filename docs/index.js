(function t(e,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define([],n);else{var i=n();for(var r in i)(typeof exports==="object"?exports:e)[r]=i[r]}})(this,function(){return function(t){var e={};function n(i){if(e[i]){return e[i].exports}var r=e[i]={i:i,l:false,exports:{}};t[i].call(r.exports,r,r.exports,n);r.l=true;return r.exports}n.m=t;n.c=e;n.d=function(t,e,i){if(!n.o(t,e)){Object.defineProperty(t,e,{configurable:false,enumerable:true,get:i})}};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="";return n(n.s=0)}({"./node_modules/adsr/index.js":function(t,e){t.exports=n;function n(t){var e=t.createGain();var n=e._voltage=o(t);var r=s(n);var a=s(n);var u=s(n);e._startAmount=s(a);e._endAmount=s(u);e._multiplier=s(r);e._multiplier.connect(e);e._startAmount.connect(e);e._endAmount.connect(e);e.value=r.gain;e.startValue=a.gain;e.endValue=u.gain;e.startValue.value=0;e.endValue.value=0;Object.defineProperties(e,i);return e}var i={attack:{value:0,writable:true},decay:{value:0,writable:true},sustain:{value:1,writable:true},release:{value:0,writable:true},getReleaseDuration:{value:function(){return this.release}},start:{value:function(t){var e=this._multiplier.gain;var n=this._startAmount.gain;var i=this._endAmount.gain;this._voltage.start(t);this._decayFrom=this._decayFrom=t+this.attack;this._startedAt=t;var r=this.sustain;e.cancelScheduledValues(t);n.cancelScheduledValues(t);i.cancelScheduledValues(t);i.setValueAtTime(0,t);if(this.attack){e.setValueAtTime(0,t);e.linearRampToValueAtTime(1,t+this.attack);n.setValueAtTime(1,t);n.linearRampToValueAtTime(0,t+this.attack)}else{e.setValueAtTime(1,t);n.setValueAtTime(0,t)}if(this.decay){e.setTargetAtTime(r,this._decayFrom,a(this.decay))}}},stop:{value:function(t,e){if(e){t=t-this.release}var n=t+this.release;if(this.release){var i=this._multiplier.gain;var r=this._startAmount.gain;var o=this._endAmount.gain;i.cancelScheduledValues(t);r.cancelScheduledValues(t);o.cancelScheduledValues(t);var s=a(this.release);if(this.attack&&t<this._decayFrom){var l=u(0,1,this._startedAt,this._decayFrom,t);i.linearRampToValueAtTime(l,t);r.linearRampToValueAtTime(1-l,t);r.setTargetAtTime(0,t,s)}o.setTargetAtTime(1,t,s);i.setTargetAtTime(0,t,s)}this._voltage.stop(n);return n}},onended:{get:function(){return this._voltage.onended},set:function(t){this._voltage.onended=t}}};var r=new Float32Array([1,1]);function o(t){var e=t.createBufferSource();var n=t.createBuffer(1,2,t.sampleRate);n.getChannelData(0).set(r);e.buffer=n;e.loop=true;return e}function s(t){var e=t.context.createGain();t.connect(e);return e}function a(t){return Math.log(t+1)/Math.log(100)}function u(t,e,n,i,r){var o=e-t;var s=i-n;var a=r-n;var u=a/s;var l=t+u*o;if(l<=t){l=t}if(l>=e){l=e}return l}},"./node_modules/audio-loader/lib/base64.js":function(t,e,n){"use strict";function i(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0}function r(t,e){var n=t.replace(/[^A-Za-z0-9\+\/]/g,"");var r=n.length;var o=e?Math.ceil((r*3+1>>2)/e)*e:r*3+1>>2;var s=new Uint8Array(o);for(var a,u,l=0,c=0,h=0;h<r;h++){u=h&3;l|=i(n.charCodeAt(h))<<18-6*u;if(u===3||r-h===1){for(a=0;a<3&&c<o;a++,c++){s[c]=l>>>(16>>>a&24)&255}l=0}}return s}t.exports={decode:r}},"./node_modules/audio-loader/lib/fetch.js":function(t,e,n){"use strict";t.exports=function(t,e){return new Promise(function(n,i){var r=new XMLHttpRequest;if(e)r.responseType=e;r.open("GET",t);r.onload=function(){r.status===200?n(r.response):i(Error(r.statusText))};r.onerror=function(){i(Error("Network Error"))};r.send()})}},"./node_modules/audio-loader/lib/index.js":function(t,e,n){"use strict";var i=n("./node_modules/audio-loader/lib/base64.js");var r=n("./node_modules/audio-loader/lib/fetch.js");function o(t){return function(e){return typeof e==="string"&&t.test(e)}}function s(t,e){return typeof t==="string"?t+e:typeof t==="function"?t(e):e}function a(t,e,n,i){var r=u(e)?l:c(e)?h:f(e)?p:d(e)?y:_(e)?v:m(e)?g:b(e)?w:T(e)?S:null;var o=n||{};return r?r(t,e,o):i?Promise.resolve(i):Promise.reject("Source not valid ("+e+")")}a.fetch=r;function u(t){return t instanceof ArrayBuffer}function l(t,e,n){return new Promise(function(n,i){t.decodeAudioData(e,function(t){n(t)},function(){i("Can't decode audio data ("+e.slice(0,30)+"...)")})})}var c=o(/\.(mp3|wav|ogg)(\?.*)?$/i);function h(t,e,n){var i=s(n.from,e);return a(t,a.fetch(i,"arraybuffer"),n)}function f(t){return t&&typeof t.then==="function"}function p(t,e,n){return e.then(function(e){return a(t,e,n)})}var d=Array.isArray;function y(t,e,n){return Promise.all(e.map(function(e){return a(t,e,n,e)}))}function _(t){return t&&typeof t==="object"}function v(t,e,n){var i={};var r=Object.keys(e).map(function(r){if(n.only&&n.only.indexOf(r)===-1)return null;var o=e[r];return a(t,o,n,o).then(function(t){i[r]=t})});return Promise.all(r).then(function(){return i})}var m=o(/\.json(\?.*)?$/i);function g(t,e,n){var i=s(n.from,e);return a(t,a.fetch(i,"text").then(JSON.parse),n)}var b=o(/^data:audio/);function w(t,e,n){var r=e.indexOf(",");return a(t,i.decode(e.slice(r+1)).buffer,n)}var T=o(/\.js(\?.*)?$/i);function S(t,e,n){var i=s(n.from,e);return a(t,a.fetch(i,"text").then(k),n)}function k(t){var e=t.indexOf("MIDI.Soundfont.");if(e<0)throw Error("Invalid MIDI.js Soundfont format");e=t.indexOf("=",e)+2;var n=t.lastIndexOf(",");return JSON.parse(t.slice(e,n)+"}")}if(typeof t==="object"&&t.exports)t.exports=a;if(typeof window!=="undefined")window.loadAudio=a},"./node_modules/fbjs/lib/ExecutionEnvironment.js":function(t,e,n){"use strict";var i=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var r={canUseDOM:i,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:i&&!!(window.addEventListener||window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};t.exports=r},"./node_modules/fbjs/lib/containsNode.js":function(t,e,n){"use strict";var i=n("./node_modules/fbjs/lib/isTextNode.js");function r(t,e){if(!t||!e){return false}else if(t===e){return true}else if(i(t)){return false}else if(i(e)){return r(t,e.parentNode)}else if("contains"in t){return t.contains(e)}else if(t.compareDocumentPosition){return!!(t.compareDocumentPosition(e)&16)}else{return false}}t.exports=r},"./node_modules/fbjs/lib/emptyFunction.js":function(t,e,n){"use strict";function i(t){return function(){return t}}var r=function t(){};r.thatReturns=i;r.thatReturnsFalse=i(false);r.thatReturnsTrue=i(true);r.thatReturnsNull=i(null);r.thatReturnsThis=function(){return this};r.thatReturnsArgument=function(t){return t};t.exports=r},"./node_modules/fbjs/lib/emptyObject.js":function(t,e,n){"use strict";var i={};if(false){Object.freeze(i)}t.exports=i},"./node_modules/fbjs/lib/getActiveElement.js":function(t,e,n){"use strict";function i(t){t=t||(typeof document!=="undefined"?document:undefined);if(typeof t==="undefined"){return null}try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=i},"./node_modules/fbjs/lib/invariant.js":function(t,e,n){"use strict";var i=function t(e){};if(false){i=function t(e){if(e===undefined){throw new Error("invariant requires an error message argument")}}}function r(t,e,n,r,o,s,a,u){i(e);if(!t){var l;if(e===undefined){l=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var c=[n,r,o,s,a,u];var h=0;l=new Error(e.replace(/%s/g,function(){return c[h++]}));l.name="Invariant Violation"}l.framesToPop=1;throw l}}t.exports=r},"./node_modules/fbjs/lib/isNode.js":function(t,e,n){"use strict";function i(t){var e=t?t.ownerDocument||t:document;var n=e.defaultView||window;return!!(t&&(typeof n.Node==="function"?t instanceof n.Node:typeof t==="object"&&typeof t.nodeType==="number"&&typeof t.nodeName==="string"))}t.exports=i},"./node_modules/fbjs/lib/isTextNode.js":function(t,e,n){"use strict";var i=n("./node_modules/fbjs/lib/isNode.js");function r(t){return i(t)&&t.nodeType==3}t.exports=r},"./node_modules/fbjs/lib/shallowEqual.js":function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(t,e){if(t===e){return t!==0||e!==0||1/t===1/e}else{return t!==t&&e!==e}}function o(t,e){if(r(t,e)){return true}if(typeof t!=="object"||t===null||typeof e!=="object"||e===null){return false}var n=Object.keys(t);var o=Object.keys(e);if(n.length!==o.length){return false}for(var s=0;s<n.length;s++){if(!i.call(e,n[s])||!r(t[n[s]],e[n[s]])){return false}}return true}t.exports=o},"./node_modules/lodash/lodash.js":function(t,e,n){(function(t,i){var r;(function(){var o;var s="4.17.10";var a=200;var u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function";var c="__lodash_hash_undefined__";var h=500;var f="__lodash_placeholder__";var p=1,d=2,y=4;var _=1,v=2;var m=1,g=2,b=4,w=8,T=16,S=32,k=64,x=128,A=256,P=512;var O=30,E="...";var C=800,M=16;var F=1,N=2,R=3;var j=1/0,q=9007199254740991,I=1.7976931348623157e308,D=0/0;var L=4294967295,B=L-1,U=L>>>1;var V=[["ary",x],["bind",m],["bindKey",g],["curry",w],["curryRight",T],["flip",P],["partial",S],["partialRight",k],["rearg",A]];var z="[object Arguments]",W="[object Array]",G="[object AsyncFunction]",Q="[object Boolean]",$="[object Date]",H="[object DOMException]",K="[object Error]",Z="[object Function]",X="[object GeneratorFunction]",Y="[object Map]",J="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",it="[object Proxy]",rt="[object RegExp]",ot="[object Set]",st="[object String]",at="[object Symbol]",ut="[object Undefined]",lt="[object WeakMap]",ct="[object WeakSet]";var ht="[object ArrayBuffer]",ft="[object DataView]",pt="[object Float32Array]",dt="[object Float64Array]",yt="[object Int8Array]",_t="[object Int16Array]",vt="[object Int32Array]",mt="[object Uint8Array]",gt="[object Uint8ClampedArray]",bt="[object Uint16Array]",wt="[object Uint32Array]";var Tt=/\b__p \+= '';/g,St=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var xt=/&(?:amp|lt|gt|quot|#39);/g,At=/[&<>"']/g,Pt=RegExp(xt.source),Ot=RegExp(At.source);var Et=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g;var Ft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nt=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var jt=/[\\^$.*+?()[\]{}|]/g,qt=RegExp(jt.source);var It=/^\s+|\s+$/g,Dt=/^\s+/,Lt=/\s+$/;var Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ut=/\{\n\/\* \[wrapped with (.+)\] \*/,Vt=/,? & /;var zt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Wt=/\\(\\)?/g;var Gt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var Qt=/\w*$/;var $t=/^[-+]0x[0-9a-f]+$/i;var Ht=/^0b[01]+$/i;var Kt=/^\[object .+?Constructor\]$/;var Zt=/^0o[0-7]+$/i;var Xt=/^(?:0|[1-9]\d*)$/;var Yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var Jt=/($^)/;var te=/['\n\r\u2028\u2029\\]/g;var ee="\\ud800-\\udfff",ne="\\u0300-\\u036f",ie="\\ufe20-\\ufe2f",re="\\u20d0-\\u20ff",oe=ne+ie+re,se="\\u2700-\\u27bf",ae="a-z\\xdf-\\xf6\\xf8-\\xff",ue="\\xac\\xb1\\xd7\\xf7",le="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ce="\\u2000-\\u206f",he=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="A-Z\\xc0-\\xd6\\xd8-\\xde",pe="\\ufe0e\\ufe0f",de=ue+le+ce+he;var ye="['\u2019]",_e="["+ee+"]",ve="["+de+"]",me="["+oe+"]",ge="\\d+",be="["+se+"]",we="["+ae+"]",Te="[^"+ee+de+ge+se+ae+fe+"]",Se="\\ud83c[\\udffb-\\udfff]",ke="(?:"+me+"|"+Se+")",xe="[^"+ee+"]",Ae="(?:\\ud83c[\\udde6-\\uddff]){2}",Pe="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+fe+"]",Ee="\\u200d";var Ce="(?:"+we+"|"+Te+")",Me="(?:"+Oe+"|"+Te+")",Fe="(?:"+ye+"(?:d|ll|m|re|s|t|ve))?",Ne="(?:"+ye+"(?:D|LL|M|RE|S|T|VE))?",Re=ke+"?",je="["+pe+"]?",qe="(?:"+Ee+"(?:"+[xe,Ae,Pe].join("|")+")"+je+Re+")*",Ie="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Le=je+Re+qe,Be="(?:"+[be,Ae,Pe].join("|")+")"+Le,Ue="(?:"+[xe+me+"?",me,Ae,Pe,_e].join("|")+")";var Ve=RegExp(ye,"g");var ze=RegExp(me,"g");var We=RegExp(Se+"(?="+Se+")|"+Ue+Le,"g");var Ge=RegExp([Oe+"?"+we+"+"+Fe+"(?="+[ve,Oe,"$"].join("|")+")",Me+"+"+Ne+"(?="+[ve,Oe+Ce,"$"].join("|")+")",Oe+"?"+Ce+"+"+Fe,Oe+"+"+Ne,De,Ie,ge,Be].join("|"),"g");var Qe=RegExp("["+Ee+ee+oe+pe+"]");var $e=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var He=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var Ke=-1;var Ze={};Ze[pt]=Ze[dt]=Ze[yt]=Ze[_t]=Ze[vt]=Ze[mt]=Ze[gt]=Ze[bt]=Ze[wt]=true;Ze[z]=Ze[W]=Ze[ht]=Ze[Q]=Ze[ft]=Ze[$]=Ze[K]=Ze[Z]=Ze[Y]=Ze[J]=Ze[et]=Ze[rt]=Ze[ot]=Ze[st]=Ze[lt]=false;var Xe={};Xe[z]=Xe[W]=Xe[ht]=Xe[ft]=Xe[Q]=Xe[$]=Xe[pt]=Xe[dt]=Xe[yt]=Xe[_t]=Xe[vt]=Xe[Y]=Xe[J]=Xe[et]=Xe[rt]=Xe[ot]=Xe[st]=Xe[at]=Xe[mt]=Xe[gt]=Xe[bt]=Xe[wt]=true;Xe[K]=Xe[Z]=Xe[lt]=false;var Ye={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"};var Je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var nn=parseFloat,rn=parseInt;var on=typeof t=="object"&&t&&t.Object===Object&&t;var sn=typeof self=="object"&&self&&self.Object===Object&&self;var an=on||sn||Function("return this")();var un=typeof e=="object"&&e&&!e.nodeType&&e;var ln=un&&typeof i=="object"&&i&&!i.nodeType&&i;var cn=ln&&ln.exports===un;var hn=cn&&on.process;var fn=function(){try{var t=ln&&ln.require&&ln.require("util").types;if(t){return t}return hn&&hn.binding&&hn.binding("util")}catch(t){}}();var pn=fn&&fn.isArrayBuffer,dn=fn&&fn.isDate,yn=fn&&fn.isMap,_n=fn&&fn.isRegExp,vn=fn&&fn.isSet,mn=fn&&fn.isTypedArray;function gn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function bn(t,e,n,i){var r=-1,o=t==null?0:t.length;while(++r<o){var s=t[r];e(i,s,n(s),t)}return i}function wn(t,e){var n=-1,i=t==null?0:t.length;while(++n<i){if(e(t[n],n,t)===false){break}}return t}function Tn(t,e){var n=t==null?0:t.length;while(n--){if(e(t[n],n,t)===false){break}}return t}function Sn(t,e){var n=-1,i=t==null?0:t.length;while(++n<i){if(!e(t[n],n,t)){return false}}return true}function kn(t,e){var n=-1,i=t==null?0:t.length,r=0,o=[];while(++n<i){var s=t[n];if(e(s,n,t)){o[r++]=s}}return o}function xn(t,e){var n=t==null?0:t.length;return!!n&&In(t,e,0)>-1}function An(t,e,n){var i=-1,r=t==null?0:t.length;while(++i<r){if(n(e,t[i])){return true}}return false}function Pn(t,e){var n=-1,i=t==null?0:t.length,r=Array(i);while(++n<i){r[n]=e(t[n],n,t)}return r}function On(t,e){var n=-1,i=e.length,r=t.length;while(++n<i){t[r+n]=e[n]}return t}function En(t,e,n,i){var r=-1,o=t==null?0:t.length;if(i&&o){n=t[++r]}while(++r<o){n=e(n,t[r],r,t)}return n}function Cn(t,e,n,i){var r=t==null?0:t.length;if(i&&r){n=t[--r]}while(r--){n=e(n,t[r],r,t)}return n}function Mn(t,e){var n=-1,i=t==null?0:t.length;while(++n<i){if(e(t[n],n,t)){return true}}return false}var Fn=Un("length");function Nn(t){return t.split("")}function Rn(t){return t.match(zt)||[]}function jn(t,e,n){var i;n(t,function(t,n,r){if(e(t,n,r)){i=n;return false}});return i}function qn(t,e,n,i){var r=t.length,o=n+(i?1:-1);while(i?o--:++o<r){if(e(t[o],o,t)){return o}}return-1}function In(t,e,n){return e===e?pi(t,e,n):qn(t,Ln,n)}function Dn(t,e,n,i){var r=n-1,o=t.length;while(++r<o){if(i(t[r],e)){return r}}return-1}function Ln(t){return t!==t}function Bn(t,e){var n=t==null?0:t.length;return n?Gn(t,e)/n:D}function Un(t){return function(e){return e==null?o:e[t]}}function Vn(t){return function(e){return t==null?o:t[e]}}function zn(t,e,n,i,r){r(t,function(t,r,o){n=i?(i=false,t):e(n,t,r,o)});return n}function Wn(t,e){var n=t.length;t.sort(e);while(n--){t[n]=t[n].value}return t}function Gn(t,e){var n,i=-1,r=t.length;while(++i<r){var s=e(t[i]);if(s!==o){n=n===o?s:n+s}}return n}function Qn(t,e){var n=-1,i=Array(t);while(++n<t){i[n]=e(n)}return i}function $n(t,e){return Pn(e,function(e){return[e,t[e]]})}function Hn(t){return function(e){return t(e)}}function Kn(t,e){return Pn(e,function(e){return t[e]})}function Zn(t,e){return t.has(e)}function Xn(t,e){var n=-1,i=t.length;while(++n<i&&In(e,t[n],0)>-1){}return n}function Yn(t,e){var n=t.length;while(n--&&In(e,t[n],0)>-1){}return n}function Jn(t,e){var n=t.length,i=0;while(n--){if(t[n]===e){++i}}return i}var ti=Vn(Ye);var ei=Vn(Je);function ni(t){return"\\"+en[t]}function ii(t,e){return t==null?o:t[e]}function ri(t){return Qe.test(t)}function oi(t){return $e.test(t)}function si(t){var e,n=[];while(!(e=t.next()).done){n.push(e.value)}return n}function ai(t){var e=-1,n=Array(t.size);t.forEach(function(t,i){n[++e]=[i,t]});return n}function ui(t,e){return function(n){return t(e(n))}}function li(t,e){var n=-1,i=t.length,r=0,o=[];while(++n<i){var s=t[n];if(s===e||s===f){t[n]=f;o[r++]=n}}return o}function ci(t,e){return e=="__proto__"?o:t[e]}function hi(t){var e=-1,n=Array(t.size);t.forEach(function(t){n[++e]=t});return n}function fi(t){var e=-1,n=Array(t.size);t.forEach(function(t){n[++e]=[t,t]});return n}function pi(t,e,n){var i=n-1,r=t.length;while(++i<r){if(t[i]===e){return i}}return-1}function di(t,e,n){var i=n+1;while(i--){if(t[i]===e){return i}}return i}function yi(t){return ri(t)?mi(t):Fn(t)}function _i(t){return ri(t)?gi(t):Nn(t)}var vi=Vn(tn);function mi(t){var e=We.lastIndex=0;while(We.test(t)){++e}return e}function gi(t){return t.match(We)||[]}function bi(t){return t.match(Ge)||[]}var wi=function t(e){e=e==null?an:Ti.defaults(an.Object(),e,Ti.pick(an,He));var n=e.Array,i=e.Date,r=e.Error,zt=e.Function,ee=e.Math,ne=e.Object,ie=e.RegExp,re=e.String,oe=e.TypeError;var se=n.prototype,ae=zt.prototype,ue=ne.prototype;var le=e["__core-js_shared__"];var ce=ae.toString;var he=ue.hasOwnProperty;var fe=0;var pe=function(){var t=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var de=ue.toString;var ye=ce.call(ne);var _e=an._;var ve=ie("^"+ce.call(he).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var me=cn?e.Buffer:o,ge=e.Symbol,be=e.Uint8Array,we=me?me.allocUnsafe:o,Te=ui(ne.getPrototypeOf,ne),Se=ne.create,ke=ue.propertyIsEnumerable,xe=se.splice,Ae=ge?ge.isConcatSpreadable:o,Pe=ge?ge.iterator:o,Oe=ge?ge.toStringTag:o;var Ee=function(){try{var t=Qs(ne,"defineProperty");t({},"",{});return t}catch(t){}}();var Ce=e.clearTimeout!==an.clearTimeout&&e.clearTimeout,Me=i&&i.now!==an.Date.now&&i.now,Fe=e.setTimeout!==an.setTimeout&&e.setTimeout;var Ne=ee.ceil,Re=ee.floor,je=ne.getOwnPropertySymbols,qe=me?me.isBuffer:o,Ie=e.isFinite,De=se.join,Le=ui(ne.keys,ne),Be=ee.max,Ue=ee.min,We=i.now,Ge=e.parseInt,Qe=ee.random,$e=se.reverse;var Ye=Qs(e,"DataView"),Je=Qs(e,"Map"),tn=Qs(e,"Promise"),en=Qs(e,"Set"),on=Qs(e,"WeakMap"),sn=Qs(ne,"create");var un=on&&new on;var ln={};var hn=Ca(Ye),fn=Ca(Je),Fn=Ca(tn),Nn=Ca(en),Vn=Ca(on);var pi=ge?ge.prototype:o,mi=pi?pi.valueOf:o,gi=pi?pi.toString:o;function wi(t){if(Sc(t)&&!sc(t)&&!(t instanceof Ai)){if(t instanceof xi){return t}if(he.call(t,"__wrapped__")){return Fa(t)}}return new xi(t)}var Si=function(){function t(){}return function(e){if(!Tc(e)){return{}}if(Se){return Se(e)}t.prototype=e;var n=new t;t.prototype=o;return n}}();function ki(){}function xi(t,e){this.__wrapped__=t;this.__actions__=[];this.__chain__=!!e;this.__index__=0;this.__values__=o}wi.templateSettings={escape:Et,evaluate:Ct,interpolate:Mt,variable:"",imports:{_:wi}};wi.prototype=ki.prototype;wi.prototype.constructor=wi;xi.prototype=Si(ki.prototype);xi.prototype.constructor=xi;function Ai(t){this.__wrapped__=t;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=L;this.__views__=[]}function Pi(){var t=new Ai(this.__wrapped__);t.__actions__=is(this.__actions__);t.__dir__=this.__dir__;t.__filtered__=this.__filtered__;t.__iteratees__=is(this.__iteratees__);t.__takeCount__=this.__takeCount__;t.__views__=is(this.__views__);return t}function Oi(){if(this.__filtered__){var t=new Ai(this);t.__dir__=-1;t.__filtered__=true}else{t=this.clone();t.__dir__*=-1}return t}function Ei(){var t=this.__wrapped__.value(),e=this.__dir__,n=sc(t),i=e<0,r=n?t.length:0,o=Xs(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,c=this.__iteratees__,h=c.length,f=0,p=Ue(u,this.__takeCount__);if(!n||!i&&r==u&&p==u){return Do(t,this.__actions__)}var d=[];t:while(u--&&f<p){l+=e;var y=-1,_=t[l];while(++y<h){var v=c[y],m=v.iteratee,g=v.type,b=m(_);if(g==N){_=b}else if(!b){if(g==F){continue t}else{break t}}}d[f++]=_}return d}Ai.prototype=Si(ki.prototype);Ai.prototype.constructor=Ai;function Ci(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Mi(){this.__data__=sn?sn(null):{};this.size=0}function Fi(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}function Ni(t){var e=this.__data__;if(sn){var n=e[t];return n===c?o:n}return he.call(e,t)?e[t]:o}function Ri(t){var e=this.__data__;return sn?e[t]!==o:he.call(e,t)}function ji(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=sn&&e===o?c:e;return this}Ci.prototype.clear=Mi;Ci.prototype["delete"]=Fi;Ci.prototype.get=Ni;Ci.prototype.has=Ri;Ci.prototype.set=ji;function qi(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function Ii(){this.__data__=[];this.size=0}function Di(t){var e=this.__data__,n=lr(e,t);if(n<0){return false}var i=e.length-1;if(n==i){e.pop()}else{xe.call(e,n,1)}--this.size;return true}function Li(t){var e=this.__data__,n=lr(e,t);return n<0?o:e[n][1]}function Bi(t){return lr(this.__data__,t)>-1}function Ui(t,e){var n=this.__data__,i=lr(n,t);if(i<0){++this.size;n.push([t,e])}else{n[i][1]=e}return this}qi.prototype.clear=Ii;qi.prototype["delete"]=Di;qi.prototype.get=Li;qi.prototype.has=Bi;qi.prototype.set=Ui;function Vi(t){var e=-1,n=t==null?0:t.length;this.clear();while(++e<n){var i=t[e];this.set(i[0],i[1])}}function zi(){this.size=0;this.__data__={hash:new Ci,map:new(Je||qi),string:new Ci}}function Wi(t){var e=Ws(this,t)["delete"](t);this.size-=e?1:0;return e}function Gi(t){return Ws(this,t).get(t)}function Qi(t){return Ws(this,t).has(t)}function $i(t,e){var n=Ws(this,t),i=n.size;n.set(t,e);this.size+=n.size==i?0:1;return this}Vi.prototype.clear=zi;Vi.prototype["delete"]=Wi;Vi.prototype.get=Gi;Vi.prototype.has=Qi;Vi.prototype.set=$i;function Hi(t){var e=-1,n=t==null?0:t.length;this.__data__=new Vi;while(++e<n){this.add(t[e])}}function Ki(t){this.__data__.set(t,c);return this}function Zi(t){return this.__data__.has(t)}Hi.prototype.add=Hi.prototype.push=Ki;Hi.prototype.has=Zi;function Xi(t){var e=this.__data__=new qi(t);this.size=e.size}function Yi(){this.__data__=new qi;this.size=0}function Ji(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}function tr(t){return this.__data__.get(t)}function er(t){return this.__data__.has(t)}function nr(t,e){var n=this.__data__;if(n instanceof qi){var i=n.__data__;if(!Je||i.length<a-1){i.push([t,e]);this.size=++n.size;return this}n=this.__data__=new Vi(i)}n.set(t,e);this.size=n.size;return this}Xi.prototype.clear=Yi;Xi.prototype["delete"]=Ji;Xi.prototype.get=tr;Xi.prototype.has=er;Xi.prototype.set=nr;function ir(t,e){var n=sc(t),i=!n&&oc(t),r=!n&&!i&&hc(t),o=!n&&!i&&!r&&Dc(t),s=n||i||r||o,a=s?Qn(t.length,re):[],u=a.length;for(var l in t){if((e||he.call(t,l))&&!(s&&(l=="length"||r&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||oa(l,u)))){a.push(l)}}return a}function rr(t){var e=t.length;return e?t[vo(0,e-1)]:o}function or(t,e){return Pa(is(t),yr(e,0,t.length))}function sr(t){return Pa(is(t))}function ar(t,e,n){if(n!==o&&!nc(t[e],n)||n===o&&!(e in t)){pr(t,e,n)}}function ur(t,e,n){var i=t[e];if(!(he.call(t,e)&&nc(i,n))||n===o&&!(e in t)){pr(t,e,n)}}function lr(t,e){var n=t.length;while(n--){if(nc(t[n][0],e)){return n}}return-1}function cr(t,e,n,i){wr(t,function(t,r,o){e(i,t,n(t),o)});return i}function hr(t,e){return t&&rs(e,bh(e),t)}function fr(t,e){return t&&rs(e,wh(e),t)}function pr(t,e,n){if(e=="__proto__"&&Ee){Ee(t,e,{configurable:true,enumerable:true,value:n,writable:true})}else{t[e]=n}}function dr(t,e){var i=-1,r=e.length,s=n(r),a=t==null;while(++i<r){s[i]=a?o:dh(t,e[i])}return s}function yr(t,e,n){if(t===t){if(n!==o){t=t<=n?t:n}if(e!==o){t=t>=e?t:e}}return t}function _r(t,e,n,i,r,s){var a,u=e&p,l=e&d,c=e&y;if(n){a=r?n(t,i,r,s):n(t)}if(a!==o){return a}if(!Tc(t)){return t}var h=sc(t);if(h){a=ta(t);if(!u){return is(t,a)}}else{var f=Zs(t),_=f==Z||f==X;if(hc(t)){return $o(t,u)}if(f==et||f==z||_&&!r){a=l||_?{}:ea(t);if(!u){return l?ss(t,fr(a,t)):os(t,hr(a,t))}}else{if(!Xe[f]){return r?t:{}}a=na(t,f,u)}}s||(s=new Xi);var v=s.get(t);if(v){return v}s.set(t,a);if(jc(t)){t.forEach(function(i){a.add(_r(i,e,n,i,t,s))});return a}if(kc(t)){t.forEach(function(i,r){a.set(r,_r(i,e,n,r,t,s))});return a}var m=c?l?Ls:Ds:l?wh:bh;var g=h?o:m(t);wn(g||t,function(i,r){if(g){r=i;i=t[r]}ur(a,r,_r(i,e,n,r,t,s))});return a}function vr(t){var e=bh(t);return function(n){return mr(n,t,e)}}function mr(t,e,n){var i=n.length;if(t==null){return!i}t=ne(t);while(i--){var r=n[i],s=e[r],a=t[r];if(a===o&&!(r in t)||!s(a)){return false}}return true}function gr(t,e,n){if(typeof t!="function"){throw new oe(l)}return Sa(function(){t.apply(o,n)},e)}function br(t,e,n,i){var r=-1,o=xn,s=true,u=t.length,l=[],c=e.length;if(!u){return l}if(n){e=Pn(e,Hn(n))}if(i){o=An;s=false}else if(e.length>=a){o=Zn;s=false;e=new Hi(e)}t:while(++r<u){var h=t[r],f=n==null?h:n(h);h=i||h!==0?h:0;if(s&&f===f){var p=c;while(p--){if(e[p]===f){continue t}}l.push(h)}else if(!o(e,f,i)){l.push(h)}}return l}var wr=ls(Cr);var Tr=ls(Mr,true);function Sr(t,e){var n=true;wr(t,function(t,i,r){n=!!e(t,i,r);return n});return n}function kr(t,e,n){var i=-1,r=t.length;while(++i<r){var s=t[i],a=e(s);if(a!=null&&(u===o?a===a&&!Ic(a):n(a,u))){var u=a,l=s}}return l}function xr(t,e,n,i){var r=t.length;n=Qc(n);if(n<0){n=-n>r?0:r+n}i=i===o||i>r?r:Qc(i);if(i<0){i+=r}i=n>i?0:$c(i);while(n<i){t[n++]=e}return t}function Ar(t,e){var n=[];wr(t,function(t,i,r){if(e(t,i,r)){n.push(t)}});return n}function Pr(t,e,n,i,r){var o=-1,s=t.length;n||(n=ra);r||(r=[]);while(++o<s){var a=t[o];if(e>0&&n(a)){if(e>1){Pr(a,e-1,n,i,r)}else{On(r,a)}}else if(!i){r[r.length]=a}}return r}var Or=cs();var Er=cs(true);function Cr(t,e){return t&&Or(t,e,bh)}function Mr(t,e){return t&&Er(t,e,bh)}function Fr(t,e){return kn(e,function(e){return gc(t[e])})}function Nr(t,e){e=zo(e,t);var n=0,i=e.length;while(t!=null&&n<i){t=t[Ea(e[n++])]}return n&&n==i?t:o}function Rr(t,e,n){var i=e(t);return sc(t)?i:On(i,n(t))}function jr(t){if(t==null){return t===o?ut:tt}return Oe&&Oe in ne(t)?$s(t):ma(t)}function qr(t,e){return t>e}function Ir(t,e){return t!=null&&he.call(t,e)}function Dr(t,e){return t!=null&&e in ne(t)}function Lr(t,e,n){return t>=Ue(e,n)&&t<Be(e,n)}function Br(t,e,i){var r=i?An:xn,s=t[0].length,a=t.length,u=a,l=n(a),c=Infinity,h=[];while(u--){var f=t[u];if(u&&e){f=Pn(f,Hn(e))}c=Ue(f.length,c);l[u]=!i&&(e||s>=120&&f.length>=120)?new Hi(u&&f):o}f=t[0];var p=-1,d=l[0];t:while(++p<s&&h.length<c){var y=f[p],_=e?e(y):y;y=i||y!==0?y:0;if(!(d?Zn(d,_):r(h,_,i))){u=a;while(--u){var v=l[u];if(!(v?Zn(v,_):r(t[u],_,i))){continue t}}if(d){d.push(_)}h.push(y)}}return h}function Ur(t,e,n,i){Cr(t,function(t,r,o){e(i,n(t),r,o)});return i}function Vr(t,e,n){e=zo(e,t);t=ba(t,e);var i=t==null?t:t[Ea(iu(e))];return i==null?o:gn(i,t,n)}function zr(t){return Sc(t)&&jr(t)==z}function Wr(t){return Sc(t)&&jr(t)==ht}function Gr(t){return Sc(t)&&jr(t)==$}function Qr(t,e,n,i,r){if(t===e){return true}if(t==null||e==null||!Sc(t)&&!Sc(e)){return t!==t&&e!==e}return $r(t,e,n,i,Qr,r)}function $r(t,e,n,i,r,o){var s=sc(t),a=sc(e),u=s?W:Zs(t),l=a?W:Zs(e);u=u==z?et:u;l=l==z?et:l;var c=u==et,h=l==et,f=u==l;if(f&&hc(t)){if(!hc(e)){return false}s=true;c=false}if(f&&!c){o||(o=new Xi);return s||Dc(t)?Rs(t,e,n,i,r,o):js(t,e,u,n,i,r,o)}if(!(n&_)){var p=c&&he.call(t,"__wrapped__"),d=h&&he.call(e,"__wrapped__");if(p||d){var y=p?t.value():t,v=d?e.value():e;o||(o=new Xi);return r(y,v,n,i,o)}}if(!f){return false}o||(o=new Xi);return qs(t,e,n,i,r,o)}function Hr(t){return Sc(t)&&Zs(t)==Y}function Kr(t,e,n,i){var r=n.length,s=r,a=!i;if(t==null){return!s}t=ne(t);while(r--){var u=n[r];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t)){return false}}while(++r<s){u=n[r];var l=u[0],c=t[l],h=u[1];if(a&&u[2]){if(c===o&&!(l in t)){return false}}else{var f=new Xi;if(i){var p=i(c,h,l,t,e,f)}if(!(p===o?Qr(h,c,_|v,i,f):p)){return false}}}return true}function Zr(t){if(!Tc(t)||ca(t)){return false}var e=gc(t)?ve:Kt;return e.test(Ca(t))}function Xr(t){return Sc(t)&&jr(t)==rt}function Yr(t){return Sc(t)&&Zs(t)==ot}function Jr(t){return Sc(t)&&wc(t.length)&&!!Ze[jr(t)]}function to(t){if(typeof t=="function"){return t}if(t==null){return Ef}if(typeof t=="object"){return sc(t)?so(t[0],t[1]):oo(t)}return Vf(t)}function eo(t){if(!fa(t)){return Le(t)}var e=[];for(var n in ne(t)){if(he.call(t,n)&&n!="constructor"){e.push(n)}}return e}function no(t){if(!Tc(t)){return va(t)}var e=fa(t),n=[];for(var i in t){if(!(i=="constructor"&&(e||!he.call(t,i)))){n.push(i)}}return n}function io(t,e){return t<e}function ro(t,e){var i=-1,r=uc(t)?n(t.length):[];wr(t,function(t,n,o){r[++i]=e(t,n,o)});return r}function oo(t){var e=Gs(t);if(e.length==1&&e[0][2]){return da(e[0][0],e[0][1])}return function(n){return n===t||Kr(n,t,e)}}function so(t,e){if(aa(t)&&pa(e)){return da(Ea(t),e)}return function(n){var i=dh(n,t);return i===o&&i===e?_h(n,t):Qr(e,i,_|v)}}function ao(t,e,n,i,r){if(t===e){return}Or(e,function(s,a){if(Tc(s)){r||(r=new Xi);uo(t,e,a,n,ao,i,r)}else{var u=i?i(ci(t,a),s,a+"",t,e,r):o;if(u===o){u=s}ar(t,a,u)}},wh)}function uo(t,e,n,i,r,s,a){var u=ci(t,n),l=ci(e,n),c=a.get(l);if(c){ar(t,n,c);return}var h=s?s(u,l,n+"",t,e,a):o;var f=h===o;if(f){var p=sc(l),d=!p&&hc(l),y=!p&&!d&&Dc(l);h=l;if(p||d||y){if(sc(u)){h=u}else if(lc(u)){h=is(u)}else if(d){f=false;h=$o(l,true)}else if(y){f=false;h=Yo(l,true)}else{h=[]}}else if(Fc(l)||oc(l)){h=u;if(oc(u)){h=Kc(u)}else if(!Tc(u)||i&&gc(u)){h=ea(l)}}else{f=false}}if(f){a.set(l,h);r(h,l,i,s,a);a["delete"](l)}ar(t,n,h)}function lo(t,e){var n=t.length;if(!n){return}e+=e<0?n:0;return oa(e,n)?t[e]:o}function co(t,e,n){var i=-1;e=Pn(e.length?e:[Ef],Hn(zs()));var r=ro(t,function(t,n,r){var o=Pn(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return Wn(r,function(t,e){return ts(t,e,n)})}function ho(t,e){return fo(t,e,function(e,n){return _h(t,n)})}function fo(t,e,n){var i=-1,r=e.length,o={};while(++i<r){var s=e[i],a=Nr(t,s);if(n(a,s)){So(o,zo(s,t),a)}}return o}function po(t){return function(e){return Nr(e,t)}}function yo(t,e,n,i){var r=i?Dn:In,o=-1,s=e.length,a=t;if(t===e){e=is(e)}if(n){a=Pn(t,Hn(n))}while(++o<s){var u=0,l=e[o],c=n?n(l):l;while((u=r(a,c,u,i))>-1){if(a!==t){xe.call(a,u,1)}xe.call(t,u,1)}}return t}function _o(t,e){var n=t?e.length:0,i=n-1;while(n--){var r=e[n];if(n==i||r!==o){var o=r;if(oa(r)){xe.call(t,r,1)}else{jo(t,r)}}}return t}function vo(t,e){return t+Re(Qe()*(e-t+1))}function mo(t,e,i,r){var o=-1,s=Be(Ne((e-t)/(i||1)),0),a=n(s);while(s--){a[r?s:++o]=t;t+=i}return a}function go(t,e){var n="";if(!t||e<1||e>q){return n}do{if(e%2){n+=t}e=Re(e/2);if(e){t+=t}}while(e);return n}function bo(t,e){return ka(ga(t,e,Ef),t+"")}function wo(t){return rr(Lh(t))}function To(t,e){var n=Lh(t);return Pa(n,yr(e,0,n.length))}function So(t,e,n,i){if(!Tc(t)){return t}e=zo(e,t);var r=-1,s=e.length,a=s-1,u=t;while(u!=null&&++r<s){var l=Ea(e[r]),c=n;if(r!=a){var h=u[l];c=i?i(h,l,u):o;if(c===o){c=Tc(h)?h:oa(e[r+1])?[]:{}}}ur(u,l,c);u=u[l]}return t}var ko=!un?Ef:function(t,e){un.set(t,e);return t};var xo=!Ee?Ef:function(t,e){return Ee(t,"toString",{configurable:true,enumerable:false,value:xf(e),writable:true})};function Ao(t){return Pa(Lh(t))}function Po(t,e,i){var r=-1,o=t.length;if(e<0){e=-e>o?0:o+e}i=i>o?o:i;if(i<0){i+=o}o=e>i?0:i-e>>>0;e>>>=0;var s=n(o);while(++r<o){s[r]=t[r+e]}return s}function Oo(t,e){var n;wr(t,function(t,i,r){n=e(t,i,r);return!n});return!!n}function Eo(t,e,n){var i=0,r=t==null?i:t.length;if(typeof e=="number"&&e===e&&r<=U){while(i<r){var o=i+r>>>1,s=t[o];if(s!==null&&!Ic(s)&&(n?s<=e:s<e)){i=o+1}else{r=o}}return r}return Co(t,e,Ef,n)}function Co(t,e,n,i){e=n(e);var r=0,s=t==null?0:t.length,a=e!==e,u=e===null,l=Ic(e),c=e===o;while(r<s){var h=Re((r+s)/2),f=n(t[h]),p=f!==o,d=f===null,y=f===f,_=Ic(f);if(a){var v=i||y}else if(c){v=y&&(i||p)}else if(u){v=y&&p&&(i||!d)}else if(l){v=y&&p&&!d&&(i||!_)}else if(d||_){v=false}else{v=i?f<=e:f<e}if(v){r=h+1}else{s=h}}return Ue(s,B)}function Mo(t,e){var n=-1,i=t.length,r=0,o=[];while(++n<i){var s=t[n],a=e?e(s):s;if(!n||!nc(a,u)){var u=a;o[r++]=s===0?0:s}}return o}function Fo(t){if(typeof t=="number"){return t}if(Ic(t)){return D}return+t}function No(t){if(typeof t=="string"){return t}if(sc(t)){return Pn(t,No)+""}if(Ic(t)){return gi?gi.call(t):""}var e=t+"";return e=="0"&&1/t==-j?"-0":e}function Ro(t,e,n){var i=-1,r=xn,o=t.length,s=true,u=[],l=u;if(n){s=false;r=An}else if(o>=a){var c=e?null:Os(t);if(c){return hi(c)}s=false;r=Zn;l=new Hi}else{l=e?[]:u}t:while(++i<o){var h=t[i],f=e?e(h):h;h=n||h!==0?h:0;if(s&&f===f){var p=l.length;while(p--){if(l[p]===f){continue t}}if(e){l.push(f)}u.push(h)}else if(!r(l,f,n)){if(l!==u){l.push(f)}u.push(h)}}return u}function jo(t,e){e=zo(e,t);t=ba(t,e);return t==null||delete t[Ea(iu(e))]}function qo(t,e,n,i){return So(t,e,n(Nr(t,e)),i)}function Io(t,e,n,i){var r=t.length,o=i?r:-1;while((i?o--:++o<r)&&e(t[o],o,t)){}return n?Po(t,i?0:o,i?o+1:r):Po(t,i?o+1:0,i?r:o)}function Do(t,e){var n=t;if(n instanceof Ai){n=n.value()}return En(e,function(t,e){return e.func.apply(e.thisArg,On([t],e.args))},n)}function Lo(t,e,i){var r=t.length;if(r<2){return r?Ro(t[0]):[]}var o=-1,s=n(r);while(++o<r){var a=t[o],u=-1;while(++u<r){if(u!=o){s[o]=br(s[o]||a,t[u],e,i)}}}return Ro(Pr(s,1),e,i)}function Bo(t,e,n){var i=-1,r=t.length,s=e.length,a={};while(++i<r){var u=i<s?e[i]:o;n(a,t[i],u)}return a}function Uo(t){return lc(t)?t:[]}function Vo(t){return typeof t=="function"?t:Ef}function zo(t,e){if(sc(t)){return t}return aa(t,e)?[t]:Oa(Xc(t))}var Wo=bo;function Go(t,e,n){var i=t.length;n=n===o?i:n;return!e&&n>=i?t:Po(t,e,n)}var Qo=Ce||function(t){return an.clearTimeout(t)};function $o(t,e){if(e){return t.slice()}var n=t.length,i=we?we(n):new t.constructor(n);t.copy(i);return i}function Ho(t){var e=new t.constructor(t.byteLength);new be(e).set(new be(t));return e}function Ko(t,e){var n=e?Ho(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Zo(t){var e=new t.constructor(t.source,Qt.exec(t));e.lastIndex=t.lastIndex;return e}function Xo(t){return mi?ne(mi.call(t)):{}}function Yo(t,e){var n=e?Ho(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Jo(t,e){if(t!==e){var n=t!==o,i=t===null,r=t===t,s=Ic(t);var a=e!==o,u=e===null,l=e===e,c=Ic(e);if(!u&&!c&&!s&&t>e||s&&a&&l&&!u&&!c||i&&a&&l||!n&&l||!r){return 1}if(!i&&!s&&!c&&t<e||c&&n&&r&&!i&&!s||u&&n&&r||!a&&r||!l){return-1}}return 0}function ts(t,e,n){var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;while(++i<s){var u=Jo(r[i],o[i]);if(u){if(i>=a){return u}var l=n[i];return u*(l=="desc"?-1:1)}}return t.index-e.index}function es(t,e,i,r){var o=-1,s=t.length,a=i.length,u=-1,l=e.length,c=Be(s-a,0),h=n(l+c),f=!r;while(++u<l){h[u]=e[u]}while(++o<a){if(f||o<s){h[i[o]]=t[o]}}while(c--){h[u++]=t[o++]}return h}function ns(t,e,i,r){var o=-1,s=t.length,a=-1,u=i.length,l=-1,c=e.length,h=Be(s-u,0),f=n(h+c),p=!r;while(++o<h){f[o]=t[o]}var d=o;while(++l<c){f[d+l]=e[l]}while(++a<u){if(p||o<s){f[d+i[a]]=t[o++]}}return f}function is(t,e){var i=-1,r=t.length;e||(e=n(r));while(++i<r){e[i]=t[i]}return e}function rs(t,e,n,i){var r=!n;n||(n={});var s=-1,a=e.length;while(++s<a){var u=e[s];var l=i?i(n[u],t[u],u,n,t):o;if(l===o){l=t[u]}if(r){pr(n,u,l)}else{ur(n,u,l)}}return n}function os(t,e){return rs(t,Hs(t),e)}function ss(t,e){return rs(t,Ks(t),e)}function as(t,e){return function(n,i){var r=sc(n)?bn:cr,o=e?e():{};return r(n,t,zs(i,2),o)}}function us(t){return bo(function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:o,a=r>2?n[2]:o;s=t.length>3&&typeof s=="function"?(r--,s):o;if(a&&sa(n[0],n[1],a)){s=r<3?o:s;r=1}e=ne(e);while(++i<r){var u=n[i];if(u){t(e,u,i,s)}}return e})}function ls(t,e){return function(n,i){if(n==null){return n}if(!uc(n)){return t(n,i)}var r=n.length,o=e?r:-1,s=ne(n);while(e?o--:++o<r){if(i(s[o],o,s)===false){break}}return n}}function cs(t){return function(e,n,i){var r=-1,o=ne(e),s=i(e),a=s.length;while(a--){var u=s[t?a:++r];if(n(o[u],u,o)===false){break}}return e}}function hs(t,e,n){var i=e&m,r=ds(t);function o(){var e=this&&this!==an&&this instanceof o?r:t;return e.apply(i?n:this,arguments)}return o}function fs(t){return function(e){e=Xc(e);var n=ri(e)?_i(e):o;var i=n?n[0]:e.charAt(0);var r=n?Go(n,1).join(""):e.slice(1);return i[t]()+r}}function ps(t){return function(e){return En(bf(Qh(e).replace(Ve,"")),t,"")}}function ds(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Si(t.prototype),i=t.apply(n,e);return Tc(i)?i:n}}function ys(t,e,i){var r=ds(t);function s(){var a=arguments.length,u=n(a),l=a,c=Vs(s);while(l--){u[l]=arguments[l]}var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:li(u,c);a-=h.length;if(a<i){return As(t,e,ms,s.placeholder,o,u,h,o,o,i-a)}var f=this&&this!==an&&this instanceof s?r:t;return gn(f,this,u)}return s}function _s(t){return function(e,n,i){var r=ne(e);if(!uc(e)){var s=zs(n,3);e=bh(e);n=function(t){return s(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[s?e[a]:a]:o}}function vs(t){return Is(function(e){var n=e.length,i=n,r=xi.prototype.thru;if(t){e.reverse()}while(i--){var s=e[i];if(typeof s!="function"){throw new oe(l)}if(r&&!a&&Us(s)=="wrapper"){var a=new xi([],true)}}i=a?i:n;while(++i<n){s=e[i];var u=Us(s),c=u=="wrapper"?Bs(s):o;if(c&&la(c[0])&&c[1]==(x|w|S|A)&&!c[4].length&&c[9]==1){a=a[Us(c[0])].apply(a,c[3])}else{a=s.length==1&&la(s)?a[u]():a.thru(s)}}return function(){var t=arguments,i=t[0];if(a&&t.length==1&&sc(i)){return a.plant(i).value()}var r=0,o=n?e[r].apply(this,t):i;while(++r<n){o=e[r].call(this,o)}return o}})}function ms(t,e,i,r,s,a,u,l,c,h){var f=e&x,p=e&m,d=e&g,y=e&(w|T),_=e&P,v=d?o:ds(t);function b(){var o=arguments.length,m=n(o),g=o;while(g--){m[g]=arguments[g]}if(y){var w=Vs(b),T=Jn(m,w)}if(r){m=es(m,r,s,y)}if(a){m=ns(m,a,u,y)}o-=T;if(y&&o<h){var S=li(m,w);return As(t,e,ms,b.placeholder,i,m,S,l,c,h-o)}var k=p?i:this,x=d?k[t]:t;o=m.length;if(l){m=wa(m,l)}else if(_&&o>1){m.reverse()}if(f&&c<o){m.length=c}if(this&&this!==an&&this instanceof b){x=v||ds(x)}return x.apply(k,m)}return b}function gs(t,e){return function(n,i){return Ur(n,t,e(i),{})}}function bs(t,e){return function(n,i){var r;if(n===o&&i===o){return e}if(n!==o){r=n}if(i!==o){if(r===o){return i}if(typeof n=="string"||typeof i=="string"){n=No(n);i=No(i)}else{n=Fo(n);i=Fo(i)}r=t(n,i)}return r}}function ws(t){return Is(function(e){e=Pn(e,Hn(zs()));return bo(function(n){var i=this;return t(e,function(t){return gn(t,i,n)})})})}function Ts(t,e){e=e===o?" ":No(e);var n=e.length;if(n<2){return n?go(e,t):e}var i=go(e,Ne(t/yi(e)));return ri(e)?Go(_i(i),0,t).join(""):i.slice(0,t)}function Ss(t,e,i,r){var o=e&m,s=ds(t);function a(){var e=-1,u=arguments.length,l=-1,c=r.length,h=n(c+u),f=this&&this!==an&&this instanceof a?s:t;while(++l<c){h[l]=r[l]}while(u--){h[l++]=arguments[++e]}return gn(f,o?i:this,h)}return a}function ks(t){return function(e,n,i){if(i&&typeof i!="number"&&sa(e,n,i)){n=i=o}e=Gc(e);if(n===o){n=e;e=0}else{n=Gc(n)}i=i===o?e<n?1:-1:Gc(i);return mo(e,n,i,t)}}function xs(t){return function(e,n){if(!(typeof e=="string"&&typeof n=="string")){e=Hc(e);n=Hc(n)}return t(e,n)}}function As(t,e,n,i,r,s,a,u,l,c){var h=e&w,f=h?a:o,p=h?o:a,d=h?s:o,y=h?o:s;e|=h?S:k;e&=~(h?k:S);if(!(e&b)){e&=~(m|g)}var _=[t,e,r,d,f,y,p,u,l,c];var v=n.apply(o,_);if(la(t)){Ta(v,_)}v.placeholder=i;return xa(v,t,e)}function Ps(t){var e=ee[t];return function(t,n){t=Hc(t);n=n==null?0:Ue(Qc(n),292);if(n){var i=(Xc(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));i=(Xc(r)+"e").split("e");return+(i[0]+"e"+(+i[1]-n))}return e(t)}}var Os=!(en&&1/hi(new en([,-0]))[1]==j)?If:function(t){return new en(t)};function Es(t){return function(e){var n=Zs(e);if(n==Y){return ai(e)}if(n==ot){return fi(e)}return $n(e,t(e))}}function Cs(t,e,n,i,r,s,a,u){var c=e&g;if(!c&&typeof t!="function"){throw new oe(l)}var h=i?i.length:0;if(!h){e&=~(S|k);i=r=o}a=a===o?a:Be(Qc(a),0);u=u===o?u:Qc(u);h-=r?r.length:0;if(e&k){var f=i,p=r;i=r=o}var d=c?o:Bs(t);var y=[t,e,n,i,r,f,p,s,a,u];if(d){_a(y,d)}t=y[0];e=y[1];n=y[2];i=y[3];r=y[4];u=y[9]=y[9]===o?c?0:t.length:Be(y[9]-h,0);if(!u&&e&(w|T)){e&=~(w|T)}if(!e||e==m){var _=hs(t,e,n)}else if(e==w||e==T){_=ys(t,e,u)}else if((e==S||e==(m|S))&&!r.length){_=Ss(t,e,n,i)}else{_=ms.apply(o,y)}var v=d?ko:Ta;return xa(v(_,y),t,e)}function Ms(t,e,n,i){if(t===o||nc(t,ue[n])&&!he.call(i,n)){return e}return t}function Fs(t,e,n,i,r,s){if(Tc(t)&&Tc(e)){s.set(e,t);ao(t,e,o,Fs,s);s["delete"](e)}return t}function Ns(t){return Fc(t)?o:t}function Rs(t,e,n,i,r,s){var a=n&_,u=t.length,l=e.length;if(u!=l&&!(a&&l>u)){return false}var c=s.get(t);if(c&&s.get(e)){return c==e}var h=-1,f=true,p=n&v?new Hi:o;s.set(t,e);s.set(e,t);while(++h<u){var d=t[h],y=e[h];if(i){var m=a?i(y,d,h,e,t,s):i(d,y,h,t,e,s)}if(m!==o){if(m){continue}f=false;break}if(p){if(!Mn(e,function(t,e){if(!Zn(p,e)&&(d===t||r(d,t,n,i,s))){return p.push(e)}})){f=false;break}}else if(!(d===y||r(d,y,n,i,s))){f=false;break}}s["delete"](t);s["delete"](e);return f}function js(t,e,n,i,r,o,s){switch(n){case ft:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset){return false}t=t.buffer;e=e.buffer;case ht:if(t.byteLength!=e.byteLength||!o(new be(t),new be(e))){return false}return true;case Q:case $:case J:return nc(+t,+e);case K:return t.name==e.name&&t.message==e.message;case rt:case st:return t==e+"";case Y:var a=ai;case ot:var u=i&_;a||(a=hi);if(t.size!=e.size&&!u){return false}var l=s.get(t);if(l){return l==e}i|=v;s.set(t,e);var c=Rs(a(t),a(e),i,r,o,s);s["delete"](t);return c;case at:if(mi){return mi.call(t)==mi.call(e)}}return false}function qs(t,e,n,i,r,s){var a=n&_,u=Ds(t),l=u.length,c=Ds(e),h=c.length;if(l!=h&&!a){return false}var f=l;while(f--){var p=u[f];if(!(a?p in e:he.call(e,p))){return false}}var d=s.get(t);if(d&&s.get(e)){return d==e}var y=true;s.set(t,e);s.set(e,t);var v=a;while(++f<l){p=u[f];var m=t[p],g=e[p];if(i){var b=a?i(g,m,p,e,t,s):i(m,g,p,t,e,s)}if(!(b===o?m===g||r(m,g,n,i,s):b)){y=false;break}v||(v=p=="constructor")}if(y&&!v){var w=t.constructor,T=e.constructor;if(w!=T&&("constructor"in t&&"constructor"in e)&&!(typeof w=="function"&&w instanceof w&&typeof T=="function"&&T instanceof T)){y=false}}s["delete"](t);s["delete"](e);return y}function Is(t){return ka(ga(t,o,Qa),t+"")}function Ds(t){return Rr(t,bh,Hs)}function Ls(t){return Rr(t,wh,Ks)}var Bs=!un?If:function(t){return un.get(t)};function Us(t){var e=t.name+"",n=ln[e],i=he.call(ln,e)?n.length:0;while(i--){var r=n[i],o=r.func;if(o==null||o==t){return r.name}}return e}function Vs(t){var e=he.call(wi,"placeholder")?wi:t;return e.placeholder}function zs(){var t=wi.iteratee||Cf;t=t===Cf?to:t;return arguments.length?t(arguments[0],arguments[1]):t}function Ws(t,e){var n=t.__data__;return ua(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Gs(t){var e=bh(t),n=e.length;while(n--){var i=e[n],r=t[i];e[n]=[i,r,pa(r)]}return e}function Qs(t,e){var n=ii(t,e);return Zr(n)?n:o}function $s(t){var e=he.call(t,Oe),n=t[Oe];try{t[Oe]=o;var i=true}catch(t){}var r=de.call(t);if(i){if(e){t[Oe]=n}else{delete t[Oe]}}return r}var Hs=!je?Qf:function(t){if(t==null){return[]}t=ne(t);return kn(je(t),function(e){return ke.call(t,e)})};var Ks=!je?Qf:function(t){var e=[];while(t){On(e,Hs(t));t=Te(t)}return e};var Zs=jr;if(Ye&&Zs(new Ye(new ArrayBuffer(1)))!=ft||Je&&Zs(new Je)!=Y||tn&&Zs(tn.resolve())!=nt||en&&Zs(new en)!=ot||on&&Zs(new on)!=lt){Zs=function(t){var e=jr(t),n=e==et?t.constructor:o,i=n?Ca(n):"";if(i){switch(i){case hn:return ft;case fn:return Y;case Fn:return nt;case Nn:return ot;case Vn:return lt}}return e}}function Xs(t,e,n){var i=-1,r=n.length;while(++i<r){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Ue(e,t+s);break;case"takeRight":t=Be(t,e-s);break}}return{start:t,end:e}}function Ys(t){var e=t.match(Ut);return e?e[1].split(Vt):[]}function Js(t,e,n){e=zo(e,t);var i=-1,r=e.length,o=false;while(++i<r){var s=Ea(e[i]);if(!(o=t!=null&&n(t,s))){break}t=t[s]}if(o||++i!=r){return o}r=t==null?0:t.length;return!!r&&wc(r)&&oa(s,r)&&(sc(t)||oc(t))}function ta(t){var e=t.length,n=new t.constructor(e);if(e&&typeof t[0]=="string"&&he.call(t,"index")){n.index=t.index;n.input=t.input}return n}function ea(t){return typeof t.constructor=="function"&&!fa(t)?Si(Te(t)):{}}function na(t,e,n){var i=t.constructor;switch(e){case ht:return Ho(t);case Q:case $:return new i(+t);case ft:return Ko(t,n);case pt:case dt:case yt:case _t:case vt:case mt:case gt:case bt:case wt:return Yo(t,n);case Y:return new i;case J:case st:return new i(t);case rt:return Zo(t);case ot:return new i;case at:return Xo(t)}}function ia(t,e){var n=e.length;if(!n){return t}var i=n-1;e[i]=(n>1?"& ":"")+e[i];e=e.join(n>2?", ":" ");return t.replace(Bt,"{\n/* [wrapped with "+e+"] */\n")}function ra(t){return sc(t)||oc(t)||!!(Ae&&t&&t[Ae])}function oa(t,e){var n=typeof t;e=e==null?q:e;return!!e&&(n=="number"||n!="symbol"&&Xt.test(t))&&(t>-1&&t%1==0&&t<e)}function sa(t,e,n){if(!Tc(n)){return false}var i=typeof e;if(i=="number"?uc(n)&&oa(e,n.length):i=="string"&&e in n){return nc(n[e],t)}return false}function aa(t,e){if(sc(t)){return false}var n=typeof t;if(n=="number"||n=="symbol"||n=="boolean"||t==null||Ic(t)){return true}return Nt.test(t)||!Ft.test(t)||e!=null&&t in ne(e)}function ua(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function la(t){var e=Us(t),n=wi[e];if(typeof n!="function"||!(e in Ai.prototype)){return false}if(t===n){return true}var i=Bs(n);return!!i&&t===i[0]}function ca(t){return!!pe&&pe in t}var ha=le?gc:$f;function fa(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ue;return t===n}function pa(t){return t===t&&!Tc(t)}function da(t,e){return function(n){if(n==null){return false}return n[t]===e&&(e!==o||t in ne(n))}}function ya(t){var e=Dl(t,function(t){if(n.size===h){n.clear()}return t});var n=e.cache;return e}function _a(t,e){var n=t[1],i=e[1],r=n|i,o=r<(m|g|x);var s=i==x&&n==w||i==x&&n==A&&t[7].length<=e[8]||i==(x|A)&&e[7].length<=e[8]&&n==w;if(!(o||s)){return t}if(i&m){t[2]=e[2];r|=n&m?0:b}var a=e[3];if(a){var u=t[3];t[3]=u?es(u,a,e[4]):a;t[4]=u?li(t[3],f):e[4]}a=e[5];if(a){u=t[5];t[5]=u?ns(u,a,e[6]):a;t[6]=u?li(t[5],f):e[6]}a=e[7];if(a){t[7]=a}if(i&x){t[8]=t[8]==null?e[8]:Ue(t[8],e[8])}if(t[9]==null){t[9]=e[9]}t[0]=e[0];t[1]=r;return t}function va(t){var e=[];if(t!=null){for(var n in ne(t)){e.push(n)}}return e}function ma(t){return de.call(t)}function ga(t,e,i){e=Be(e===o?t.length-1:e,0);return function(){var r=arguments,o=-1,s=Be(r.length-e,0),a=n(s);while(++o<s){a[o]=r[e+o]}o=-1;var u=n(e+1);while(++o<e){u[o]=r[o]}u[e]=i(a);return gn(t,this,u)}}function ba(t,e){return e.length<2?t:Nr(t,Po(e,0,-1))}function wa(t,e){var n=t.length,i=Ue(e.length,n),r=is(t);while(i--){var s=e[i];t[i]=oa(s,n)?r[s]:o}return t}var Ta=Aa(ko);var Sa=Fe||function(t,e){return an.setTimeout(t,e)};var ka=Aa(xo);function xa(t,e,n){var i=e+"";return ka(t,ia(i,Ma(Ys(i),n)))}function Aa(t){var e=0,n=0;return function(){var i=We(),r=M-(i-n);n=i;if(r>0){if(++e>=C){return arguments[0]}}else{e=0}return t.apply(o,arguments)}}function Pa(t,e){var n=-1,i=t.length,r=i-1;e=e===o?i:e;while(++n<e){var s=vo(n,r),a=t[s];t[s]=t[n];t[n]=a}t.length=e;return t}var Oa=ya(function(t){var e=[];if(t.charCodeAt(0)===46){e.push("")}t.replace(Rt,function(t,n,i,r){e.push(i?r.replace(Wt,"$1"):n||t)});return e});function Ea(t){if(typeof t=="string"||Ic(t)){return t}var e=t+"";return e=="0"&&1/t==-j?"-0":e}function Ca(t){if(t!=null){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ma(t,e){wn(V,function(n){var i="_."+n[0];if(e&n[1]&&!xn(t,i)){t.push(i)}});return t.sort()}function Fa(t){if(t instanceof Ai){return t.clone()}var e=new xi(t.__wrapped__,t.__chain__);e.__actions__=is(t.__actions__);e.__index__=t.__index__;e.__values__=t.__values__;return e}function Na(t,e,i){if(i?sa(t,e,i):e===o){e=1}else{e=Be(Qc(e),0)}var r=t==null?0:t.length;if(!r||e<1){return[]}var s=0,a=0,u=n(Ne(r/e));while(s<r){u[a++]=Po(t,s,s+=e)}return u}function Ra(t){var e=-1,n=t==null?0:t.length,i=0,r=[];while(++e<n){var o=t[e];if(o){r[i++]=o}}return r}function ja(){var t=arguments.length;if(!t){return[]}var e=n(t-1),i=arguments[0],r=t;while(r--){e[r-1]=arguments[r]}return On(sc(i)?is(i):[i],Pr(e,1))}var qa=bo(function(t,e){return lc(t)?br(t,Pr(e,1,lc,true)):[]});var Ia=bo(function(t,e){var n=iu(e);if(lc(n)){n=o}return lc(t)?br(t,Pr(e,1,lc,true),zs(n,2)):[]});var Da=bo(function(t,e){var n=iu(e);if(lc(n)){n=o}return lc(t)?br(t,Pr(e,1,lc,true),o,n):[]});function La(t,e,n){var i=t==null?0:t.length;if(!i){return[]}e=n||e===o?1:Qc(e);return Po(t,e<0?0:e,i)}function Ba(t,e,n){var i=t==null?0:t.length;if(!i){return[]}e=n||e===o?1:Qc(e);e=i-e;return Po(t,0,e<0?0:e)}function Ua(t,e){return t&&t.length?Io(t,zs(e,3),true,true):[]}function Va(t,e){return t&&t.length?Io(t,zs(e,3),true):[]}function za(t,e,n,i){var r=t==null?0:t.length;if(!r){return[]}if(n&&typeof n!="number"&&sa(t,e,n)){n=0;i=r}return xr(t,e,n,i)}function Wa(t,e,n){var i=t==null?0:t.length;if(!i){return-1}var r=n==null?0:Qc(n);if(r<0){r=Be(i+r,0)}return qn(t,zs(e,3),r)}function Ga(t,e,n){var i=t==null?0:t.length;if(!i){return-1}var r=i-1;if(n!==o){r=Qc(n);r=n<0?Be(i+r,0):Ue(r,i-1)}return qn(t,zs(e,3),r,true)}function Qa(t){var e=t==null?0:t.length;return e?Pr(t,1):[]}function $a(t){var e=t==null?0:t.length;return e?Pr(t,j):[]}function Ha(t,e){var n=t==null?0:t.length;if(!n){return[]}e=e===o?1:Qc(e);return Pr(t,e)}function Ka(t){var e=-1,n=t==null?0:t.length,i={};while(++e<n){var r=t[e];i[r[0]]=r[1]}return i}function Za(t){return t&&t.length?t[0]:o}function Xa(t,e,n){var i=t==null?0:t.length;if(!i){return-1}var r=n==null?0:Qc(n);if(r<0){r=Be(i+r,0)}return In(t,e,r)}function Ya(t){var e=t==null?0:t.length;return e?Po(t,0,-1):[]}var Ja=bo(function(t){var e=Pn(t,Uo);return e.length&&e[0]===t[0]?Br(e):[]});var tu=bo(function(t){var e=iu(t),n=Pn(t,Uo);if(e===iu(n)){e=o}else{n.pop()}return n.length&&n[0]===t[0]?Br(n,zs(e,2)):[]});var eu=bo(function(t){var e=iu(t),n=Pn(t,Uo);e=typeof e=="function"?e:o;if(e){n.pop()}return n.length&&n[0]===t[0]?Br(n,o,e):[]});function nu(t,e){return t==null?"":De.call(t,e)}function iu(t){var e=t==null?0:t.length;return e?t[e-1]:o}function ru(t,e,n){var i=t==null?0:t.length;if(!i){return-1}var r=i;if(n!==o){r=Qc(n);r=r<0?Be(i+r,0):Ue(r,i-1)}return e===e?di(t,e,r):qn(t,Ln,r,true)}function ou(t,e){return t&&t.length?lo(t,Qc(e)):o}var su=bo(au);function au(t,e){return t&&t.length&&e&&e.length?yo(t,e):t}function uu(t,e,n){return t&&t.length&&e&&e.length?yo(t,e,zs(n,2)):t}function lu(t,e,n){return t&&t.length&&e&&e.length?yo(t,e,o,n):t}var cu=Is(function(t,e){var n=t==null?0:t.length,i=dr(t,e);_o(t,Pn(e,function(t){return oa(t,n)?+t:t}).sort(Jo));return i});function hu(t,e){var n=[];if(!(t&&t.length)){return n}var i=-1,r=[],o=t.length;e=zs(e,3);while(++i<o){var s=t[i];if(e(s,i,t)){n.push(s);r.push(i)}}_o(t,r);return n}function fu(t){return t==null?t:$e.call(t)}function pu(t,e,n){var i=t==null?0:t.length;if(!i){return[]}if(n&&typeof n!="number"&&sa(t,e,n)){e=0;n=i}else{e=e==null?0:Qc(e);n=n===o?i:Qc(n)}return Po(t,e,n)}function du(t,e){return Eo(t,e)}function yu(t,e,n){return Co(t,e,zs(n,2))}function _u(t,e){var n=t==null?0:t.length;if(n){var i=Eo(t,e);if(i<n&&nc(t[i],e)){return i}}return-1}function vu(t,e){return Eo(t,e,true)}function mu(t,e,n){return Co(t,e,zs(n,2),true)}function gu(t,e){var n=t==null?0:t.length;if(n){var i=Eo(t,e,true)-1;if(nc(t[i],e)){return i}}return-1}function bu(t){return t&&t.length?Mo(t):[]}function wu(t,e){return t&&t.length?Mo(t,zs(e,2)):[]}function Tu(t){var e=t==null?0:t.length;return e?Po(t,1,e):[]}function Su(t,e,n){if(!(t&&t.length)){return[]}e=n||e===o?1:Qc(e);return Po(t,0,e<0?0:e)}function ku(t,e,n){var i=t==null?0:t.length;if(!i){return[]}e=n||e===o?1:Qc(e);e=i-e;return Po(t,e<0?0:e,i)}function xu(t,e){return t&&t.length?Io(t,zs(e,3),false,true):[]}function Au(t,e){return t&&t.length?Io(t,zs(e,3)):[]}var Pu=bo(function(t){return Ro(Pr(t,1,lc,true))});var Ou=bo(function(t){var e=iu(t);if(lc(e)){e=o}return Ro(Pr(t,1,lc,true),zs(e,2))});var Eu=bo(function(t){var e=iu(t);e=typeof e=="function"?e:o;return Ro(Pr(t,1,lc,true),o,e)});function Cu(t){return t&&t.length?Ro(t):[]}function Mu(t,e){return t&&t.length?Ro(t,zs(e,2)):[]}function Fu(t,e){e=typeof e=="function"?e:o;return t&&t.length?Ro(t,o,e):[]}function Nu(t){if(!(t&&t.length)){return[]}var e=0;t=kn(t,function(t){if(lc(t)){e=Be(t.length,e);return true}});return Qn(e,function(e){return Pn(t,Un(e))})}function Ru(t,e){if(!(t&&t.length)){return[]}var n=Nu(t);if(e==null){return n}return Pn(n,function(t){return gn(e,o,t)})}var ju=bo(function(t,e){return lc(t)?br(t,e):[]});var qu=bo(function(t){return Lo(kn(t,lc))});var Iu=bo(function(t){var e=iu(t);if(lc(e)){e=o}return Lo(kn(t,lc),zs(e,2))});var Du=bo(function(t){var e=iu(t);e=typeof e=="function"?e:o;return Lo(kn(t,lc),o,e)});var Lu=bo(Nu);function Bu(t,e){return Bo(t||[],e||[],ur)}function Uu(t,e){return Bo(t||[],e||[],So)}var Vu=bo(function(t){var e=t.length,n=e>1?t[e-1]:o;n=typeof n=="function"?(t.pop(),n):o;return Ru(t,n)});function zu(t){var e=wi(t);e.__chain__=true;return e}function Wu(t,e){e(t);return t}function Gu(t,e){return e(t)}var Qu=Is(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return dr(e,t)};if(e>1||this.__actions__.length||!(i instanceof Ai)||!oa(n)){return this.thru(r)}i=i.slice(n,+n+(e?1:0));i.__actions__.push({func:Gu,args:[r],thisArg:o});return new xi(i,this.__chain__).thru(function(t){if(e&&!t.length){t.push(o)}return t})});function $u(){return zu(this)}function Hu(){return new xi(this.value(),this.__chain__)}function Ku(){if(this.__values__===o){this.__values__=Wc(this.value())}var t=this.__index__>=this.__values__.length,e=t?o:this.__values__[this.__index__++];return{done:t,value:e}}function Zu(){return this}function Xu(t){var e,n=this;while(n instanceof ki){var i=Fa(n);i.__index__=0;i.__values__=o;if(e){r.__wrapped__=i}else{e=i}var r=i;n=n.__wrapped__}r.__wrapped__=t;return e}function Yu(){var t=this.__wrapped__;if(t instanceof Ai){var e=t;if(this.__actions__.length){e=new Ai(this)}e=e.reverse();e.__actions__.push({func:Gu,args:[fu],thisArg:o});return new xi(e,this.__chain__)}return this.thru(fu)}function Ju(){return Do(this.__wrapped__,this.__actions__)}var tl=as(function(t,e,n){if(he.call(t,n)){++t[n]}else{pr(t,n,1)}});function el(t,e,n){var i=sc(t)?Sn:Sr;if(n&&sa(t,e,n)){e=o}return i(t,zs(e,3))}function nl(t,e){var n=sc(t)?kn:Ar;return n(t,zs(e,3))}var il=_s(Wa);var rl=_s(Ga);function ol(t,e){return Pr(dl(t,e),1)}function sl(t,e){return Pr(dl(t,e),j)}function al(t,e,n){n=n===o?1:Qc(n);return Pr(dl(t,e),n)}function ul(t,e){var n=sc(t)?wn:wr;return n(t,zs(e,3))}function ll(t,e){var n=sc(t)?Tn:Tr;return n(t,zs(e,3))}var cl=as(function(t,e,n){if(he.call(t,n)){t[n].push(e)}else{pr(t,n,[e])}});function hl(t,e,n,i){t=uc(t)?t:Lh(t);n=n&&!i?Qc(n):0;var r=t.length;if(n<0){n=Be(r+n,0)}return qc(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&In(t,e,n)>-1}var fl=bo(function(t,e,i){var r=-1,o=typeof e=="function",s=uc(t)?n(t.length):[];wr(t,function(t){s[++r]=o?gn(e,t,i):Vr(t,e,i)});return s});var pl=as(function(t,e,n){pr(t,n,e)});function dl(t,e){var n=sc(t)?Pn:ro;return n(t,zs(e,3))}function yl(t,e,n,i){if(t==null){return[]}if(!sc(e)){e=e==null?[]:[e]}n=i?o:n;if(!sc(n)){n=n==null?[]:[n]}return co(t,e,n)}var _l=as(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function vl(t,e,n){var i=sc(t)?En:zn,r=arguments.length<3;return i(t,zs(e,4),n,r,wr)}function ml(t,e,n){var i=sc(t)?Cn:zn,r=arguments.length<3;return i(t,zs(e,4),n,r,Tr)}function gl(t,e){var n=sc(t)?kn:Ar;return n(t,Ll(zs(e,3)))}function bl(t){var e=sc(t)?rr:wo;return e(t)}function wl(t,e,n){if(n?sa(t,e,n):e===o){e=1}else{e=Qc(e)}var i=sc(t)?or:To;return i(t,e)}function Tl(t){var e=sc(t)?sr:Ao;return e(t)}function Sl(t){if(t==null){return 0}if(uc(t)){return qc(t)?yi(t):t.length}var e=Zs(t);if(e==Y||e==ot){return t.size}return eo(t).length}function kl(t,e,n){var i=sc(t)?Mn:Oo;if(n&&sa(t,e,n)){e=o}return i(t,zs(e,3))}var xl=bo(function(t,e){if(t==null){return[]}var n=e.length;if(n>1&&sa(t,e[0],e[1])){e=[]}else if(n>2&&sa(e[0],e[1],e[2])){e=[e[0]]}return co(t,Pr(e,1),[])});var Al=Me||function(){return an.Date.now()};function Pl(t,e){if(typeof e!="function"){throw new oe(l)}t=Qc(t);return function(){if(--t<1){return e.apply(this,arguments)}}}function Ol(t,e,n){e=n?o:e;e=t&&e==null?t.length:e;return Cs(t,x,o,o,o,o,e)}function El(t,e){var n;if(typeof e!="function"){throw new oe(l)}t=Qc(t);return function(){if(--t>0){n=e.apply(this,arguments)}if(t<=1){e=o}return n}}var Cl=bo(function(t,e,n){var i=m;if(n.length){var r=li(n,Vs(Cl));i|=S}return Cs(t,i,e,n,r)});var Ml=bo(function(t,e,n){var i=m|g;if(n.length){var r=li(n,Vs(Ml));i|=S}return Cs(e,i,t,n,r)});function Fl(t,e,n){e=n?o:e;var i=Cs(t,w,o,o,o,o,o,e);i.placeholder=Fl.placeholder;return i}function Nl(t,e,n){e=n?o:e;var i=Cs(t,T,o,o,o,o,o,e);i.placeholder=Nl.placeholder;return i}function Rl(t,e,n){var i,r,s,a,u,c,h=0,f=false,p=false,d=true;if(typeof t!="function"){throw new oe(l)}e=Hc(e)||0;if(Tc(n)){f=!!n.leading;p="maxWait"in n;s=p?Be(Hc(n.maxWait)||0,e):s;d="trailing"in n?!!n.trailing:d}function y(e){var n=i,s=r;i=r=o;h=e;a=t.apply(s,n);return a}function _(t){h=t;u=Sa(g,e);return f?y(t):a}function v(t){var n=t-c,i=t-h,r=e-n;return p?Ue(r,s-i):r}function m(t){var n=t-c,i=t-h;return c===o||n>=e||n<0||p&&i>=s}function g(){var t=Al();if(m(t)){return b(t)}u=Sa(g,v(t))}function b(t){u=o;if(d&&i){return y(t)}i=r=o;return a}function w(){if(u!==o){Qo(u)}h=0;i=c=r=u=o}function T(){return u===o?a:b(Al())}function S(){var t=Al(),n=m(t);i=arguments;r=this;c=t;if(n){if(u===o){return _(c)}if(p){u=Sa(g,e);return y(c)}}if(u===o){u=Sa(g,e)}return a}S.cancel=w;S.flush=T;return S}var jl=bo(function(t,e){return gr(t,1,e)});var ql=bo(function(t,e,n){return gr(t,Hc(e)||0,n)});function Il(t){return Cs(t,P)}function Dl(t,e){if(typeof t!="function"||e!=null&&typeof e!="function"){throw new oe(l)}var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r)){return o.get(r)}var s=t.apply(this,i);n.cache=o.set(r,s)||o;return s};n.cache=new(Dl.Cache||Vi);return n}Dl.Cache=Vi;function Ll(t){if(typeof t!="function"){throw new oe(l)}return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Bl(t){return El(2,t)}var Ul=Wo(function(t,e){e=e.length==1&&sc(e[0])?Pn(e[0],Hn(zs())):Pn(Pr(e,1),Hn(zs()));var n=e.length;return bo(function(i){var r=-1,o=Ue(i.length,n);while(++r<o){i[r]=e[r].call(this,i[r])}return gn(t,this,i)})});var Vl=bo(function(t,e){var n=li(e,Vs(Vl));return Cs(t,S,o,e,n)});var zl=bo(function(t,e){var n=li(e,Vs(zl));return Cs(t,k,o,e,n)});var Wl=Is(function(t,e){return Cs(t,A,o,o,o,e)});function Gl(t,e){if(typeof t!="function"){throw new oe(l)}e=e===o?e:Qc(e);return bo(t,e)}function Ql(t,e){if(typeof t!="function"){throw new oe(l)}e=e==null?0:Be(Qc(e),0);return bo(function(n){var i=n[e],r=Go(n,0,e);if(i){On(r,i)}return gn(t,this,r)})}function $l(t,e,n){var i=true,r=true;if(typeof t!="function"){throw new oe(l)}if(Tc(n)){i="leading"in n?!!n.leading:i;r="trailing"in n?!!n.trailing:r}return Rl(t,e,{leading:i,maxWait:e,trailing:r})}function Hl(t){return Ol(t,1)}function Kl(t,e){return Vl(Vo(e),t)}function Zl(){if(!arguments.length){return[]}var t=arguments[0];return sc(t)?t:[t]}function Xl(t){return _r(t,y)}function Yl(t,e){e=typeof e=="function"?e:o;return _r(t,y,e)}function Jl(t){return _r(t,p|y)}function tc(t,e){e=typeof e=="function"?e:o;return _r(t,p|y,e)}function ec(t,e){return e==null||mr(t,e,bh(e))}function nc(t,e){return t===e||t!==t&&e!==e}var ic=xs(qr);var rc=xs(function(t,e){return t>=e});var oc=zr(function(){return arguments}())?zr:function(t){return Sc(t)&&he.call(t,"callee")&&!ke.call(t,"callee")};var sc=n.isArray;var ac=pn?Hn(pn):Wr;function uc(t){return t!=null&&wc(t.length)&&!gc(t)}function lc(t){return Sc(t)&&uc(t)}function cc(t){return t===true||t===false||Sc(t)&&jr(t)==Q}var hc=qe||$f;var fc=dn?Hn(dn):Gr;function pc(t){return Sc(t)&&t.nodeType===1&&!Fc(t)}function dc(t){if(t==null){return true}if(uc(t)&&(sc(t)||typeof t=="string"||typeof t.splice=="function"||hc(t)||Dc(t)||oc(t))){return!t.length}var e=Zs(t);if(e==Y||e==ot){return!t.size}if(fa(t)){return!eo(t).length}for(var n in t){if(he.call(t,n)){return false}}return true}function yc(t,e){return Qr(t,e)}function _c(t,e,n){n=typeof n=="function"?n:o;var i=n?n(t,e):o;return i===o?Qr(t,e,o,n):!!i}function vc(t){if(!Sc(t)){return false}var e=jr(t);return e==K||e==H||typeof t.message=="string"&&typeof t.name=="string"&&!Fc(t)}function mc(t){return typeof t=="number"&&Ie(t)}function gc(t){if(!Tc(t)){return false}var e=jr(t);return e==Z||e==X||e==G||e==it}function bc(t){return typeof t=="number"&&t==Qc(t)}function wc(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=q}function Tc(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Sc(t){return t!=null&&typeof t=="object"}var kc=yn?Hn(yn):Hr;function xc(t,e){return t===e||Kr(t,e,Gs(e))}function Ac(t,e,n){n=typeof n=="function"?n:o;return Kr(t,e,Gs(e),n)}function Pc(t){return Mc(t)&&t!=+t}function Oc(t){if(ha(t)){throw new r(u)}return Zr(t)}function Ec(t){return t===null}function Cc(t){return t==null}function Mc(t){return typeof t=="number"||Sc(t)&&jr(t)==J}function Fc(t){if(!Sc(t)||jr(t)!=et){return false}var e=Te(t);if(e===null){return true}var n=he.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ce.call(n)==ye}var Nc=_n?Hn(_n):Xr;function Rc(t){return bc(t)&&t>=-q&&t<=q}var jc=vn?Hn(vn):Yr;function qc(t){return typeof t=="string"||!sc(t)&&Sc(t)&&jr(t)==st}function Ic(t){return typeof t=="symbol"||Sc(t)&&jr(t)==at}var Dc=mn?Hn(mn):Jr;function Lc(t){return t===o}function Bc(t){return Sc(t)&&Zs(t)==lt}function Uc(t){return Sc(t)&&jr(t)==ct}var Vc=xs(io);var zc=xs(function(t,e){return t<=e});function Wc(t){if(!t){return[]}if(uc(t)){return qc(t)?_i(t):is(t)}if(Pe&&t[Pe]){return si(t[Pe]())}var e=Zs(t),n=e==Y?ai:e==ot?hi:Lh;return n(t)}function Gc(t){if(!t){return t===0?t:0}t=Hc(t);if(t===j||t===-j){var e=t<0?-1:1;return e*I}return t===t?t:0}function Qc(t){var e=Gc(t),n=e%1;return e===e?n?e-n:e:0}function $c(t){return t?yr(Qc(t),0,L):0}function Hc(t){if(typeof t=="number"){return t}if(Ic(t)){return D}if(Tc(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Tc(e)?e+"":e}if(typeof t!="string"){return t===0?t:+t}t=t.replace(It,"");var n=Ht.test(t);return n||Zt.test(t)?rn(t.slice(2),n?2:8):$t.test(t)?D:+t}function Kc(t){return rs(t,wh(t))}function Zc(t){return t?yr(Qc(t),-q,q):t===0?t:0}function Xc(t){return t==null?"":No(t)}var Yc=us(function(t,e){if(fa(e)||uc(e)){rs(e,bh(e),t);return}for(var n in e){if(he.call(e,n)){ur(t,n,e[n])}}});var Jc=us(function(t,e){rs(e,wh(e),t)});var th=us(function(t,e,n,i){rs(e,wh(e),t,i)});var eh=us(function(t,e,n,i){rs(e,bh(e),t,i)});var nh=Is(dr);function ih(t,e){var n=Si(t);return e==null?n:hr(n,e)}var rh=bo(function(t,e){t=ne(t);var n=-1;var i=e.length;var r=i>2?e[2]:o;if(r&&sa(e[0],e[1],r)){i=1}while(++n<i){var s=e[n];var a=wh(s);var u=-1;var l=a.length;while(++u<l){var c=a[u];var h=t[c];if(h===o||nc(h,ue[c])&&!he.call(t,c)){t[c]=s[c]}}}return t});var oh=bo(function(t){t.push(o,Fs);return gn(xh,o,t)});function sh(t,e){return jn(t,zs(e,3),Cr)}function ah(t,e){return jn(t,zs(e,3),Mr)}function uh(t,e){return t==null?t:Or(t,zs(e,3),wh)}function lh(t,e){return t==null?t:Er(t,zs(e,3),wh)}function ch(t,e){return t&&Cr(t,zs(e,3))}function hh(t,e){return t&&Mr(t,zs(e,3))}function fh(t){return t==null?[]:Fr(t,bh(t))}function ph(t){return t==null?[]:Fr(t,wh(t))}function dh(t,e,n){var i=t==null?o:Nr(t,e);return i===o?n:i}function yh(t,e){return t!=null&&Js(t,e,Ir)}function _h(t,e){return t!=null&&Js(t,e,Dr)}var vh=gs(function(t,e,n){if(e!=null&&typeof e.toString!="function"){e=de.call(e)}t[e]=n},xf(Ef));var mh=gs(function(t,e,n){if(e!=null&&typeof e.toString!="function"){e=de.call(e)}if(he.call(t,e)){t[e].push(n)}else{t[e]=[n]}},zs);var gh=bo(Vr);function bh(t){return uc(t)?ir(t):eo(t)}function wh(t){return uc(t)?ir(t,true):no(t)}function Th(t,e){var n={};e=zs(e,3);Cr(t,function(t,i,r){pr(n,e(t,i,r),t)});return n}function Sh(t,e){var n={};e=zs(e,3);Cr(t,function(t,i,r){pr(n,i,e(t,i,r))});return n}var kh=us(function(t,e,n){ao(t,e,n)});var xh=us(function(t,e,n,i){ao(t,e,n,i)});var Ah=Is(function(t,e){var n={};if(t==null){return n}var i=false;e=Pn(e,function(e){e=zo(e,t);i||(i=e.length>1);return e});rs(t,Ls(t),n);if(i){n=_r(n,p|d|y,Ns)}var r=e.length;while(r--){jo(n,e[r])}return n});function Ph(t,e){return Eh(t,Ll(zs(e)))}var Oh=Is(function(t,e){return t==null?{}:ho(t,e)});function Eh(t,e){if(t==null){return{}}var n=Pn(Ls(t),function(t){return[t]});e=zs(e);return fo(t,n,function(t,n){return e(t,n[0])})}function Ch(t,e,n){e=zo(e,t);var i=-1,r=e.length;if(!r){r=1;t=o}while(++i<r){var s=t==null?o:t[Ea(e[i])];if(s===o){i=r;s=n}t=gc(s)?s.call(t):s}return t}function Mh(t,e,n){return t==null?t:So(t,e,n)}function Fh(t,e,n,i){i=typeof i=="function"?i:o;return t==null?t:So(t,e,n,i)}var Nh=Es(bh);var Rh=Es(wh);function jh(t,e,n){var i=sc(t),r=i||hc(t)||Dc(t);e=zs(e,4);if(n==null){var o=t&&t.constructor;if(r){n=i?new o:[]}else if(Tc(t)){n=gc(o)?Si(Te(t)):{}}else{n={}}}(r?wn:Cr)(t,function(t,i,r){return e(n,t,i,r)});return n}function qh(t,e){return t==null?true:jo(t,e)}function Ih(t,e,n){return t==null?t:qo(t,e,Vo(n))}function Dh(t,e,n,i){i=typeof i=="function"?i:o;return t==null?t:qo(t,e,Vo(n),i)}function Lh(t){return t==null?[]:Kn(t,bh(t))}function Bh(t){return t==null?[]:Kn(t,wh(t))}function Uh(t,e,n){if(n===o){n=e;e=o}if(n!==o){n=Hc(n);n=n===n?n:0}if(e!==o){e=Hc(e);e=e===e?e:0}return yr(Hc(t),e,n)}function Vh(t,e,n){e=Gc(e);if(n===o){n=e;e=0}else{n=Gc(n)}t=Hc(t);return Lr(t,e,n)}function zh(t,e,n){if(n&&typeof n!="boolean"&&sa(t,e,n)){e=n=o}if(n===o){if(typeof e=="boolean"){n=e;e=o}else if(typeof t=="boolean"){n=t;t=o}}if(t===o&&e===o){t=0;e=1}else{t=Gc(t);if(e===o){e=t;t=0}else{e=Gc(e)}}if(t>e){var i=t;t=e;e=i}if(n||t%1||e%1){var r=Qe();return Ue(t+r*(e-t+nn("1e-"+((r+"").length-1))),e)}return vo(t,e)}var Wh=ps(function(t,e,n){e=e.toLowerCase();return t+(n?Gh(e):e)});function Gh(t){return gf(Xc(t).toLowerCase())}function Qh(t){t=Xc(t);return t&&t.replace(Yt,ti).replace(ze,"")}function $h(t,e,n){t=Xc(t);e=No(e);var i=t.length;n=n===o?i:yr(Qc(n),0,i);var r=n;n-=e.length;return n>=0&&t.slice(n,r)==e}function Hh(t){t=Xc(t);return t&&Ot.test(t)?t.replace(At,ei):t}function Kh(t){t=Xc(t);return t&&qt.test(t)?t.replace(jt,"\\$&"):t}var Zh=ps(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});var Xh=ps(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()});var Yh=fs("toLowerCase");function Jh(t,e,n){t=Xc(t);e=Qc(e);var i=e?yi(t):0;if(!e||i>=e){return t}var r=(e-i)/2;return Ts(Re(r),n)+t+Ts(Ne(r),n)}function tf(t,e,n){t=Xc(t);e=Qc(e);var i=e?yi(t):0;return e&&i<e?t+Ts(e-i,n):t}function ef(t,e,n){t=Xc(t);e=Qc(e);var i=e?yi(t):0;return e&&i<e?Ts(e-i,n)+t:t}function nf(t,e,n){if(n||e==null){e=0}else if(e){e=+e}return Ge(Xc(t).replace(Dt,""),e||0)}function rf(t,e,n){if(n?sa(t,e,n):e===o){e=1}else{e=Qc(e)}return go(Xc(t),e)}function of(){var t=arguments,e=Xc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var sf=ps(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function af(t,e,n){if(n&&typeof n!="number"&&sa(t,e,n)){e=n=o}n=n===o?L:n>>>0;if(!n){return[]}t=Xc(t);if(t&&(typeof e=="string"||e!=null&&!Nc(e))){e=No(e);if(!e&&ri(t)){return Go(_i(t),0,n)}}return t.split(e,n)}var uf=ps(function(t,e,n){return t+(n?" ":"")+gf(e)});function lf(t,e,n){t=Xc(t);n=n==null?0:yr(Qc(n),0,t.length);e=No(e);return t.slice(n,n+e.length)==e}function cf(t,e,n){var i=wi.templateSettings;if(n&&sa(t,e,n)){e=o}t=Xc(t);e=th({},e,i,Ms);var r=th({},e.imports,i.imports,Ms),s=bh(r),a=Kn(r,s);var u,l,c=0,h=e.interpolate||Jt,f="__p += '";var p=ie((e.escape||Jt).source+"|"+h.source+"|"+(h===Mt?Gt:Jt).source+"|"+(e.evaluate||Jt).source+"|$","g");var d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ke+"]")+"\n";t.replace(p,function(e,n,i,r,o,s){i||(i=r);f+=t.slice(c,s).replace(te,ni);if(n){u=true;f+="' +\n__e("+n+") +\n'"}if(o){l=true;f+="';\n"+o+";\n__p += '"}if(i){f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"}c=s+e.length;return e});f+="';\n";var y=e.variable;if(!y){f="with (obj) {\n"+f+"\n}\n"}f=(l?f.replace(Tt,""):f).replace(St,"$1").replace(kt,"$1;");f="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var _=wf(function(){return zt(s,d+"return "+f).apply(o,a)});_.source=f;if(vc(_)){throw _}return _}function hf(t){return Xc(t).toLowerCase()}function ff(t){return Xc(t).toUpperCase()}function pf(t,e,n){t=Xc(t);if(t&&(n||e===o)){return t.replace(It,"")}if(!t||!(e=No(e))){return t}var i=_i(t),r=_i(e),s=Xn(i,r),a=Yn(i,r)+1;return Go(i,s,a).join("")}function df(t,e,n){t=Xc(t);if(t&&(n||e===o)){return t.replace(Lt,"")}if(!t||!(e=No(e))){return t}var i=_i(t),r=Yn(i,_i(e))+1;return Go(i,0,r).join("")}function yf(t,e,n){t=Xc(t);if(t&&(n||e===o)){return t.replace(Dt,"")}if(!t||!(e=No(e))){return t}var i=_i(t),r=Xn(i,_i(e));return Go(i,r).join("")}function _f(t,e){var n=O,i=E;if(Tc(e)){var r="separator"in e?e.separator:r;n="length"in e?Qc(e.length):n;i="omission"in e?No(e.omission):i}t=Xc(t);var s=t.length;if(ri(t)){var a=_i(t);s=a.length}if(n>=s){return t}var u=n-yi(i);if(u<1){return i}var l=a?Go(a,0,u).join(""):t.slice(0,u);if(r===o){return l+i}if(a){u+=l.length-u}if(Nc(r)){if(t.slice(u).search(r)){var c,h=l;if(!r.global){r=ie(r.source,Xc(Qt.exec(r))+"g")}r.lastIndex=0;while(c=r.exec(h)){var f=c.index}l=l.slice(0,f===o?u:f)}}else if(t.indexOf(No(r),u)!=u){var p=l.lastIndexOf(r);if(p>-1){l=l.slice(0,p)}}return l+i}function vf(t){t=Xc(t);return t&&Pt.test(t)?t.replace(xt,vi):t}var mf=ps(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});var gf=fs("toUpperCase");function bf(t,e,n){t=Xc(t);e=n?o:e;if(e===o){return oi(t)?bi(t):Rn(t)}return t.match(e)||[]}var wf=bo(function(t,e){try{return gn(t,o,e)}catch(t){return vc(t)?t:new r(t)}});var Tf=Is(function(t,e){wn(e,function(e){e=Ea(e);pr(t,e,Cl(t[e],t))});return t});function Sf(t){var e=t==null?0:t.length,n=zs();t=!e?[]:Pn(t,function(t){if(typeof t[1]!="function"){throw new oe(l)}return[n(t[0]),t[1]]});return bo(function(n){var i=-1;while(++i<e){var r=t[i];if(gn(r[0],this,n)){return gn(r[1],this,n)}}})}function kf(t){return vr(_r(t,p))}function xf(t){return function(){return t}}function Af(t,e){return t==null||t!==t?e:t}var Pf=vs();var Of=vs(true);function Ef(t){return t}function Cf(t){return to(typeof t=="function"?t:_r(t,p))}function Mf(t){return oo(_r(t,p))}function Ff(t,e){return so(t,_r(e,p))}var Nf=bo(function(t,e){return function(n){return Vr(n,t,e)}});var Rf=bo(function(t,e){return function(n){return Vr(t,n,e)}});function jf(t,e,n){var i=bh(e),r=Fr(e,i);if(n==null&&!(Tc(e)&&(r.length||!i.length))){n=e;e=t;t=this;r=Fr(e,bh(e))}var o=!(Tc(n)&&"chain"in n)||!!n.chain,s=gc(t);wn(r,function(n){var i=e[n];t[n]=i;if(s){t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=is(this.__actions__);r.push({func:i,args:arguments,thisArg:t});n.__chain__=e;return n}return i.apply(t,On([this.value()],arguments))}}});return t}function qf(){if(an._===this){an._=_e}return this}function If(){}function Df(t){t=Qc(t);return bo(function(e){return lo(e,t)})}var Lf=ws(Pn);var Bf=ws(Sn);var Uf=ws(Mn);function Vf(t){return aa(t)?Un(Ea(t)):po(t)}function zf(t){return function(e){return t==null?o:Nr(t,e)}}var Wf=ks();var Gf=ks(true);function Qf(){return[]}function $f(){return false}function Hf(){return{}}function Kf(){return""}function Zf(){return true}function Xf(t,e){t=Qc(t);if(t<1||t>q){return[]}var n=L,i=Ue(t,L);e=zs(e);t-=L;var r=Qn(i,e);while(++n<t){e(n)}return r}function Yf(t){if(sc(t)){return Pn(t,Ea)}return Ic(t)?[t]:is(Oa(Xc(t)))}function Jf(t){var e=++fe;return Xc(t)+e}var tp=bs(function(t,e){return t+e},0);var ep=Ps("ceil");var np=bs(function(t,e){return t/e},1);var ip=Ps("floor");function rp(t){return t&&t.length?kr(t,Ef,qr):o}function op(t,e){return t&&t.length?kr(t,zs(e,2),qr):o}function sp(t){return Bn(t,Ef)}function ap(t,e){return Bn(t,zs(e,2))}function up(t){return t&&t.length?kr(t,Ef,io):o}function lp(t,e){return t&&t.length?kr(t,zs(e,2),io):o}var cp=bs(function(t,e){return t*e},1);var hp=Ps("round");var fp=bs(function(t,e){return t-e},0);function pp(t){return t&&t.length?Gn(t,Ef):0}function dp(t,e){return t&&t.length?Gn(t,zs(e,2)):0}wi.after=Pl;wi.ary=Ol;wi.assign=Yc;wi.assignIn=Jc;wi.assignInWith=th;wi.assignWith=eh;wi.at=nh;wi.before=El;wi.bind=Cl;wi.bindAll=Tf;wi.bindKey=Ml;wi.castArray=Zl;wi.chain=zu;wi.chunk=Na;wi.compact=Ra;wi.concat=ja;wi.cond=Sf;wi.conforms=kf;wi.constant=xf;wi.countBy=tl;wi.create=ih;wi.curry=Fl;wi.curryRight=Nl;wi.debounce=Rl;wi.defaults=rh;wi.defaultsDeep=oh;wi.defer=jl;wi.delay=ql;wi.difference=qa;wi.differenceBy=Ia;wi.differenceWith=Da;wi.drop=La;wi.dropRight=Ba;wi.dropRightWhile=Ua;wi.dropWhile=Va;wi.fill=za;wi.filter=nl;wi.flatMap=ol;wi.flatMapDeep=sl;wi.flatMapDepth=al;wi.flatten=Qa;wi.flattenDeep=$a;wi.flattenDepth=Ha;wi.flip=Il;wi.flow=Pf;wi.flowRight=Of;wi.fromPairs=Ka;wi.functions=fh;wi.functionsIn=ph;wi.groupBy=cl;wi.initial=Ya;wi.intersection=Ja;wi.intersectionBy=tu;wi.intersectionWith=eu;wi.invert=vh;wi.invertBy=mh;wi.invokeMap=fl;wi.iteratee=Cf;wi.keyBy=pl;wi.keys=bh;wi.keysIn=wh;wi.map=dl;wi.mapKeys=Th;wi.mapValues=Sh;wi.matches=Mf;wi.matchesProperty=Ff;wi.memoize=Dl;wi.merge=kh;wi.mergeWith=xh;wi.method=Nf;wi.methodOf=Rf;wi.mixin=jf;wi.negate=Ll;wi.nthArg=Df;wi.omit=Ah;wi.omitBy=Ph;wi.once=Bl;wi.orderBy=yl;wi.over=Lf;wi.overArgs=Ul;wi.overEvery=Bf;wi.overSome=Uf;wi.partial=Vl;wi.partialRight=zl;wi.partition=_l;wi.pick=Oh;wi.pickBy=Eh;wi.property=Vf;wi.propertyOf=zf;wi.pull=su;wi.pullAll=au;wi.pullAllBy=uu;wi.pullAllWith=lu;wi.pullAt=cu;wi.range=Wf;wi.rangeRight=Gf;wi.rearg=Wl;wi.reject=gl;wi.remove=hu;wi.rest=Gl;wi.reverse=fu;wi.sampleSize=wl;wi.set=Mh;wi.setWith=Fh;wi.shuffle=Tl;wi.slice=pu;wi.sortBy=xl;wi.sortedUniq=bu;wi.sortedUniqBy=wu;wi.split=af;wi.spread=Ql;wi.tail=Tu;wi.take=Su;wi.takeRight=ku;wi.takeRightWhile=xu;wi.takeWhile=Au;wi.tap=Wu;wi.throttle=$l;wi.thru=Gu;wi.toArray=Wc;wi.toPairs=Nh;wi.toPairsIn=Rh;wi.toPath=Yf;wi.toPlainObject=Kc;wi.transform=jh;wi.unary=Hl;wi.union=Pu;wi.unionBy=Ou;wi.unionWith=Eu;wi.uniq=Cu;wi.uniqBy=Mu;wi.uniqWith=Fu;wi.unset=qh;wi.unzip=Nu;wi.unzipWith=Ru;wi.update=Ih;wi.updateWith=Dh;wi.values=Lh;wi.valuesIn=Bh;wi.without=ju;wi.words=bf;wi.wrap=Kl;wi.xor=qu;wi.xorBy=Iu;wi.xorWith=Du;wi.zip=Lu;wi.zipObject=Bu;wi.zipObjectDeep=Uu;wi.zipWith=Vu;wi.entries=Nh;wi.entriesIn=Rh;wi.extend=Jc;wi.extendWith=th;jf(wi,wi);wi.add=tp;wi.attempt=wf;wi.camelCase=Wh;wi.capitalize=Gh;wi.ceil=ep;wi.clamp=Uh;wi.clone=Xl;wi.cloneDeep=Jl;wi.cloneDeepWith=tc;wi.cloneWith=Yl;wi.conformsTo=ec;wi.deburr=Qh;wi.defaultTo=Af;wi.divide=np;wi.endsWith=$h;wi.eq=nc;wi.escape=Hh;wi.escapeRegExp=Kh;wi.every=el;wi.find=il;wi.findIndex=Wa;wi.findKey=sh;wi.findLast=rl;wi.findLastIndex=Ga;wi.findLastKey=ah;wi.floor=ip;wi.forEach=ul;wi.forEachRight=ll;wi.forIn=uh;wi.forInRight=lh;wi.forOwn=ch;wi.forOwnRight=hh;wi.get=dh;wi.gt=ic;wi.gte=rc;wi.has=yh;wi.hasIn=_h;wi.head=Za;wi.identity=Ef;wi.includes=hl;wi.indexOf=Xa;wi.inRange=Vh;wi.invoke=gh;wi.isArguments=oc;wi.isArray=sc;wi.isArrayBuffer=ac;wi.isArrayLike=uc;wi.isArrayLikeObject=lc;wi.isBoolean=cc;wi.isBuffer=hc;wi.isDate=fc;wi.isElement=pc;wi.isEmpty=dc;wi.isEqual=yc;wi.isEqualWith=_c;wi.isError=vc;wi.isFinite=mc;wi.isFunction=gc;wi.isInteger=bc;wi.isLength=wc;wi.isMap=kc;wi.isMatch=xc;wi.isMatchWith=Ac;wi.isNaN=Pc;wi.isNative=Oc;wi.isNil=Cc;wi.isNull=Ec;wi.isNumber=Mc;wi.isObject=Tc;wi.isObjectLike=Sc;wi.isPlainObject=Fc;wi.isRegExp=Nc;wi.isSafeInteger=Rc;wi.isSet=jc;wi.isString=qc;wi.isSymbol=Ic;wi.isTypedArray=Dc;wi.isUndefined=Lc;wi.isWeakMap=Bc;wi.isWeakSet=Uc;wi.join=nu;wi.kebabCase=Zh;wi.last=iu;wi.lastIndexOf=ru;wi.lowerCase=Xh;wi.lowerFirst=Yh;wi.lt=Vc;wi.lte=zc;wi.max=rp;wi.maxBy=op;wi.mean=sp;wi.meanBy=ap;wi.min=up;wi.minBy=lp;wi.stubArray=Qf;wi.stubFalse=$f;wi.stubObject=Hf;wi.stubString=Kf;wi.stubTrue=Zf;wi.multiply=cp;wi.nth=ou;wi.noConflict=qf;wi.noop=If;wi.now=Al;wi.pad=Jh;wi.padEnd=tf;wi.padStart=ef;wi.parseInt=nf;wi.random=zh;wi.reduce=vl;wi.reduceRight=ml;wi.repeat=rf;wi.replace=of;wi.result=Ch;wi.round=hp;wi.runInContext=t;wi.sample=bl;wi.size=Sl;wi.snakeCase=sf;wi.some=kl;wi.sortedIndex=du;wi.sortedIndexBy=yu;wi.sortedIndexOf=_u;wi.sortedLastIndex=vu;wi.sortedLastIndexBy=mu;wi.sortedLastIndexOf=gu;wi.startCase=uf;wi.startsWith=lf;wi.subtract=fp;wi.sum=pp;wi.sumBy=dp;wi.template=cf;wi.times=Xf;wi.toFinite=Gc;wi.toInteger=Qc;wi.toLength=$c;wi.toLower=hf;wi.toNumber=Hc;wi.toSafeInteger=Zc;wi.toString=Xc;wi.toUpper=ff;wi.trim=pf;wi.trimEnd=df;wi.trimStart=yf;wi.truncate=_f;wi.unescape=vf;wi.uniqueId=Jf;wi.upperCase=mf;wi.upperFirst=gf;wi.each=ul;wi.eachRight=ll;wi.first=Za;jf(wi,function(){var t={};Cr(wi,function(e,n){if(!he.call(wi.prototype,n)){t[n]=e}});return t}(),{chain:false});wi.VERSION=s;wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){wi[t].placeholder=wi});wn(["drop","take"],function(t,e){Ai.prototype[t]=function(n){n=n===o?1:Be(Qc(n),0);var i=this.__filtered__&&!e?new Ai(this):this.clone();if(i.__filtered__){i.__takeCount__=Ue(n,i.__takeCount__)}else{i.__views__.push({size:Ue(n,L),type:t+(i.__dir__<0?"Right":"")})}return i};Ai.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}});wn(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==F||n==R;Ai.prototype[t]=function(t){var e=this.clone();e.__iteratees__.push({iteratee:zs(t,3),type:n});e.__filtered__=e.__filtered__||i;return e}});wn(["head","last"],function(t,e){var n="take"+(e?"Right":"");Ai.prototype[t]=function(){return this[n](1).value()[0]}});wn(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Ai.prototype[t]=function(){return this.__filtered__?new Ai(this):this[n](1)}});Ai.prototype.compact=function(){return this.filter(Ef)};Ai.prototype.find=function(t){return this.filter(t).head()};Ai.prototype.findLast=function(t){return this.reverse().find(t)};Ai.prototype.invokeMap=bo(function(t,e){if(typeof t=="function"){return new Ai(this)}return this.map(function(n){return Vr(n,t,e)})});Ai.prototype.reject=function(t){return this.filter(Ll(zs(t)))};Ai.prototype.slice=function(t,e){t=Qc(t);var n=this;if(n.__filtered__&&(t>0||e<0)){return new Ai(n)}if(t<0){n=n.takeRight(-t)}else if(t){n=n.drop(t)}if(e!==o){e=Qc(e);n=e<0?n.dropRight(-e):n.take(e-t)}return n};Ai.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};Ai.prototype.toArray=function(){return this.take(L)};Cr(Ai.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=wi[i?"take"+(e=="last"?"Right":""):e],s=i||/^find/.test(e);if(!r){return}wi.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,u=e instanceof Ai,l=a[0],c=u||sc(e);var h=function(t){var e=r.apply(wi,On([t],a));return i&&f?e[0]:e};if(c&&n&&typeof l=="function"&&l.length!=1){u=c=false}var f=this.__chain__,p=!!this.__actions__.length,d=s&&!f,y=u&&!p;if(!s&&c){e=y?e:new Ai(this);var _=t.apply(e,a);_.__actions__.push({func:Gu,args:[h],thisArg:o});return new xi(_,f)}if(d&&y){return t.apply(this,a)}_=this.thru(h);return d?i?_.value()[0]:_.value():_}});wn(["pop","push","shift","sort","splice","unshift"],function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);wi.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(sc(r)?r:[],t)}return this[n](function(n){return e.apply(sc(n)?n:[],t)})}});Cr(Ai.prototype,function(t,e){var n=wi[e];if(n){var i=n.name+"",r=ln[i]||(ln[i]=[]);r.push({name:e,func:n})}});ln[ms(o,g).name]=[{name:"wrapper",func:o}];Ai.prototype.clone=Pi;Ai.prototype.reverse=Oi;Ai.prototype.value=Ei;wi.prototype.at=Qu;wi.prototype.chain=$u;wi.prototype.commit=Hu;wi.prototype.next=Ku;wi.prototype.plant=Xu;wi.prototype.reverse=Yu;wi.prototype.toJSON=wi.prototype.valueOf=wi.prototype.value=Ju;wi.prototype.first=wi.prototype.head;if(Pe){wi.prototype[Pe]=Zu}return wi};var Ti=wi();if(true){an._=Ti;!(r=function(){return Ti}.call(e,n,e,i),r!==o&&(i.exports=r))}else if(ln){(ln.exports=Ti)._=Ti;un._=Ti}else{an._=Ti}}).call(this)}).call(e,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/webpack/buildin/module.js")(t))},"./node_modules/midimessage/dist/index.min.js":function(t,e,n){var i;var i;(function(e){if(true){t.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var n;if(typeof window!=="undefined"){n=window}else if(typeof global!=="undefined"){n=global}else if(typeof self!=="undefined"){n=self}else{n=this}n.midimessage=e()}})(function(){var t,e,n;return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var l=typeof i=="function"&&i;if(!u&&l)return i(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return o(n?n:t)},h,h.exports,t,e,n,r)}return n[a].exports}var s=typeof i=="function"&&i;for(var a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n["default"]=function(t){function e(t){this._event=t;this._data=t.data;this.receivedTime=t.receivedTime;if(this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}this._messageCode=t.data[0]&240;this.channel=t.data[0]&15;switch(this._messageCode){case 128:this.messageType="noteoff";this.key=t.data[1]&127;this.velocity=t.data[2]&127;break;case 144:this.messageType="noteon";this.key=t.data[1]&127;this.velocity=t.data[2]&127;break;case 160:this.messageType="keypressure";this.key=t.data[1]&127;this.pressure=t.data[2]&127;break;case 176:this.messageType="controlchange";this.controllerNumber=t.data[1]&127;this.controllerValue=t.data[2]&127;if(this.controllerNumber===120&&this.controllerValue===0){this.channelModeMessage="allsoundoff"}else if(this.controllerNumber===121){this.channelModeMessage="resetallcontrollers"}else if(this.controllerNumber===122){if(this.controllerValue===0){this.channelModeMessage="localcontroloff"}else{this.channelModeMessage="localcontrolon"}}else if(this.controllerNumber===123&&this.controllerValue===0){this.channelModeMessage="allnotesoff"}else if(this.controllerNumber===124&&this.controllerValue===0){this.channelModeMessage="omnimodeoff"}else if(this.controllerNumber===125&&this.controllerValue===0){this.channelModeMessage="omnimodeon"}else if(this.controllerNumber===126){this.channelModeMessage="monomodeon"}else if(this.controllerNumber===127){this.channelModeMessage="polymodeon"}break;case 192:this.messageType="programchange";this.program=t.data[1];break;case 208:this.messageType="channelpressure";this.pressure=t.data[1]&127;break;case 224:this.messageType="pitchbendchange";var e=t.data[2]&127;var n=t.data[1]&127;this.pitchBend=(e<<8)+n;break}}return new e(t)};e.exports=n["default"]},{}]},{},[1])(1)})},"./node_modules/note-parser/index.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});e["regex"]=l;e["parse"]=h;e["build"]=y;e["midi"]=_;e["freq"]=v;e["letter"]=m;e["acc"]=g;e["pc"]=b;e["step"]=w;e["alt"]=T;e["chroma"]=S;e["oct"]=k;function i(t,e){return Array(e+1).join(t)}function r(t){return typeof t==="number"}function o(t){return typeof t==="string"}function s(t){return typeof t!=="undefined"}function a(t,e){return Math.pow(2,(t-69)/12)*(e||440)}var u=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function l(){return u}var c=[0,2,4,5,7,9,11];function h(t,e,n){if(typeof t!=="string")return null;var i=u.exec(t);if(!i||!e&&i[4])return null;var r={letter:i[1].toUpperCase(),acc:i[2].replace(/x/g,"##")};r.pc=r.letter+r.acc;r.step=(r.letter.charCodeAt(0)+3)%7;r.alt=r.acc[0]==="b"?-r.acc.length:r.acc.length;var o=c[r.step]+r.alt;r.chroma=o<0?12+o:o%12;if(i[3]){r.oct=+i[3];r.midi=o+12*(r.oct+1);r.freq=a(r.midi,n)}if(e)r.tonicOf=i[4];return r}var f="CDEFGAB";function p(t){return!r(t)?"":t<0?i("b",-t):i("#",t)}function d(t){return!r(t)?"":""+t}function y(t,e,n){if(t===null||typeof t==="undefined")return null;if(t.step)return y(t.step,t.alt,t.oct);if(t<0||t>6)return null;return f.charAt(t)+p(e)+d(n)}function _(t){if((r(t)||o(t))&&t>=0&&t<128)return+t;var e=h(t);return e&&s(e.midi)?e.midi:null}function v(t,e){var n=_(t);return n===null?null:a(n,e)}function m(t){return(h(t)||{}).letter}function g(t){return(h(t)||{}).acc}function b(t){return(h(t)||{}).pc}function w(t){return(h(t)||{}).step}function T(t){return(h(t)||{}).alt}function S(t){return(h(t)||{}).chroma}function k(t){return(h(t)||{}).oct}},"./node_modules/object-assign/index.js":function(t,e,n){"use strict";var i=Object.getOwnPropertySymbols;var r=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function s(t){if(t===null||t===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(t)}function a(){try{if(!Object.assign){return false}var t=new String("abc");t[5]="de";if(Object.getOwnPropertyNames(t)[0]==="5"){return false}var e={};for(var n=0;n<10;n++){e["_"+String.fromCharCode(n)]=n}var i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if(i.join("")!=="0123456789"){return false}var r={};"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t});if(Object.keys(Object.assign({},r)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(t){return false}}t.exports=a()?Object.assign:function(t,e){var n;var a=s(t);var u;for(var l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n){if(r.call(n,c)){a[c]=n[c]}}if(i){u=i(n);for(var h=0;h<u.length;h++){if(o.call(n,u[h])){a[u[h]]=n[u[h]]}}}}return a}},"./node_modules/react-dom/cjs/react-dom.production.min.js":function(t,e,n){"use strict";var i=n("./node_modules/fbjs/lib/invariant.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/fbjs/lib/ExecutionEnvironment.js"),s=n("./node_modules/object-assign/index.js"),a=n("./node_modules/fbjs/lib/emptyFunction.js"),u=n("./node_modules/fbjs/lib/getActiveElement.js"),l=n("./node_modules/fbjs/lib/shallowEqual.js"),c=n("./node_modules/fbjs/lib/containsNode.js"),h=n("./node_modules/fbjs/lib/emptyObject.js");function f(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r?void 0:f("227");function p(t,e,n,i,r,o,s,a,u){this._hasCaughtError=!1;this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this._caughtError=t,this._hasCaughtError=!0}}var d={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(t,e,n,i,r,o,s,a,u){p.apply(d,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,i,r,o,s,a,u){d.invokeGuardedCallback.apply(this,arguments);if(d.hasCaughtError()){var l=d.clearCaughtError();d._hasRethrowError||(d._hasRethrowError=!0,d._rethrowError=l)}},rethrowCaughtError:function(){return y.apply(d,arguments)},hasCaughtError:function(){return d._hasCaughtError},clearCaughtError:function(){if(d._hasCaughtError){var t=d._caughtError;d._caughtError=null;d._hasCaughtError=!1;return t}f("198")}};function y(){if(d._hasRethrowError){var t=d._rethrowError;d._rethrowError=null;d._hasRethrowError=!1;throw t}}var _=null,v={};function m(){if(_)for(var t in v){var e=v[t],n=_.indexOf(t);-1<n?void 0:f("96",t);if(!b[n]){e.extractEvents?void 0:f("97",t);b[n]=e;n=e.eventTypes;for(var i in n){var r=void 0;var o=n[i],s=e,a=i;w.hasOwnProperty(a)?f("99",a):void 0;w[a]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&g(u[r],s,a);r=!0}else o.registrationName?(g(o.registrationName,s,a),r=!0):r=!1;r?void 0:f("98",i,t)}}}}function g(t,e,n){T[t]?f("100",t):void 0;T[t]=e;S[t]=e.eventTypes[n].dependencies}var b=[],w={},T={},S={};function k(t){_?f("101"):void 0;_=Array.prototype.slice.call(t);m()}function x(t){var e=!1,n;for(n in t)if(t.hasOwnProperty(n)){var i=t[n];v.hasOwnProperty(n)&&v[n]===i||(v[n]?f("102",n):void 0,v[n]=i,e=!0)}e&&m()}var A={plugins:b,eventNameDispatchConfigs:w,registrationNameModules:T,registrationNameDependencies:S,possibleRegistrationNames:null,injectEventPluginOrder:k,injectEventPluginsByName:x},P=null,O=null,E=null;function C(t,e,n,i){e=t.type||"unknown-event";t.currentTarget=E(i);d.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t);t.currentTarget=null}function M(t,e){null==e?f("30"):void 0;if(null==t)return e;if(Array.isArray(t)){if(Array.isArray(e))return t.push.apply(t,e),t;t.push(e);return t}return Array.isArray(e)?[t].concat(e):[t,e]}function F(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var N=null;function R(t,e){if(t){var n=t._dispatchListeners,i=t._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!t.isPropagationStopped();r++)C(t,e,n[r],i[r]);else n&&C(t,e,n,i);t._dispatchListeners=null;t._dispatchInstances=null;t.isPersistent()||t.constructor.release(t)}}function j(t){return R(t,!0)}function q(t){return R(t,!1)}var I={injectEventPluginOrder:k,injectEventPluginsByName:x};function D(t,e){var n=t.stateNode;if(!n)return null;var i=P(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(t=t.type,i=!("button"===t||"input"===t||"select"===t||"textarea"===t));t=!i;break t;default:t=!1}if(t)return null;n&&"function"!==typeof n?f("231",e,typeof n):void 0;return n}function L(t,e){null!==t&&(N=M(N,t));t=N;N=null;t&&(e?F(t,j):F(t,q),N?f("95"):void 0,d.rethrowCaughtError())}function B(t,e,n,i){for(var r=null,o=0;o<b.length;o++){var s=b[o];s&&(s=s.extractEvents(t,e,n,i))&&(r=M(r,s))}L(r,!1)}var U={injection:I,getListener:D,runEventsInBatch:L,runExtractedEventsInBatch:B},V=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+V,W="__reactEventHandlers$"+V;function G(t){if(t[z])return t[z];for(;!t[z];)if(t.parentNode)t=t.parentNode;else return null;t=t[z];return 5===t.tag||6===t.tag?t:null}function Q(t){if(5===t.tag||6===t.tag)return t.stateNode;f("33")}function $(t){return t[W]||null}var H={precacheFiberNode:function(t,e){e[z]=t},getClosestInstanceFromNode:G,getInstanceFromNode:function(t){t=t[z];return!t||5!==t.tag&&6!==t.tag?null:t},getNodeFromInstance:Q,getFiberCurrentPropsFromNode:$,updateFiberProps:function(t,e){t[W]=e}};function K(t){do{t=t.return}while(t&&5!==t.tag);return t?t:null}function Z(t,e,n){for(var i=[];t;)i.push(t),t=K(t);for(t=i.length;0<t--;)e(i[t],"captured",n);for(t=0;t<i.length;t++)e(i[t],"bubbled",n)}function X(t,e,n){if(e=D(t,n.dispatchConfig.phasedRegistrationNames[e]))n._dispatchListeners=M(n._dispatchListeners,e),n._dispatchInstances=M(n._dispatchInstances,t)}function Y(t){t&&t.dispatchConfig.phasedRegistrationNames&&Z(t._targetInst,X,t)}function J(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?K(e):null;Z(e,X,t)}}function tt(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=D(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=M(n._dispatchListeners,e),n._dispatchInstances=M(n._dispatchInstances,t))}function et(t){t&&t.dispatchConfig.registrationName&&tt(t._targetInst,null,t)}function nt(t){F(t,Y)}function it(t,e,n,i){if(n&&i)t:{var r=n;for(var o=i,s=0,a=r;a;a=K(a))s++;a=0;for(var u=o;u;u=K(u))a++;for(;0<s-a;)r=K(r),s--;for(;0<a-s;)o=K(o),a--;for(;s--;){if(r===o||r===o.alternate)break t;r=K(r);o=K(o)}r=null}else r=null;o=r;for(r=[];n&&n!==o;){s=n.alternate;if(null!==s&&s===o)break;r.push(n);n=K(n)}for(n=[];i&&i!==o;){s=i.alternate;if(null!==s&&s===o)break;n.push(i);i=K(i)}for(i=0;i<r.length;i++)tt(r[i],"bubbled",t);for(t=n.length;0<t--;)tt(n[t],"captured",e)}var rt={accumulateTwoPhaseDispatches:nt,accumulateTwoPhaseDispatchesSkipTarget:function(t){F(t,J)},accumulateEnterLeaveDispatches:it,accumulateDirectDispatches:function(t){F(t,et)}};function ot(t,e){var n={};n[t.toLowerCase()]=e.toLowerCase();n["Webkit"+t]="webkit"+e;n["Moz"+t]="moz"+e;n["ms"+t]="MS"+e;n["O"+t]="o"+e.toLowerCase();return n}var st={animationend:ot("Animation","AnimationEnd"),animationiteration:ot("Animation","AnimationIteration"),animationstart:ot("Animation","AnimationStart"),transitionend:ot("Transition","TransitionEnd")},at={},ut={};o.canUseDOM&&(ut=document.createElement("div").style,"AnimationEvent"in window||(delete st.animationend.animation,delete st.animationiteration.animation,delete st.animationstart.animation),"TransitionEvent"in window||delete st.transitionend.transition);function lt(t){if(at[t])return at[t];if(!st[t])return t;var e=st[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ut)return at[t]=e[n];return t}var ct=lt("animationend"),ht=lt("animationiteration"),ft=lt("animationstart"),pt=lt("transitionend"),dt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yt=null;function _t(){!yt&&o.canUseDOM&&(yt="textContent"in document.documentElement?"textContent":"innerText");return yt}var vt={_root:null,_startText:null,_fallbackText:null};function mt(){if(vt._fallbackText)return vt._fallbackText;var t,e=vt._startText,n=e.length,i,r=gt(),o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);vt._fallbackText=r.slice(t,1<i?1-i:void 0);return vt._fallbackText}function gt(){return"value"in vt._root?vt._root.value:vt._root[_t()]}var bt="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),wt={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function Tt(t,e,n,i){this.dispatchConfig=t;this._targetInst=e;this.nativeEvent=n;t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?a.thatReturnsTrue:a.thatReturnsFalse;this.isPropagationStopped=a.thatReturnsFalse;return this}s(Tt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface,e;for(e in t)this[e]=null;for(t=0;t<bt.length;t++)this[bt[t]]=null}});Tt.Interface=wt;Tt.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var r=new e;s(r,n.prototype);n.prototype=r;n.prototype.constructor=n;n.Interface=s({},i.Interface,t);n.extend=i.extend;xt(n);return n};xt(Tt);function St(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();this.call(r,t,e,n,i);return r}return new this(t,e,n,i)}function kt(t){t instanceof this?void 0:f("223");t.destructor();10>this.eventPool.length&&this.eventPool.push(t)}function xt(t){t.eventPool=[];t.getPooled=St;t.release=kt}var At=Tt.extend({data:null}),Pt=Tt.extend({data:null}),Ot=[9,13,27,32],Et=o.canUseDOM&&"CompositionEvent"in window,Ct=null;o.canUseDOM&&"documentMode"in document&&(Ct=document.documentMode);var Mt=o.canUseDOM&&"TextEvent"in window&&!Ct,Ft=o.canUseDOM&&(!Et||Ct&&8<Ct&&11>=Ct),Nt=String.fromCharCode(32),Rt={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},jt=!1;function qt(t,e){switch(t){case"keyup":return-1!==Ot.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function It(t){t=t.detail;return"object"===typeof t&&"data"in t?t.data:null}var Dt=!1;function Lt(t,e){switch(t){case"compositionend":return It(e);case"keypress":if(32!==e.which)return null;jt=!0;return Nt;case"textInput":return t=e.data,t===Nt&&jt?null:t;default:return null}}function Bt(t,e){if(Dt)return"compositionend"===t||!Et&&qt(t,e)?(t=mt(),vt._root=null,vt._startText=null,vt._fallbackText=null,Dt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ft?null:e.data;default:return null}}var Ut={eventTypes:Rt,extractEvents:function(t,e,n,i){var r=void 0;var o=void 0;if(Et)t:{switch(t){case"compositionstart":r=Rt.compositionStart;break t;case"compositionend":r=Rt.compositionEnd;break t;case"compositionupdate":r=Rt.compositionUpdate;break t}r=void 0}else Dt?qt(t,n)&&(r=Rt.compositionEnd):"keydown"===t&&229===n.keyCode&&(r=Rt.compositionStart);r?(Ft&&(Dt||r!==Rt.compositionStart?r===Rt.compositionEnd&&Dt&&(o=mt()):(vt._root=i,vt._startText=gt(),Dt=!0)),r=At.getPooled(r,e,n,i),o?r.data=o:(o=It(n),null!==o&&(r.data=o)),nt(r),o=r):o=null;(t=Mt?Lt(t,n):Bt(t,n))?(e=Pt.getPooled(Rt.beforeInput,e,n,i),e.data=t,nt(e)):e=null;return null===o?e:null===e?o:[o,e]}},Vt=null,zt={injectFiberControlledHostComponent:function(t){Vt=t}},Wt=null,Gt=null;function Qt(t){if(t=O(t)){Vt&&"function"===typeof Vt.restoreControlledState?void 0:f("194");var e=P(t.stateNode);Vt.restoreControlledState(t.stateNode,t.type,e)}}function $t(t){Wt?Gt?Gt.push(t):Gt=[t]:Wt=t}function Ht(){return null!==Wt||null!==Gt}function Kt(){if(Wt){var t=Wt,e=Gt;Gt=Wt=null;Qt(t);if(e)for(t=0;t<e.length;t++)Qt(e[t])}}var Zt={injection:zt,enqueueStateRestore:$t,needsStateRestore:Ht,restoreStateIfNeeded:Kt};function Xt(t,e){return t(e)}function Yt(t,e,n){return t(e,n)}function Jt(){}var te=!1;function ee(t,e){if(te)return t(e);te=!0;try{return Xt(t,e)}finally{te=!1,Ht()&&(Jt(),Kt())}}var ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ie(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ne[t.type]:"textarea"===e?!0:!1}function re(t){t=t.target||t.srcElement||window;t.correspondingUseElement&&(t=t.correspondingUseElement);return 3===t.nodeType?t.parentNode:t}function oe(t,e){if(!o.canUseDOM||e&&!("addEventListener"in document))return!1;t="on"+t;e=t in document;e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e="function"===typeof e[t]);return e}function se(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function ae(t){var e=se(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t;o.call(this,t)}});Object.defineProperty(t,e,{enumerable:n.enumerable});return{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null;delete t[e]}}}}function ue(t){t._valueTracker||(t._valueTracker=ae(t))}function le(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue();var i="";t&&(i=se(t)?t.checked?"true":"false":t.value);t=i;return t!==n?(e.setValue(t),!0):!1}var ce=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,he="function"===typeof Symbol&&Symbol.for,fe=he?Symbol.for("react.element"):60103,pe=he?Symbol.for("react.portal"):60106,de=he?Symbol.for("react.fragment"):60107,ye=he?Symbol.for("react.strict_mode"):60108,_e=he?Symbol.for("react.profiler"):60114,ve=he?Symbol.for("react.provider"):60109,me=he?Symbol.for("react.context"):60110,ge=he?Symbol.for("react.async_mode"):60111,be=he?Symbol.for("react.forward_ref"):60112,we=he?Symbol.for("react.timeout"):60113,Te="function"===typeof Symbol&&Symbol.iterator;function Se(t){if(null===t||"undefined"===typeof t)return null;t=Te&&t[Te]||t["@@iterator"];return"function"===typeof t?t:null}function ke(t){var e=t.type;if("function"===typeof e)return e.displayName||e.name;if("string"===typeof e)return e;switch(e){case ge:return"AsyncMode";case me:return"Context.Consumer";case de:return"ReactFragment";case pe:return"ReactPortal";case _e:return"Profiler("+t.pendingProps.id+")";case ve:return"Context.Provider";case ye:return"StrictMode";case we:return"Timeout"}if("object"===typeof e&&null!==e)switch(e.$$typeof){case be:return t=e.render.displayName||e.render.name||"",""!==t?"ForwardRef("+t+")":"ForwardRef"}return null}function xe(t){var e="";do{t:switch(t.tag){case 0:case 1:case 2:case 5:var n=t._debugOwner,i=t._debugSource;var r=ke(t);var o=null;n&&(o=ke(n));n=i;r="\n    in "+(r||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break t;default:r=""}e+=r;t=t.return}while(t);return e}var Ae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pe={},Oe={};function Ee(t){if(Oe.hasOwnProperty(t))return!0;if(Pe.hasOwnProperty(t))return!1;if(Ae.test(t))return Oe[t]=!0;Pe[t]=!0;return!1}function Ce(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":if(i)return!1;if(null!==n)return!n.acceptsBooleans;t=t.toLowerCase().slice(0,5);return"data-"!==t&&"aria-"!==t;default:return!1}}function Me(t,e,n,i){if(null===e||"undefined"===typeof e||Ce(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fe(t,e,n,i,r){this.acceptsBooleans=2===e||3===e||4===e;this.attributeName=i;this.attributeNamespace=r;this.mustUseProperty=n;this.propertyName=t;this.type=e}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new Fe(t,0,!1,t,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new Fe(e,1,!1,t[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new Fe(t,2,!1,t.toLowerCase(),null)});["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(t){Ne[t]=new Fe(t,2,!1,t,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new Fe(t,3,!1,t.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new Fe(t,3,!0,t.toLowerCase(),null)});["capture","download"].forEach(function(t){Ne[t]=new Fe(t,4,!1,t.toLowerCase(),null)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new Fe(t,6,!1,t.toLowerCase(),null)});["rowSpan","start"].forEach(function(t){Ne[t]=new Fe(t,5,!1,t.toLowerCase(),null)});var Re=/[\-:]([a-z])/g;function je(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Re,je);Ne[e]=new Fe(e,1,!1,t,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Re,je);Ne[e]=new Fe(e,1,!1,t,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Re,je);Ne[e]=new Fe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")});Ne.tabIndex=new Fe("tabIndex",1,!1,"tabindex",null);function qe(t,e,n,i){var r=Ne.hasOwnProperty(e)?Ne[e]:null;var o=null!==r?0===r.type:i?!1:!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1]?!1:!0;o||(Me(e,n,r,i)&&(n=null),i||null===r?Ee(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3===r.type?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(r=r.type,n=3===r||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}function Ie(t,e){var n=e.checked;return s({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function De(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=ze(null!=e.value?e.value:n);t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Le(t,e){e=e.checked;null!=e&&qe(t,"checked",e,!1)}function Be(t,e){Le(t,e);var n=ze(e.value);if(null!=n)if("number"===e.type){if(0===n&&""===t.value||t.value!=n)t.value=""+n}else t.value!==""+n&&(t.value=""+n);e.hasOwnProperty("value")?Ve(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ve(t,e.type,ze(e.defaultValue));null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ue(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){e=""+t._wrapperState.initialValue;var i=t.value;n||e===i||(t.value=e);t.defaultValue=e}n=t.name;""!==n&&(t.name="");t.defaultChecked=!t.defaultChecked;t.defaultChecked=!t.defaultChecked;""!==n&&(t.name=n)}function Ve(t,e,n){if("number"!==e||t.ownerDocument.activeElement!==t)null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n)}function ze(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}var We={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ge(t,e,n){t=Tt.getPooled(We.change,t,e,n);t.type="change";$t(n);nt(t);return t}var Qe=null,$e=null;function He(t){L(t,!1)}function Ke(t){var e=Q(t);if(le(e))return t}function Ze(t,e){if("change"===t)return e}var Xe=!1;o.canUseDOM&&(Xe=oe("input")&&(!document.documentMode||9<document.documentMode));function Ye(){Qe&&(Qe.detachEvent("onpropertychange",Je),$e=Qe=null)}function Je(t){"value"===t.propertyName&&Ke($e)&&(t=Ge($e,t,re(t)),ee(He,t))}function tn(t,e,n){"focus"===t?(Ye(),Qe=e,$e=n,Qe.attachEvent("onpropertychange",Je)):"blur"===t&&Ye()}function en(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Ke($e)}function nn(t,e){if("click"===t)return Ke(e)}function rn(t,e){if("input"===t||"change"===t)return Ke(e)}var on={eventTypes:We,_isInputEventSupported:Xe,extractEvents:function(t,e,n,i){var r=e?Q(e):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();"select"===a||"input"===a&&"file"===r.type?o=Ze:ie(r)?Xe?o=rn:(o=en,s=tn):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=nn);if(o&&(o=o(t,e)))return Ge(o,n,i);s&&s(t,r,e);"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&Ve(r,"number",r.value)}},sn=Tt.extend({view:null,detail:null}),an={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function un(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=an[t])?!!e[t]:!1}function ln(){return un}var cn=sn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ln,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}}),hn=cn.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),fn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},pn={eventTypes:fn,extractEvents:function(t,e,n,i){var r="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window;o?(o=e,e=(e=n.relatedTarget||n.toElement)?G(e):null):o=null;if(o===e)return null;var s=void 0,a=void 0,u=void 0,l=void 0;if("mouseout"===t||"mouseover"===t)s=cn,a=fn.mouseLeave,u=fn.mouseEnter,l="mouse";else if("pointerout"===t||"pointerover"===t)s=hn,a=fn.pointerLeave,u=fn.pointerEnter,l="pointer";t=null==o?r:Q(o);r=null==e?r:Q(e);a=s.getPooled(a,o,n,i);a.type=l+"leave";a.target=t;a.relatedTarget=r;n=s.getPooled(u,e,n,i);n.type=l+"enter";n.target=r;n.relatedTarget=t;it(a,n,o,e);return[a,n]}};function dn(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(e.effectTag&2))return 1;for(;e.return;)if(e=e.return,0!==(e.effectTag&2))return 1}return 3===e.tag?2:3}function yn(t){2!==dn(t)?f("188"):void 0}function _n(t){var e=t.alternate;if(!e)return e=dn(t),3===e?f("188"):void 0,1===e?null:t;for(var n=t,i=e;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var s=r.child;s;){if(s===n)return yn(r),t;if(s===i)return yn(r),e;s=s.sibling}f("188")}if(n.return!==i.return)n=r,i=o;else{s=!1;for(var a=r.child;a;){if(a===n){s=!0;n=r;i=o;break}if(a===i){s=!0;i=r;n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0;n=o;i=r;break}if(a===i){s=!0;i=o;n=r;break}a=a.sibling}s?void 0:f("189")}}n.alternate!==i?f("190"):void 0}3!==n.tag?f("188"):void 0;return n.stateNode.current===n?t:e}function vn(t){t=_n(t);if(!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}}return null}function mn(t){t=_n(t);if(!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}}return null}var gn=Tt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),bn=Tt.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=sn.extend({relatedTarget:null});function Tn(t){var e=t.keyCode;"charCode"in t?(t=t.charCode,0===t&&13===e&&(t=13)):t=e;10===t&&(t=13);return 32<=t||13===t?t:0}var Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn=sn.extend({key:function(t){if(t.key){var e=Sn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=Tn(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?kn[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ln,charCode:function(t){return"keypress"===t.type?Tn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Tn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),An=cn.extend({dataTransfer:null}),Pn=sn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ln}),On=Tt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),En=cn.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),Cn=[["abort","abort"],[ct,"animationEnd"],[ht,"animationIteration"],[ft,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[pt,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Mn={},Fn={};function Nn(t,e){var n=t[0];t=t[1];var i="on"+(t[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:e};Mn[t]=e;Fn[n]=e}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){Nn(t,!0)});Cn.forEach(function(t){Nn(t,!1)});var Rn={eventTypes:Mn,isInteractiveTopLevelEventType:function(t){t=Fn[t];return void 0!==t&&!0===t.isInteractive},extractEvents:function(t,e,n,i){var r=Fn[t];if(!r)return null;switch(t){case"keypress":if(0===Tn(n))return null;case"keydown":case"keyup":t=xn;break;case"blur":case"focus":t=wn;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=Pn;break;case ct:case ht:case ft:t=gn;break;case pt:t=On;break;case"scroll":t=sn;break;case"wheel":t=En;break;case"copy":case"cut":case"paste":t=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=hn;break;default:t=Tt}e=t.getPooled(r,e,n,i);nt(e);return e}},jn=Rn.isInteractiveTopLevelEventType,qn=[];function In(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n;for(n=e;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo;if(!n)break;t.ancestors.push(e);e=G(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],B(t.topLevelType,e,t.nativeEvent,re(t.nativeEvent))}var Dn=!0;function Ln(t){Dn=!!t}function Bn(t,e){if(!e)return null;var n=(jn(t)?Vn:zn).bind(null,t);e.addEventListener(t,n,!1)}function Un(t,e){if(!e)return null;var n=(jn(t)?Vn:zn).bind(null,t);e.addEventListener(t,n,!0)}function Vn(t,e){Yt(zn,t,e)}function zn(t,e){if(Dn){var n=re(e);n=G(n);null===n||"number"!==typeof n.tag||2===dn(n)||(n=null);if(qn.length){var i=qn.pop();i.topLevelType=t;i.nativeEvent=e;i.targetInst=n;t=i}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{ee(In,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>qn.length&&qn.push(t)}}}var Wn={get _enabled(){return Dn},setEnabled:Ln,isEnabled:function(){return Dn},trapBubbledEvent:Bn,trapCapturedEvent:Un,dispatchEvent:zn},Gn={},Qn=0,$n="_reactListenersID"+(""+Math.random()).slice(2);function Hn(t){Object.prototype.hasOwnProperty.call(t,$n)||(t[$n]=Qn++,Gn[t[$n]]={});return Gn[t[$n]]}function Kn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zn(t,e){var n=Kn(t);t=0;for(var i;n;){if(3===n.nodeType){i=t+n.textContent.length;if(t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Kn(n)}}function Xn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Yn=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Jn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ti=null,ei=null,ni=null,ii=!1;function ri(t,e){if(ii||null==ti||ti!==u())return null;var n=ti;"selectionStart"in n&&Xn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0;return ni&&l(ni,n)?null:(ni=n,t=Tt.getPooled(Jn.select,ei,t,e),t.type="select",t.target=ti,nt(t),t)}var oi={eventTypes:Jn,extractEvents:function(t,e,n,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument,o;if(!(o=!r)){t:{r=Hn(r);o=S.onSelect;for(var s=0;s<o.length;s++){var a=o[s];if(!r.hasOwnProperty(a)||!r[a]){r=!1;break t}}r=!0}o=!r}if(o)return null;r=e?Q(e):window;switch(t){case"focus":if(ie(r)||"true"===r.contentEditable)ti=r,ei=e,ni=null;break;case"blur":ni=ei=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":return ii=!1,ri(n,i);case"selectionchange":if(Yn)break;case"keydown":case"keyup":return ri(n,i)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));P=H.getFiberCurrentPropsFromNode;O=H.getInstanceFromNode;E=H.getNodeFromInstance;I.injectEventPluginsByName({SimpleEventPlugin:Rn,EnterLeaveEventPlugin:pn,ChangeEventPlugin:on,SelectEventPlugin:oi,BeforeInputEventPlugin:Ut});var si="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,ai=Date,ui=setTimeout,li=clearTimeout,ci=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var hi=performance;ci=function(){return hi.now()}}else ci=function(){return ai.now()};var fi=void 0,pi=void 0;if(o.canUseDOM){var di="function"===typeof si?si:function(){f("276")},yi=null,_i=null,vi=-1,mi=!1,gi=!1,bi=0,wi=33,Ti=33,Si={didTimeout:!1,timeRemaining:function(){var t=bi-ci();return 0<t?t:0}},ki=function(t,e){var n=t.scheduledCallback,i=!1;try{n(e),i=!0}finally{pi(t),i||(mi=!0,window.postMessage(xi,"*"))}},xi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===xi&&(mi=!1,null!==yi)){if(null!==yi){var e=ci();if(!(-1===vi||vi>e)){t=-1;for(var n=[],i=yi;null!==i;){var r=i.timeoutTime;-1!==r&&r<=e?n.push(i):-1!==r&&(-1===t||r<t)&&(t=r);i=i.next}if(0<n.length)for(Si.didTimeout=!0,e=0,i=n.length;e<i;e++)ki(n[e],Si);vi=t}}for(t=ci();0<bi-t&&null!==yi;)t=yi,Si.didTimeout=!1,ki(t,Si),t=ci();null===yi||gi||(gi=!0,di(Ai))}},!1);var Ai=function(t){gi=!1;var e=t-bi+Ti;e<Ti&&wi<Ti?(8>e&&(e=8),Ti=e<wi?wi:e):wi=e;bi=t+Ti;mi||(mi=!0,window.postMessage(xi,"*"))};fi=function(t,e){var n=-1;null!=e&&"number"===typeof e.timeout&&(n=ci()+e.timeout);if(-1===vi||-1!==n&&n<vi)vi=n;t={scheduledCallback:t,timeoutTime:n,prev:null,next:null};null===yi?yi=t:(e=t.prev=_i,null!==e&&(e.next=t));_i=t;gi||(gi=!0,di(Ai));return t};pi=function(t){if(null!==t.prev||yi===t){var e=t.next,n=t.prev;t.next=null;t.prev=null;null!==e?null!==n?(n.next=e,e.prev=n):(e.prev=null,yi=e):null!==n?(n.next=null,_i=n):_i=yi=null}}}else{var Pi=new Map;fi=function(t){var e={scheduledCallback:t,timeoutTime:0,next:null,prev:null},n=ui(function(){t({timeRemaining:function(){return Infinity},didTimeout:!1})});Pi.set(t,n);return e};pi=function(t){var e=Pi.get(t.scheduledCallback);Pi.delete(t);li(e)}}function Oi(t){var e="";r.Children.forEach(t,function(t){null==t||"string"!==typeof t&&"number"!==typeof t||(e+=t)});return e}function Ei(t,e){t=s({children:void 0},e);if(e=Oi(e.children))t.children=e;return t}function Ci(t,e,n,i){t=t.options;if(e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{n=""+n;e=null;for(r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0;i&&(t[r].defaultSelected=!0);return}null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Mi(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}}function Fi(t,e){null!=e.dangerouslySetInnerHTML?f("91"):void 0;return s({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ni(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n?f("92"):void 0,Array.isArray(e)&&(1>=e.length?void 0:f("93"),e=e[0]),n=""+e),null==n&&(n=""));t._wrapperState={initialValue:""+n}}function Ri(t,e){var n=e.value;null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n));null!=e.defaultValue&&(t.defaultValue=e.defaultValue)}function ji(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}var qi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ii(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Di(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Ii(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Li=void 0,Bi=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!==qi.svg||"innerHTML"in t)t.innerHTML=e;else{Li=Li||document.createElement("div");Li.innerHTML="<svg>"+e+"</svg>";for(e=Li.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ui(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType){n.nodeValue=e;return}}t.textContent=e}var Vi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zi=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(t){zi.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1);Vi[e]=Vi[t]})});function Wi(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--");var r=n;var o=e[n];r=null==o||"boolean"===typeof o||""===o?"":i||"number"!==typeof o||0===o||Vi.hasOwnProperty(r)&&Vi[r]?(""+o).trim():o+"px";"float"===n&&(n="cssFloat");i?t.setProperty(n,r):t[n]=r}}var Gi=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qi(t,e,n){e&&(Gi[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML?f("137",t,n()):void 0),null!=e.dangerouslySetInnerHTML&&(null!=e.children?f("60"):void 0,"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML?void 0:f("61")),null!=e.style&&"object"!==typeof e.style?f("62",n()):void 0)}function $i(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=a.thatReturns("");function Ki(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=Hn(t);e=S[e];for(var i=0;i<e.length;i++){var r=e[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":Un("scroll",t);break;case"focus":case"blur":Un("focus",t);Un("blur",t);n.blur=!0;n.focus=!0;break;case"cancel":case"close":oe(r,!0)&&Un(r,t);break;case"invalid":case"submit":case"reset":break;default:-1===dt.indexOf(r)&&Bn(r,t)}n[r]=!0}}}function Zi(t,e,n,i){n=9===n.nodeType?n:n.ownerDocument;i===qi.html&&(i=Ii(t));i===qi.html?"script"===t?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):t="string"===typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(i,t);return t}function Xi(t,e){return(9===e.nodeType?e:e.ownerDocument).createTextNode(t)}function Yi(t,e,n,i){var r=$i(e,n);switch(e){case"iframe":case"object":Bn("load",t);var o=n;break;case"video":case"audio":for(o=0;o<dt.length;o++)Bn(dt[o],t);o=n;break;case"source":Bn("error",t);o=n;break;case"img":case"image":case"link":Bn("error",t);Bn("load",t);o=n;break;case"form":Bn("reset",t);Bn("submit",t);o=n;break;case"details":Bn("toggle",t);o=n;break;case"input":De(t,n);o=Ie(t,n);Bn("invalid",t);Ki(i,"onChange");break;case"option":o=Ei(t,n);break;case"select":Mi(t,n);o=s({},n,{value:void 0});Bn("invalid",t);Ki(i,"onChange");break;case"textarea":Ni(t,n);o=Fi(t,n);Bn("invalid",t);Ki(i,"onChange");break;default:o=n}Qi(e,o,Hi);var u=o,l;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?Wi(t,c,Hi):"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,null!=c&&Bi(t,c)):"children"===l?"string"===typeof c?("textarea"!==e||""!==c)&&Ui(t,c):"number"===typeof c&&Ui(t,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(T.hasOwnProperty(l)?null!=c&&Ki(i,l):null!=c&&qe(t,l,c,r))}switch(e){case"input":ue(t);Ue(t,n,!1);break;case"textarea":ue(t);ji(t,n);break;case"option":null!=n.value&&t.setAttribute("value",n.value);break;case"select":t.multiple=!!n.multiple;e=n.value;null!=e?Ci(t,!!n.multiple,e,!1):null!=n.defaultValue&&Ci(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=a)}}function Ji(t,e,n,i,r){var o=null;switch(e){case"input":n=Ie(t,n);i=Ie(t,i);o=[];break;case"option":n=Ei(t,n);i=Ei(t,i);o=[];break;case"select":n=s({},n,{value:void 0});i=s({},i,{value:void 0});o=[];break;case"textarea":n=Fi(t,n);i=Fi(t,i);o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof i.onClick&&(t.onclick=a)}Qi(e,i,Hi);e=t=void 0;var u=null;for(t in n)if(!i.hasOwnProperty(t)&&n.hasOwnProperty(t)&&null!=n[t])if("style"===t){var l=n[t];for(e in l)l.hasOwnProperty(e)&&(u||(u={}),u[e]="")}else"dangerouslySetInnerHTML"!==t&&"children"!==t&&"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&"autoFocus"!==t&&(T.hasOwnProperty(t)?o||(o=[]):(o=o||[]).push(t,null));for(t in i){var c=i[t];l=null!=n?n[t]:void 0;if(i.hasOwnProperty(t)&&c!==l&&(null!=c||null!=l))if("style"===t)if(l){for(e in l)!l.hasOwnProperty(e)||c&&c.hasOwnProperty(e)||(u||(u={}),u[e]="");for(e in c)c.hasOwnProperty(e)&&l[e]!==c[e]&&(u||(u={}),u[e]=c[e])}else u||(o||(o=[]),o.push(t,u)),u=c;else"dangerouslySetInnerHTML"===t?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(t,""+c)):"children"===t?l===c||"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(t,""+c):"suppressContentEditableWarning"!==t&&"suppressHydrationWarning"!==t&&(T.hasOwnProperty(t)?(null!=c&&Ki(r,t),o||l===c||(o=[])):(o=o||[]).push(t,c))}u&&(o=o||[]).push("style",u);return o}function tr(t,e,n,i,r){"input"===n&&"radio"===r.type&&null!=r.name&&Le(t,r);$i(n,i);i=$i(n,r);for(var o=0;o<e.length;o+=2){var s=e[o],a=e[o+1];"style"===s?Wi(t,a,Hi):"dangerouslySetInnerHTML"===s?Bi(t,a):"children"===s?Ui(t,a):qe(t,s,a,i)}switch(n){case"input":Be(t,r);break;case"textarea":Ri(t,r);break;case"select":t._wrapperState.initialValue=void 0,e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,n=r.value,null!=n?Ci(t,!!r.multiple,n,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ci(t,!!r.multiple,r.defaultValue,!0):Ci(t,!!r.multiple,r.multiple?[]:"",!1))}}function er(t,e,n,i,r){switch(e){case"iframe":case"object":Bn("load",t);break;case"video":case"audio":for(i=0;i<dt.length;i++)Bn(dt[i],t);break;case"source":Bn("error",t);break;case"img":case"image":case"link":Bn("error",t);Bn("load",t);break;case"form":Bn("reset",t);Bn("submit",t);break;case"details":Bn("toggle",t);break;case"input":De(t,n);Bn("invalid",t);Ki(r,"onChange");break;case"select":Mi(t,n);Bn("invalid",t);Ki(r,"onChange");break;case"textarea":Ni(t,n),Bn("invalid",t),Ki(r,"onChange")}Qi(e,n,Hi);i=null;for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];"children"===o?"string"===typeof s?t.textContent!==s&&(i=["children",s]):"number"===typeof s&&t.textContent!==""+s&&(i=["children",""+s]):T.hasOwnProperty(o)&&null!=s&&Ki(r,o)}switch(e){case"input":ue(t);Ue(t,n,!0);break;case"textarea":ue(t);ji(t,n);break;case"select":case"option":break;default:"function"===typeof n.onClick&&(t.onclick=a)}return i}function nr(t,e){return t.nodeValue!==e}var ir={createElement:Zi,createTextNode:Xi,setInitialProperties:Yi,diffProperties:Ji,updateProperties:tr,diffHydratedProperties:er,diffHydratedText:nr,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case"input":Be(t,n);e=n.name;if("radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]');for(e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=$(i);r?void 0:f("90");le(i);Be(i,r)}}}break;case"textarea":Ri(t,n);break;case"select":e=n.value,null!=e&&Ci(t,!!n.multiple,e,!1)}}},rr=null,or=null;function sr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function ar(t,e){return"textarea"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&"string"===typeof e.dangerouslySetInnerHTML.__html}var ur=ci,lr=fi,cr=pi;function hr(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function fr(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}new Set;var pr=[],dr=-1;function yr(t){return{current:t}}function _r(t){0>dr||(t.current=pr[dr],pr[dr]=null,dr--)}function vr(t,e){dr++;pr[dr]=t.current;t.current=e}var mr=yr(h),gr=yr(!1),br=h;function wr(t){return Sr(t)?br:mr.current}function Tr(t,e){var n=t.type.contextTypes;if(!n)return h;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r);return r}function Sr(t){return 2===t.tag&&null!=t.type.childContextTypes}function kr(t){Sr(t)&&(_r(gr,t),_r(mr,t))}function xr(t){_r(gr,t);_r(mr,t)}function Ar(t,e,n){mr.current!==h?f("168"):void 0;vr(mr,e,t);vr(gr,n,t)}function Pr(t,e){var n=t.stateNode,i=t.type.childContextTypes;if("function"!==typeof n.getChildContext)return e;n=n.getChildContext();for(var r in n)r in i?void 0:f("108",ke(t)||"Unknown",r);return s({},e,n)}function Or(t){if(!Sr(t))return!1;var e=t.stateNode;e=e&&e.__reactInternalMemoizedMergedChildContext||h;br=mr.current;vr(mr,e,t);vr(gr,gr.current,t);return!0}function Er(t,e){var n=t.stateNode;n?void 0:f("169");if(e){var i=Pr(t,br);n.__reactInternalMemoizedMergedChildContext=i;_r(gr,t);_r(mr,t);vr(mr,i,t)}else _r(gr,t);vr(gr,e,t)}function Cr(t,e,n,i){this.tag=t;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=null;this.index=0;this.ref=null;this.pendingProps=e;this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=i;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.expirationTime=0;this.alternate=null}function Mr(t,e,n){var i=t.alternate;null===i?(i=new Cr(t.tag,e,t.key,t.mode),i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null);i.expirationTime=n;i.child=t.child;i.memoizedProps=t.memoizedProps;i.memoizedState=t.memoizedState;i.updateQueue=t.updateQueue;i.sibling=t.sibling;i.index=t.index;i.ref=t.ref;return i}function Fr(t,e,n){var i=t.type,r=t.key;t=t.props;if("function"===typeof i)var o=i.prototype&&i.prototype.isReactComponent?2:0;else if("string"===typeof i)o=5;else switch(i){case de:return Nr(t.children,e,n,r);case ge:o=11;e|=3;break;case ye:o=11;e|=2;break;case _e:return i=new Cr(15,t,r,e|4),i.type=_e,i.expirationTime=n,i;case we:o=16;e|=2;break;default:t:{switch("object"===typeof i&&null!==i?i.$$typeof:null){case ve:o=13;break t;case me:o=12;break t;case be:o=14;break t;default:f("130",null==i?i:typeof i,"")}o=void 0}}e=new Cr(o,t,r,e);e.type=i;e.expirationTime=n;return e}function Nr(t,e,n,i){t=new Cr(10,t,i,e);t.expirationTime=n;return t}function Rr(t,e,n){t=new Cr(6,t,null,e);t.expirationTime=n;return t}function jr(t,e,n){e=new Cr(4,null!==t.children?t.children:[],t.key,e);e.expirationTime=n;e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation};return e}function qr(t,e,n){e=new Cr(3,null,null,e?3:0);t={current:e,containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null};return e.stateNode=t}var Ir=null,Dr=null;function Lr(t){return function(e){try{return t(e)}catch(t){}}}function Br(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);Ir=Lr(function(t){return e.onCommitFiberRoot(n,t)});Dr=Lr(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function Ur(t){"function"===typeof Ir&&Ir(t)}function Vr(t){"function"===typeof Dr&&Dr(t)}var zr=!1;function Wr(t){return{expirationTime:0,baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Gr(t){return{expirationTime:t.expirationTime,baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qr(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function $r(t,e,n){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e);if(0===t.expirationTime||t.expirationTime>n)t.expirationTime=n}function Hr(t,e,n){var i=t.alternate;if(null===i){var r=t.updateQueue;var o=null;null===r&&(r=t.updateQueue=Wr(t.memoizedState))}else r=t.updateQueue,o=i.updateQueue,null===r?null===o?(r=t.updateQueue=Wr(t.memoizedState),o=i.updateQueue=Wr(i.memoizedState)):r=t.updateQueue=Gr(o):null===o&&(o=i.updateQueue=Gr(r));null===o||r===o?$r(r,e,n):null===r.lastUpdate||null===o.lastUpdate?($r(r,e,n),$r(o,e,n)):($r(r,e,n),o.lastUpdate=e)}function Kr(t,e,n){var i=t.updateQueue;i=null===i?t.updateQueue=Wr(t.memoizedState):Zr(t,i);null===i.lastCapturedUpdate?i.firstCapturedUpdate=i.lastCapturedUpdate=e:(i.lastCapturedUpdate.next=e,i.lastCapturedUpdate=e);if(0===i.expirationTime||i.expirationTime>n)i.expirationTime=n}function Zr(t,e){var n=t.alternate;null!==n&&e===n.updateQueue&&(e=t.updateQueue=Gr(e));return e}function Xr(t,e,n,i,r,o){switch(n.tag){case 1:return t=n.payload,"function"===typeof t?t.call(o,i,r):t;case 3:t.effectTag=t.effectTag&-1025|64;case 0:t=n.payload;r="function"===typeof t?t.call(o,i,r):t;if(null===r||void 0===r)break;return s({},i,r);case 2:zr=!0}return i}function Yr(t,e,n,i,r){zr=!1;if(!(0===e.expirationTime||e.expirationTime>r)){e=Zr(t,e);for(var o=e.baseState,s=null,a=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;if(c>r){if(null===s&&(s=u,o=l),0===a||a>c)a=c}else l=Xr(t,e,u,l,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u));u=u.next}c=null;for(u=e.firstCapturedUpdate;null!==u;){var h=u.expirationTime;if(h>r){if(null===c&&(c=u,null===s&&(o=l)),0===a||a>h)a=h}else l=Xr(t,e,u,l,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u));u=u.next}null===s&&(e.lastUpdate=null);null===c?e.lastCapturedUpdate=null:t.effectTag|=32;null===s&&null===c&&(o=l);e.baseState=o;e.firstUpdate=s;e.firstCapturedUpdate=c;e.expirationTime=a;t.memoizedState=l}}function Jr(t,e){"function"!==typeof t?f("191",t):void 0;t.call(e)}function to(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null);t=e.firstEffect;for(e.firstEffect=e.lastEffect=null;null!==t;){var i=t.callback;null!==i&&(t.callback=null,Jr(i,n));t=t.nextEffect}t=e.firstCapturedEffect;for(e.firstCapturedEffect=e.lastCapturedEffect=null;null!==t;)e=t.callback,null!==e&&(t.callback=null,Jr(e,n)),t=t.nextEffect}function eo(t,e){return{value:t,source:e,stack:xe(e)}}var no=yr(null),io=yr(null),ro=yr(0);function oo(t){var e=t.type._context;vr(ro,e._changedBits,t);vr(io,e._currentValue,t);vr(no,t,t);e._currentValue=t.pendingProps.value;e._changedBits=t.stateNode}function so(t){var e=ro.current,n=io.current;_r(no,t);_r(io,t);_r(ro,t);t=t.type._context;t._currentValue=n;t._changedBits=e}var ao={},uo=yr(ao),lo=yr(ao),co=yr(ao);function ho(t){t===ao?f("174"):void 0;return t}function fo(t,e){vr(co,e,t);vr(lo,t,t);vr(uo,ao,t);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Di(null,"");break;default:n=8===n?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Di(e,n)}_r(uo,t);vr(uo,e,t)}function po(t){_r(uo,t);_r(lo,t);_r(co,t)}function yo(t){lo.current===t&&(_r(uo,t),_r(lo,t))}function _o(t,e,n){var i=t.memoizedState;e=e(n,i);i=null===e||void 0===e?i:s({},i,e);t.memoizedState=i;t=t.updateQueue;null!==t&&0===t.expirationTime&&(t.baseState=i)}var vo={isMounted:function(t){return(t=t._reactInternalFiber)?2===dn(t):!1},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=Cs();i=Os(i,t);var r=Qr(i);r.payload=e;void 0!==n&&null!==n&&(r.callback=n);Hr(t,r,i);Es(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=Cs();i=Os(i,t);var r=Qr(i);r.tag=1;r.payload=e;void 0!==n&&null!==n&&(r.callback=n);Hr(t,r,i);Es(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Cs();n=Os(n,t);var i=Qr(n);i.tag=2;void 0!==e&&null!==e&&(i.callback=e);Hr(t,i,n);Es(t,n)}};function mo(t,e,n,i,r,o){var s=t.stateNode;t=t.type;return"function"===typeof s.shouldComponentUpdate?s.shouldComponentUpdate(n,r,o):t.prototype&&t.prototype.isPureReactComponent?!l(e,n)||!l(i,r):!0}function go(t,e,n,i){t=e.state;"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i);"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i);e.state!==t&&vo.enqueueReplaceState(e,e.state,null)}function bo(t,e){var n=t.type,i=t.stateNode,r=t.pendingProps,o=wr(t);i.props=r;i.state=t.memoizedState;i.refs=h;i.context=Tr(t,o);o=t.updateQueue;null!==o&&(Yr(t,o,r,i,e),i.state=t.memoizedState);o=t.type.getDerivedStateFromProps;"function"===typeof o&&(_o(t,o,r),i.state=t.memoizedState);"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(n=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&vo.enqueueReplaceState(i,i.state,null),o=t.updateQueue,null!==o&&(Yr(t,o,r,i,e),i.state=t.memoizedState));"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var wo=Array.isArray;function To(t,e,n){t=n.ref;if(null!==t&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var i=void 0;n&&(2!==n.tag?f("110"):void 0,i=n.stateNode);i?void 0:f("147",t);var r=""+t;if(null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===r)return e.ref;e=function(t){var e=i.refs===h?i.refs={}:i.refs;null===t?delete e[r]:e[r]=t};e._stringRef=r;return e}"string"!==typeof t?f("148"):void 0;n._owner?void 0:f("254",t)}return t}function So(t,e){"textarea"!==t.type&&f("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function ko(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n;n.nextEffect=null;n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e,n){t=Mr(t,e,n);t.index=0;t.sibling=null;return t}function o(e,n,i){e.index=i;if(!t)return n;i=e.alternate;if(null!==i)return i=i.index,i<n?(e.effectTag=2,n):i;e.effectTag=2;return n}function s(e){t&&null===e.alternate&&(e.effectTag=2);return e}function a(t,e,n,i){if(null===e||6!==e.tag)return e=Rr(n,t.mode,i),e.return=t,e;e=r(e,n,i);e.return=t;return e}function u(t,e,n,i){if(null!==e&&e.type===n.type)return i=r(e,n.props,i),i.ref=To(t,e,n),i.return=t,i;i=Fr(n,t.mode,i);i.ref=To(t,e,n);i.return=t;return i}function l(t,e,n,i){if(null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation)return e=jr(n,t.mode,i),e.return=t,e;e=r(e,n.children||[],i);e.return=t;return e}function c(t,e,n,i,o){if(null===e||10!==e.tag)return e=Nr(n,t.mode,i,o),e.return=t,e;e=r(e,n,i);e.return=t;return e}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return e=Rr(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case fe:return n=Fr(e,t.mode,n),n.ref=To(t,null,e),n.return=t,n;case pe:return e=jr(e,t.mode,n),e.return=t,e}if(wo(e)||Se(e))return e=Nr(e,t.mode,n,null),e.return=t,e;So(t,e)}return null}function p(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:a(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case fe:return n.key===r?n.type===de?c(t,e,n.props.children,i,r):u(t,e,n,i):null;case pe:return n.key===r?l(t,e,n,i):null}if(wo(n)||Se(n))return null!==r?null:c(t,e,n,i,null);So(t,n)}return null}function d(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return t=t.get(n)||null,a(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case fe:return t=t.get(null===i.key?n:i.key)||null,i.type===de?c(e,t,i.props.children,r,i.key):u(e,t,i,r);case pe:return t=t.get(null===i.key?n:i.key)||null,l(e,t,i,r)}if(wo(i)||Se(i))return t=t.get(n)||null,c(e,t,i,r,null);So(e,i)}return null}function y(r,s,a,u){for(var l=null,c=null,f=s,y=s=0,_=null;null!==f&&y<a.length;y++){f.index>y?(_=f,f=null):_=f.sibling;var v=p(r,f,a[y],u);if(null===v){null===f&&(f=_);break}t&&f&&null===v.alternate&&e(r,f);s=o(v,s,y);null===c?l=v:c.sibling=v;c=v;f=_}if(y===a.length)return n(r,f),l;if(null===f){for(;y<a.length;y++)if(f=h(r,a[y],u))s=o(f,s,y),null===c?l=f:c.sibling=f,c=f;return l}for(f=i(r,f);y<a.length;y++)if(_=d(f,r,y,a[y],u))t&&null!==_.alternate&&f.delete(null===_.key?y:_.key),s=o(_,s,y),null===c?l=_:c.sibling=_,c=_;t&&f.forEach(function(t){return e(r,t)});return l}function _(r,s,a,u){var l=Se(a);"function"!==typeof l?f("150"):void 0;a=l.call(a);null==a?f("151"):void 0;for(var c=l=null,y=s,_=s=0,v=null,m=a.next();null!==y&&!m.done;_++,m=a.next()){y.index>_?(v=y,y=null):v=y.sibling;var g=p(r,y,m.value,u);if(null===g){y||(y=v);break}t&&y&&null===g.alternate&&e(r,y);s=o(g,s,_);null===c?l=g:c.sibling=g;c=g;y=v}if(m.done)return n(r,y),l;if(null===y){for(;!m.done;_++,m=a.next())m=h(r,m.value,u),null!==m&&(s=o(m,s,_),null===c?l=m:c.sibling=m,c=m);return l}for(y=i(r,y);!m.done;_++,m=a.next())m=d(y,r,_,m.value,u),null!==m&&(t&&null!==m.alternate&&y.delete(null===m.key?_:m.key),s=o(m,s,_),null===c?l=m:c.sibling=m,c=m);t&&y.forEach(function(t){return e(r,t)});return l}return function(t,i,o,a){var u="object"===typeof o&&null!==o&&o.type===de&&null===o.key;u&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case fe:t:{l=o.key;for(u=i;null!==u;){if(u.key===l)if(10===u.tag?o.type===de:u.type===o.type){n(t,u.sibling);i=r(u,o.type===de?o.props.children:o.props,a);i.ref=To(t,u,o);i.return=t;t=i;break t}else{n(t,u);break}else e(t,u);u=u.sibling}o.type===de?(i=Nr(o.props.children,t.mode,a,o.key),i.return=t,t=i):(a=Fr(o,t.mode,a),a.ref=To(t,i,o),a.return=t,t=a)}return s(t);case pe:t:{for(u=o.key;null!==i;){if(i.key===u)if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(t,i.sibling);i=r(i,o.children||[],a);i.return=t;t=i;break t}else{n(t,i);break}else e(t,i);i=i.sibling}i=jr(o,t.mode,a);i.return=t;t=i}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(t,i.sibling),i=r(i,o,a),i.return=t,t=i):(n(t,i),i=Rr(o,t.mode,a),i.return=t,t=i),s(t);if(wo(o))return y(t,i,o,a);if(Se(o))return _(t,i,o,a);l&&So(t,o);if("undefined"===typeof o&&!u)switch(t.tag){case 2:case 1:a=t.type,f("152",a.displayName||a.name||"Component")}return n(t,i)}}var xo=ko(!0),Ao=ko(!1),Po=null,Oo=null,Eo=!1;function Co(t,e){var n=new Cr(5,null,null,0);n.type="DELETED";n.stateNode=e;n.return=t;n.effectTag=8;null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Mo(t,e){switch(t.tag){case 5:var n=t.type;e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e;return null!==e?(t.stateNode=e,!0):!1;case 6:return e=""===t.pendingProps||3!==e.nodeType?null:e,null!==e?(t.stateNode=e,!0):!1;default:return!1}}function Fo(t){if(Eo){var e=Oo;if(e){var n=e;if(!Mo(t,e)){e=hr(n);if(!e||!Mo(t,e)){t.effectTag|=2;Eo=!1;Po=t;return}Co(Po,n)}Po=t;Oo=fr(e)}else t.effectTag|=2,Eo=!1,Po=t}}function No(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;Po=t}function Ro(t){if(t!==Po)return!1;if(!Eo)return No(t),Eo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!ar(e,t.memoizedProps))for(e=Oo;e;)Co(t,e),e=hr(e);No(t);Oo=Po?hr(t.stateNode):null;return!0}function jo(){Oo=Po=null;Eo=!1}function qo(t,e,n){Io(t,e,n,e.expirationTime)}function Io(t,e,n,i){e.child=null===t?Ao(e,null,n,i):xo(e,t.child,n,i)}function Do(t,e){var n=e.ref;if(null===t&&null!==n||null!==t&&t.ref!==n)e.effectTag|=128}function Lo(t,e,n,i,r){Do(t,e);var o=0!==(e.effectTag&64);if(!n&&!o)return i&&Er(e,!1),zo(t,e);n=e.stateNode;ce.current=e;var s=o?null:n.render();e.effectTag|=1;o&&(Io(t,e,null,r),e.child=null);Io(t,e,s,r);e.memoizedState=n.state;e.memoizedProps=n.props;i&&Er(e,!0);return e.child}function Bo(t){var e=t.stateNode;e.pendingContext?Ar(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ar(t,e.context,!1);fo(t,e.containerInfo)}function Uo(t,e,n,i){var r=t.child;null!==r&&(r.return=t);for(;null!==r;){switch(r.tag){case 12:var o=r.stateNode|0;if(r.type===e&&0!==(o&n)){for(o=r;null!==o;){var s=o.alternate;if(0===o.expirationTime||o.expirationTime>i)o.expirationTime=i,null!==s&&(0===s.expirationTime||s.expirationTime>i)&&(s.expirationTime=i);else if(null!==s&&(0===s.expirationTime||s.expirationTime>i))s.expirationTime=i;else break;o=o.return}o=null}else o=r.child;break;case 13:o=r.type===t.type?null:r.child;break;default:o=r.child}if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}r=o.sibling;if(null!==r){r.return=o.return;o=r;break}o=o.return}r=o}}function Vo(t,e,n){var i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=!0;if(gr.current)s=!1;else if(o===r)return e.stateNode=0,oo(e),zo(t,e);var a=r.value;e.memoizedProps=r;if(null===o)a=1073741823;else if(o.value===r.value){if(o.children===r.children&&s)return e.stateNode=0,oo(e),zo(t,e);a=0}else{var u=o.value;if(u===a&&(0!==u||1/u===1/a)||u!==u&&a!==a){if(o.children===r.children&&s)return e.stateNode=0,oo(e),zo(t,e);a=0}else if(a="function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823,a|=0,0===a){if(o.children===r.children&&s)return e.stateNode=0,oo(e),zo(t,e)}else Uo(e,i,a,n)}e.stateNode=a;oo(e);qo(t,e,r.children);return e.child}function zo(t,e){null!==t&&e.child!==t.child?f("153"):void 0;if(null!==e.child){t=e.child;var n=Mr(t,t.pendingProps,t.expirationTime);e.child=n;for(n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=Mr(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function Wo(t,e,n){if(0===e.expirationTime||e.expirationTime>n){switch(e.tag){case 3:Bo(e);break;case 2:Or(e);break;case 4:fo(e,e.stateNode.containerInfo);break;case 13:oo(e)}return null}switch(e.tag){case 0:null!==t?f("155"):void 0;var i=e.type,r=e.pendingProps,o=wr(e);o=Tr(e,o);i=i(r,o);e.effectTag|=1;"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(o=e.type,e.tag=2,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,o=o.getDerivedStateFromProps,"function"===typeof o&&_o(e,o,r),r=Or(e),i.updater=vo,e.stateNode=i,i._reactInternalFiber=e,bo(e,n),t=Lo(t,e,!0,r,n)):(e.tag=1,qo(t,e,i),e.memoizedProps=r,t=e.child);return t;case 1:return r=e.type,n=e.pendingProps,gr.current||e.memoizedProps!==n?(i=wr(e),i=Tr(e,i),r=r(n,i),e.effectTag|=1,qo(t,e,r),e.memoizedProps=n,t=e.child):t=zo(t,e),t;case 2:r=Or(e);if(null===t)if(null===e.stateNode){var s=e.pendingProps,a=e.type;i=wr(e);var u=2===e.tag&&null!=e.type.contextTypes;o=u?Tr(e,i):h;s=new a(s,o);e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null;s.updater=vo;e.stateNode=s;s._reactInternalFiber=e;u&&(u=e.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=i,u.__reactInternalMemoizedMaskedChildContext=o);bo(e,n);i=!0}else{a=e.type;i=e.stateNode;u=e.memoizedProps;o=e.pendingProps;i.props=u;var l=i.context;s=wr(e);s=Tr(e,s);var c=a.getDerivedStateFromProps;(a="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(u!==o||l!==s)&&go(e,i,o,s);zr=!1;var p=e.memoizedState;l=i.state=p;var d=e.updateQueue;null!==d&&(Yr(e,d,o,i,n),l=e.memoizedState);u!==o||p!==l||gr.current||zr?("function"===typeof c&&(_o(e,c,o),l=e.memoizedState),(u=zr||mo(e,u,o,p,l,s))?(a||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(e.effectTag|=4)):("function"===typeof i.componentDidMount&&(e.effectTag|=4),e.memoizedProps=o,e.memoizedState=l),i.props=o,i.state=l,i.context=s,i=u):("function"===typeof i.componentDidMount&&(e.effectTag|=4),i=!1)}else a=e.type,i=e.stateNode,o=e.memoizedProps,u=e.pendingProps,i.props=o,l=i.context,s=wr(e),s=Tr(e,s),c=a.getDerivedStateFromProps,(a="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||l!==s)&&go(e,i,u,s),zr=!1,l=e.memoizedState,p=i.state=l,d=e.updateQueue,null!==d&&(Yr(e,d,u,i,n),p=e.memoizedState),o!==u||l!==p||gr.current||zr?("function"===typeof c&&(_o(e,c,u),p=e.memoizedState),(c=zr||mo(e,o,u,l,p,s))?(a||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(u,p,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(u,p,s)),"function"===typeof i.componentDidUpdate&&(e.effectTag|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof i.componentDidUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=u,e.memoizedState=p),i.props=u,i.state=p,i.context=s,i=c):("function"!==typeof i.componentDidUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),i=!1);return Lo(t,e,i,r,n);case 3:Bo(e);r=e.updateQueue;if(null!==r)if(i=e.memoizedState,i=null!==i?i.element:null,Yr(e,r,e.pendingProps,null,n),r=e.memoizedState.element,r===i)jo(),t=zo(t,e);else{i=e.stateNode;if(i=(null===t||null===t.child)&&i.hydrate)Oo=fr(e.stateNode.containerInfo),Po=e,i=Eo=!0;i?(e.effectTag|=2,e.child=Ao(e,null,r,n)):(jo(),qo(t,e,r));t=e.child}else jo(),t=zo(t,e);return t;case 5:t:{ho(co.current);r=ho(uo.current);i=Di(r,e.type);r!==i&&(vr(lo,e,e),vr(uo,i,e));null===t&&Fo(e);r=e.type;u=e.memoizedProps;i=e.pendingProps;o=null!==t?t.memoizedProps:null;if(!gr.current&&u===i){if(u=e.mode&1&&!!i.hidden)e.expirationTime=1073741823;if(!u||1073741823!==n){t=zo(t,e);break t}}u=i.children;ar(r,i)?u=null:o&&ar(r,o)&&(e.effectTag|=16);Do(t,e);1073741823!==n&&e.mode&1&&i.hidden?(e.expirationTime=1073741823,e.memoizedProps=i,t=null):(qo(t,e,u),e.memoizedProps=i,t=e.child)}return t;case 6:return null===t&&Fo(e),e.memoizedProps=e.pendingProps,null;case 16:return null;case 4:return fo(e,e.stateNode.containerInfo),r=e.pendingProps,gr.current||e.memoizedProps!==r?(null===t?e.child=xo(e,null,r,n):qo(t,e,r),e.memoizedProps=r,t=e.child):t=zo(t,e),t;case 14:return r=e.type.render,n=e.pendingProps,i=e.ref,gr.current||e.memoizedProps!==n||i!==(null!==t?t.ref:null)?(r=r(n,i),qo(t,e,r),e.memoizedProps=n,t=e.child):t=zo(t,e),t;case 10:return n=e.pendingProps,gr.current||e.memoizedProps!==n?(qo(t,e,n),e.memoizedProps=n,t=e.child):t=zo(t,e),t;case 11:return n=e.pendingProps.children,gr.current||null!==n&&e.memoizedProps!==n?(qo(t,e,n),e.memoizedProps=n,t=e.child):t=zo(t,e),t;case 15:return n=e.pendingProps,e.memoizedProps===n?t=zo(t,e):(qo(t,e,n.children),e.memoizedProps=n,t=e.child),t;case 13:return Vo(t,e,n);case 12:t:if(i=e.type,o=e.pendingProps,u=e.memoizedProps,r=i._currentValue,s=i._changedBits,gr.current||0!==s||u!==o){e.memoizedProps=o;a=o.unstable_observedBits;if(void 0===a||null===a)a=1073741823;e.stateNode=a;if(0!==(s&a))Uo(e,i,s,n);else if(u===o){t=zo(t,e);break t}n=o.children;n=n(r);e.effectTag|=1;qo(t,e,n);t=e.child}else t=zo(t,e);return t;default:f("156")}}function Go(t){t.effectTag|=4}var Qo=void 0,$o=void 0,Ho=void 0;Qo=function(){};$o=function(t,e,n){(e.updateQueue=n)&&Go(e)};Ho=function(t,e,n,i){n!==i&&Go(e)};function Ko(t,e){var n=e.pendingProps;switch(e.tag){case 1:return null;case 2:return kr(e),null;case 3:po(e);xr(e);var i=e.stateNode;i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null);if(null===t||null===t.child)Ro(e),e.effectTag&=-3;Qo(e);return null;case 5:yo(e);i=ho(co.current);var r=e.type;if(null!==t&&null!=e.stateNode){var o=t.memoizedProps,s=e.stateNode,a=ho(uo.current);s=Ji(s,r,o,n,i);$o(t,e,s,r,o,n,i,a);t.ref!==e.ref&&(e.effectTag|=128)}else{if(!n)return null===e.stateNode?f("166"):void 0,null;t=ho(uo.current);if(Ro(e))n=e.stateNode,r=e.type,o=e.memoizedProps,n[z]=e,n[W]=o,i=er(n,r,o,t,i),e.updateQueue=i,null!==i&&Go(e);else{t=Zi(r,n,i,t);t[z]=e;t[W]=n;t:for(o=e.child;null!==o;){if(5===o.tag||6===o.tag)t.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o;o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)break t;o=o.return}o.sibling.return=o.return;o=o.sibling}Yi(t,r,n,i);sr(r,n)&&Go(e);e.stateNode=t}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ho(t,e,t.memoizedProps,n);else{if("string"!==typeof n)return null===e.stateNode?f("166"):void 0,null;i=ho(co.current);ho(uo.current);Ro(e)?(i=e.stateNode,n=e.memoizedProps,i[z]=e,nr(i,n)&&Go(e)):(i=Xi(n,i),i[z]=e,e.stateNode=i)}return null;case 14:return null;case 16:return null;case 10:return null;case 11:return null;case 15:return null;case 4:return po(e),Qo(e),null;case 13:return so(e),null;case 12:return null;case 0:f("167");default:f("156")}}function Zo(t,e){var n=e.source;null===e.stack&&null!==n&&xe(n);null!==n&&ke(n);e=e.value;null!==t&&2===t.tag&&ke(t);try{e&&e.suppressReactErrorLogging||console.error(e)}catch(t){t&&t.suppressReactErrorLogging||console.error(t)}}function Xo(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){As(t,e)}else e.current=null}function Yo(t){"function"===typeof Vr&&Vr(t);switch(t.tag){case 2:Xo(t);var e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){As(t,e)}break;case 5:Xo(t);break;case 4:es(t)}}function Jo(t){return 5===t.tag||3===t.tag||4===t.tag}function ts(t){t:{for(var e=t.return;null!==e;){if(Jo(e)){var n=e;break t}e=e.return}f("160");n=void 0}var i=e=void 0;switch(n.tag){case 5:e=n.stateNode;i=!1;break;case 3:e=n.stateNode.containerInfo;i=!0;break;case 4:e=n.stateNode.containerInfo;i=!0;break;default:f("161")}n.effectTag&16&&(Ui(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Jo(n.return)){n=null;break t}n=n.return}n.sibling.return=n.return;for(n=n.sibling;5!==n.tag&&6!==n.tag;){if(n.effectTag&2)continue e;if(null===n.child||4===n.tag)continue e;else n.child.return=n,n=n.child}if(!(n.effectTag&2)){n=n.stateNode;break t}}for(var r=t;;){if(5===r.tag||6===r.tag)if(n)if(i){var o=e,s=r.stateNode,a=n;8===o.nodeType?o.parentNode.insertBefore(s,a):o.insertBefore(s,a)}else e.insertBefore(r.stateNode,n);else i?(o=e,s=r.stateNode,8===o.nodeType?o.parentNode.insertBefore(s,o):o.appendChild(s)):e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return;r=r.sibling}}function es(t){for(var e=t,n=!1,i=void 0,r=void 0;;){if(!n){n=e.return;t:for(;;){null===n?f("160"):void 0;switch(n.tag){case 5:i=n.stateNode;r=!1;break t;case 3:i=n.stateNode.containerInfo;r=!0;break t;case 4:i=n.stateNode.containerInfo;r=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var o=e,s=o;;)if(Yo(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break t;s=s.return}s.sibling.return=s.return;s=s.sibling}r?(o=i,s=e.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(e.stateNode)}else if(4===e.tag?i=e.stateNode.containerInfo:Yo(e),null!==e.child){e.child.return=e;e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return;4===e.tag&&(n=!1)}e.sibling.return=e.return;e=e.sibling}}function ns(t,e){switch(e.tag){case 2:break;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps;t=null!==t?t.memoizedProps:i;var r=e.type,o=e.updateQueue;e.updateQueue=null;null!==o&&(n[W]=i,tr(n,o,r,t,i))}break;case 6:null===e.stateNode?f("162"):void 0;e.stateNode.nodeValue=e.memoizedProps;break;case 3:break;case 15:break;case 16:break;default:f("163")}}function is(t,e,n){n=Qr(n);n.tag=3;n.payload={element:null};var i=e.value;n.callback=function(){la(i);Zo(t,e)};return n}function rs(t,e,n){n=Qr(n);n.tag=3;var i=t.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){null===ws?ws=new Set([this]):ws.add(this);var n=e.value,i=e.stack;Zo(t,e);this.componentDidCatch(n,{componentStack:null!==i?i:""})});return n}function os(t,e,n,i,r,o){n.effectTag|=512;n.firstEffect=n.lastEffect=null;i=eo(i,n);t=e;do{switch(t.tag){case 3:t.effectTag|=1024;i=is(t,i,o);Kr(t,i,o);return;case 2:if(e=i,n=t.stateNode,0===(t.effectTag&64)&&null!==n&&"function"===typeof n.componentDidCatch&&(null===ws||!ws.has(n))){t.effectTag|=1024;i=rs(t,e,o);Kr(t,i,o);return}}t=t.return}while(null!==t)}function ss(t){switch(t.tag){case 2:kr(t);var e=t.effectTag;return e&1024?(t.effectTag=e&-1025|64,t):null;case 3:return po(t),xr(t),e=t.effectTag,e&1024?(t.effectTag=e&-1025|64,t):null;case 5:return yo(t),null;case 16:return e=t.effectTag,e&1024?(t.effectTag=e&-1025|64,t):null;case 4:return po(t),null;case 13:return so(t),null;default:return null}}var as=ur(),us=2,ls=as,cs=0,hs=0,fs=!1,ps=null,ds=null,ys=0,_s=-1,vs=!1,ms=null,gs=!1,bs=!1,ws=null;function Ts(){if(null!==ps)for(var t=ps.return;null!==t;){var e=t;switch(e.tag){case 2:kr(e);break;case 3:po(e);xr(e);break;case 5:yo(e);break;case 4:po(e);break;case 13:so(e)}t=t.return}ds=null;ys=0;_s=-1;vs=!1;ps=null;bs=!1}function Ss(t){for(;;){var e=t.alternate,n=t.return,i=t.sibling;if(0===(t.effectTag&512)){e=Ko(e,t,ys);var r=t;if(1073741823===ys||1073741823!==r.expirationTime){var o=0;switch(r.tag){case 3:case 2:var s=r.updateQueue;null!==s&&(o=s.expirationTime)}for(s=r.child;null!==s;)0!==s.expirationTime&&(0===o||o>s.expirationTime)&&(o=s.expirationTime),s=s.sibling;r.expirationTime=o}if(null!==e)return e;null!==n&&0===(n.effectTag&512)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t));if(null!==i)return i;if(null!==n)t=n;else{bs=!0;break}}else{t=ss(t,vs,ys);if(null!==t)return t.effectTag&=511,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512);if(null!==i)return i;if(null!==n)t=n;else break}}return null}function ks(t){var e=Wo(t.alternate,t,ys);null===e&&(e=Ss(t));ce.current=null;return e}function xs(t,e,n){fs?f("243"):void 0;fs=!0;if(e!==ys||t!==ds||null===ps)Ts(),ds=t,ys=e,_s=-1,ps=Mr(ds.current,null,ys),t.pendingCommitExpirationTime=0;var i=!1;vs=!n||ys<=us;do{try{if(n)for(;null!==ps&&!ua();)ps=ks(ps);else for(;null!==ps;)ps=ks(ps)}catch(e){if(null===ps)i=!0,la(e);else{null===ps?f("271"):void 0;n=ps;var r=n.return;if(null===r){i=!0;la(e);break}os(t,r,n,e,vs,ys,ls);ps=Ss(n)}}break}while(1);fs=!1;if(i)return null;if(null===ps){if(bs)return t.pendingCommitExpirationTime=e,t.current.alternate;vs?f("262"):void 0;0<=_s&&setTimeout(function(){var e=t.current.expirationTime;0!==e&&(0===t.remainingExpirationTime||t.remainingExpirationTime<e)&&Js(t,e)},_s);ca(t.current.expirationTime)}return null}function As(t,e){var n;t:{fs&&!gs?f("263"):void 0;for(n=t.return;null!==n;){switch(n.tag){case 2:var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromCatch||"function"===typeof i.componentDidCatch&&(null===ws||!ws.has(i))){t=eo(e,t);t=rs(n,t,1);Hr(n,t,1);Es(n,1);n=void 0;break t}break;case 3:t=eo(e,t);t=is(n,t,1);Hr(n,t,1);Es(n,1);n=void 0;break t}n=n.return}3===t.tag&&(n=eo(e,t),n=is(t,n,1),Hr(t,n,1),Es(t,1));n=void 0}return n}function Ps(){var t=2+25*(((Cs()-2+500)/25|0)+1);t<=cs&&(t=cs+1);return cs=t}function Os(t,e){t=0!==hs?hs:fs?gs?1:ys:e.mode&1?$s?2+10*(((t-2+15)/10|0)+1):2+25*(((t-2+500)/25|0)+1):1;$s&&(0===Bs||t>Bs)&&(Bs=t);return t}function Es(t,e){for(;null!==t;){if(0===t.expirationTime||t.expirationTime>e)t.expirationTime=e;null!==t.alternate&&(0===t.alternate.expirationTime||t.alternate.expirationTime>e)&&(t.alternate.expirationTime=e);if(null===t.return)if(3===t.tag){var n=t.stateNode;!fs&&0!==ys&&e<ys&&Ts();var i=n.current.expirationTime;fs&&!gs&&ds===n||Js(n,i);Zs>Ks&&f("185")}else break;t=t.return}}function Cs(){ls=ur()-as;return us=(ls/10|0)+2}function Ms(t){var e=hs;hs=2+25*(((Cs()-2+500)/25|0)+1);try{return t()}finally{hs=e}}function Fs(t,e,n,i,r){var o=hs;hs=1;try{return t(e,n,i,r)}finally{hs=o}}var Ns=null,Rs=null,js=0,qs=void 0,Is=!1,Ds=null,Ls=0,Bs=0,Us=!1,Vs=!1,zs=null,Ws=null,Gs=!1,Qs=!1,$s=!1,Hs=null,Ks=1e3,Zs=0,Xs=1;function Ys(t){if(0!==js){if(t>js)return;null!==qs&&cr(qs)}var e=ur()-as;js=t;qs=lr(ea,{timeout:10*(t-2)-e})}function Js(t,e){if(null===t.nextScheduledRoot)t.remainingExpirationTime=e,null===Rs?(Ns=Rs=t,t.nextScheduledRoot=t):(Rs=Rs.nextScheduledRoot=t,Rs.nextScheduledRoot=Ns);else{var n=t.remainingExpirationTime;if(0===n||e<n)t.remainingExpirationTime=e}Is||(Gs?Qs&&(Ds=t,Ls=1,sa(t,1,!1)):1===e?na():Ys(e))}function ta(){var t=0,e=null;if(null!==Rs)for(var n=Rs,i=Ns;null!==i;){var r=i.remainingExpirationTime;if(0===r){null===n||null===Rs?f("244"):void 0;if(i===i.nextScheduledRoot){Ns=Rs=i.nextScheduledRoot=null;break}else if(i===Ns)Ns=r=i.nextScheduledRoot,Rs.nextScheduledRoot=r,i.nextScheduledRoot=null;else if(i===Rs){Rs=n;Rs.nextScheduledRoot=Ns;i.nextScheduledRoot=null;break}else n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null;i=n.nextScheduledRoot}else{if(0===t||r<t)t=r,e=i;if(i===Rs)break;n=i;i=i.nextScheduledRoot}}n=Ds;null!==n&&n===e&&1===t?Zs++:Zs=0;Ds=e;Ls=t}function ea(t){ia(0,!0,t)}function na(){ia(1,!1,null)}function ia(t,e,n){Ws=n;ta();if(e)for(;null!==Ds&&0!==Ls&&(0===t||t>=Ls)&&(!Us||Cs()>=Ls);)Cs(),sa(Ds,Ls,!Us),ta();else for(;null!==Ds&&0!==Ls&&(0===t||t>=Ls);)sa(Ds,Ls,!1),ta();null!==Ws&&(js=0,qs=null);0!==Ls&&Ys(Ls);Ws=null;Us=!1;oa()}function ra(t,e){Is?f("253"):void 0;Ds=t;Ls=e;sa(t,e,!1);na();oa()}function oa(){Zs=0;if(null!==Hs){var t=Hs;Hs=null;for(var e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){Vs||(Vs=!0,zs=t)}}}if(Vs)throw t=zs,zs=null,Vs=!1,t}function sa(t,e,n){Is?f("245"):void 0;Is=!0;n?(n=t.finishedWork,null!==n?aa(t,n,e):(n=xs(t,e,!0),null!==n&&(ua()?t.finishedWork=n:aa(t,n,e)))):(n=t.finishedWork,null!==n?aa(t,n,e):(n=xs(t,e,!1),null!==n&&aa(t,n,e)));Is=!1}function aa(t,e,n){var i=t.firstBatch;if(null!==i&&i._expirationTime<=n&&(null===Hs?Hs=[i]:Hs.push(i),i._defer)){t.finishedWork=e;t.remainingExpirationTime=0;return}t.finishedWork=null;gs=fs=!0;n=e.stateNode;n.current===e?f("177"):void 0;i=n.pendingCommitExpirationTime;0===i?f("261"):void 0;n.pendingCommitExpirationTime=0;Cs();ce.current=null;if(1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var r=e.firstEffect}else r=e;else r=e.firstEffect;rr=Dn;var o=u();if(Xn(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else t:{var a=window.getSelection&&window.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var l=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch(t){s=null;break t}var p=0,d=-1,y=-1,_=0,v=0,m=o,g=null;e:for(;;){for(var b;;){m!==s||0!==l&&3!==m.nodeType||(d=p+l);m!==h||0!==a&&3!==m.nodeType||(y=p+a);3===m.nodeType&&(p+=m.nodeValue.length);if(null===(b=m.firstChild))break;g=m;m=b}for(;;){if(m===o)break e;g===s&&++_===l&&(d=p);g===h&&++v===a&&(y=p);if(null!==(b=m.nextSibling))break;m=g;g=m.parentNode}m=b}s=-1===d||-1===y?null:{start:d,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;or={focusedElem:o,selectionRange:s};Ln(!1);for(ms=r;null!==ms;){o=!1;s=void 0;try{for(;null!==ms;){if(ms.effectTag&256){var w=ms.alternate;l=ms;switch(l.tag){case 2:if(l.effectTag&256&&null!==w){var T=w.memoizedProps,S=w.memoizedState,k=l.stateNode;k.props=l.memoizedProps;k.state=l.memoizedState;var x=k.getSnapshotBeforeUpdate(T,S);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:case 5:case 6:case 4:break;default:f("163")}}ms=ms.nextEffect}}catch(t){o=!0,s=t}o&&(null===ms?f("178"):void 0,As(ms,s),null!==ms&&(ms=ms.nextEffect))}for(ms=r;null!==ms;){w=!1;T=void 0;try{for(;null!==ms;){var A=ms.effectTag;A&16&&Ui(ms.stateNode,"");if(A&128){var P=ms.alternate;if(null!==P){var O=P.ref;null!==O&&("function"===typeof O?O(null):O.current=null)}}switch(A&14){case 2:ts(ms);ms.effectTag&=-3;break;case 6:ts(ms);ms.effectTag&=-3;ns(ms.alternate,ms);break;case 4:ns(ms.alternate,ms);break;case 8:S=ms,es(S),S.return=null,S.child=null,S.alternate&&(S.alternate.child=null,S.alternate.return=null)}ms=ms.nextEffect}}catch(t){w=!0,T=t}w&&(null===ms?f("178"):void 0,As(ms,T),null!==ms&&(ms=ms.nextEffect))}O=or;P=u();A=O.focusedElem;w=O.selectionRange;if(P!==A&&c(document.documentElement,A)){null!==w&&Xn(A)&&(P=w.start,O=w.end,void 0===O&&(O=P),"selectionStart"in A?(A.selectionStart=P,A.selectionEnd=Math.min(O,A.value.length)):window.getSelection&&(P=window.getSelection(),T=A[_t()].length,O=Math.min(w.start,T),w=void 0===w.end?O:Math.min(w.end,T),!P.extend&&O>w&&(T=w,w=O,O=T),T=Zn(A,O),S=Zn(A,w),T&&S&&(1!==P.rangeCount||P.anchorNode!==T.node||P.anchorOffset!==T.offset||P.focusNode!==S.node||P.focusOffset!==S.offset)&&(k=document.createRange(),k.setStart(T.node,T.offset),P.removeAllRanges(),O>w?(P.addRange(k),P.extend(S.node,S.offset)):(k.setEnd(S.node,S.offset),P.addRange(k)))));P=[];for(O=A;O=O.parentNode;)1===O.nodeType&&P.push({element:O,left:O.scrollLeft,top:O.scrollTop});"function"===typeof A.focus&&A.focus();for(A=0;A<P.length;A++)O=P[A],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}or=null;Ln(rr);rr=null;n.current=e;for(ms=r;null!==ms;){r=!1;A=void 0;try{for(P=i;null!==ms;){var E=ms.effectTag;if(E&36){var C=ms.alternate;O=ms;w=P;switch(O.tag){case 2:var M=O.stateNode;if(O.effectTag&4)if(null===C)M.props=O.memoizedProps,M.state=O.memoizedState,M.componentDidMount();else{var F=C.memoizedProps,N=C.memoizedState;M.props=O.memoizedProps;M.state=O.memoizedState;M.componentDidUpdate(F,N,M.__reactInternalSnapshotBeforeUpdate)}var R=O.updateQueue;null!==R&&(M.props=O.memoizedProps,M.state=O.memoizedState,to(O,R,M,w));break;case 3:var j=O.updateQueue;if(null!==j){T=null;if(null!==O.child)switch(O.child.tag){case 5:T=O.child.stateNode;break;case 2:T=O.child.stateNode}to(O,j,T,w)}break;case 5:var q=O.stateNode;null===C&&O.effectTag&4&&sr(O.type,O.memoizedProps)&&q.focus();break;case 6:break;case 4:break;case 15:break;case 16:break;default:f("163")}}if(E&128){O=void 0;var I=ms.ref;if(null!==I){var D=ms.stateNode;switch(ms.tag){case 5:O=D;break;default:O=D}"function"===typeof I?I(O):I.current=O}}var L=ms.nextEffect;ms.nextEffect=null;ms=L}}catch(t){r=!0,A=t}r&&(null===ms?f("178"):void 0,As(ms,A),null!==ms&&(ms=ms.nextEffect))}fs=gs=!1;"function"===typeof Ur&&Ur(e.stateNode);e=n.current.expirationTime;0===e&&(ws=null);t.remainingExpirationTime=e}function ua(){return null===Ws||Ws.timeRemaining()>Xs?!1:Us=!0}function la(t){null===Ds?f("246"):void 0;Ds.remainingExpirationTime=0;Vs||(Vs=!0,zs=t)}function ca(t){null===Ds?f("246"):void 0;Ds.remainingExpirationTime=t}function ha(t,e){var n=Gs;Gs=!0;try{return t(e)}finally{(Gs=n)||Is||na()}}function fa(t,e){if(Gs&&!Qs){Qs=!0;try{return t(e)}finally{Qs=!1}}return t(e)}function pa(t,e){Is?f("187"):void 0;var n=Gs;Gs=!0;try{return Fs(t,e)}finally{Gs=n,na()}}function da(t,e,n){if($s)return t(e,n);Gs||Is||0===Bs||(ia(Bs,!1,null),Bs=0);var i=$s,r=Gs;Gs=$s=!0;try{return t(e,n)}finally{$s=i,(Gs=r)||Is||na()}}function ya(t){var e=Gs;Gs=!0;try{Fs(t)}finally{(Gs=e)||Is||ia(1,!1,null)}}function _a(t,e,n,i,r){var o=e.current;if(n){n=n._reactInternalFiber;var s;t:{2===dn(n)&&2===n.tag?void 0:f("170");for(s=n;3!==s.tag;){if(Sr(s)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}(s=s.return)?void 0:f("171")}s=s.stateNode.context}n=Sr(n)?Pr(n,s):s}else n=h;null===e.context?e.context=n:e.pendingContext=n;e=r;r=Qr(i);r.payload={element:t};e=void 0===e?null:e;null!==e&&(r.callback=e);Hr(o,r,i);Es(o,i);return i}function va(t){var e=t._reactInternalFiber;void 0===e&&("function"===typeof t.render?f("188"):f("268",Object.keys(t)));t=vn(e);return null===t?null:t.stateNode}function ma(t,e,n,i){var r=e.current,o=Cs();r=Os(o,r);return _a(t,e,n,r,i)}function ga(t){t=t.current;if(!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ba(t){var e=t.findFiberByHostInstance;return Br(s({},t,{findHostInstanceByFiber:function(t){t=vn(t);return null===t?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}var wa={updateContainerAtExpirationTime:_a,createContainer:function(t,e,n){return qr(t,e,n)},updateContainer:ma,flushRoot:ra,requestWork:Js,computeUniqueAsyncExpiration:Ps,batchedUpdates:ha,unbatchedUpdates:fa,deferredUpdates:Ms,syncUpdates:Fs,interactiveUpdates:da,flushInteractiveUpdates:function(){Is||0===Bs||(ia(Bs,!1,null),Bs=0)},flushControlled:ya,flushSync:pa,getPublicRootInstance:ga,findHostInstance:va,findHostInstanceWithNoPortals:function(t){t=mn(t);return null===t?null:t.stateNode},injectIntoDevTools:ba};function Ta(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:pe,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}zt.injectFiberControlledHostComponent(ir);function Sa(t){this._expirationTime=Ps();this._root=t;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}Sa.prototype.render=function(t){this._defer?void 0:f("250");this._hasChildren=!0;this._children=t;var e=this._root._internalRoot,n=this._expirationTime,i=new ka;_a(t,e,null,n,i._onCommit);return i};Sa.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]);e.push(t)}};Sa.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;this._defer&&null!==e?void 0:f("251");if(this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var i=null,r=e;r!==this;)i=r,r=r._next;null===i?f("251"):void 0;i._next=r._next;this._next=e;t.firstBatch=this}this._defer=!1;ra(t,n);e=this._next;this._next=null;e=t.firstBatch=e;null!==e&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1};Sa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}};function ka(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}ka.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]);e.push(t)}};ka.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n?f("191",n):void 0;n()}}};function xa(t,e,n){this._internalRoot=qr(t,e,n)}xa.prototype.render=function(t,e){var n=this._internalRoot,i=new ka;e=void 0===e?null:e;null!==e&&i.then(e);ma(t,n,null,i._onCommit);return i};xa.prototype.unmount=function(t){var e=this._internalRoot,n=new ka;t=void 0===t?null:t;null!==t&&n.then(t);ma(null,e,null,n._onCommit);return n};xa.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var i=this._internalRoot,r=new ka;n=void 0===n?null:n;null!==n&&r.then(n);ma(e,i,t,r._onCommit);return r};xa.prototype.createBatch=function(){var t=new Sa(this),e=t._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=t,t._next=null;else{for(n=null;null!==i&&i._expirationTime<=e;)n=i,i=i._next;t._next=i;null!==n&&(n._next=t)}return t};function Aa(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}Xt=wa.batchedUpdates;Yt=wa.interactiveUpdates;Jt=wa.flushInteractiveUpdates;function Pa(t,e){e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot")));if(!e)for(var n;n=t.lastChild;)t.removeChild(n);return new xa(t,!1,e)}function Oa(t,e,n,i,r){Aa(n)?void 0:f("200");var o=n._reactRootContainer;if(o){if("function"===typeof r){var s=r;r=function(){var t=ga(o._internalRoot);s.call(t)}}null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)}else{o=n._reactRootContainer=Pa(n,i);if("function"===typeof r){var a=r;r=function(){var t=ga(o._internalRoot);a.call(t)}}fa(function(){null!=t?o.legacy_renderSubtreeIntoContainer(t,e,r):o.render(e,r)})}return ga(o._internalRoot)}function Ea(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Aa(e)?void 0:f("200");return Ta(t,e,null,n)}var Ca={createPortal:Ea,findDOMNode:function(t){return null==t?null:1===t.nodeType?t:va(t)},hydrate:function(t,e,n){return Oa(null,t,e,!0,n)},render:function(t,e,n){return Oa(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,i){null==t||void 0===t._reactInternalFiber?f("38"):void 0;return Oa(t,e,n,!1,i)},unmountComponentAtNode:function(t){Aa(t)?void 0:f("40");return t._reactRootContainer?(fa(function(){Oa(null,null,t,!1,function(){t._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return Ea.apply(void 0,arguments)},unstable_batchedUpdates:ha,unstable_deferredUpdates:Ms,unstable_interactiveUpdates:da,flushSync:pa,unstable_flushControlled:ya,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:U,EventPluginRegistry:A,EventPropagators:rt,ReactControlledComponent:Zt,ReactDOMComponentTree:H,ReactDOMEventListener:Wn},unstable_createRoot:function(t,e){return new xa(t,!0,null!=e&&!0===e.hydrate)}};ba({findFiberByHostInstance:G,bundleType:0,version:"16.4.1",rendererPackageName:"react-dom"});var Ma={default:Ca},Fa=Ma&&Ca||Ma;t.exports=Fa.default?Fa.default:Fa},"./node_modules/react-dom/index.js":function(t,e,n){"use strict";function i(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function"){return}if(false){throw new Error("^_^")}try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}if(true){i();t.exports=n("./node_modules/react-dom/cjs/react-dom.production.min.js")}else{t.exports=require("./cjs/react-dom.development.js")}},"./node_modules/react/cjs/react.production.min.js":function(t,e,n){"use strict";var i=n("./node_modules/object-assign/index.js"),r=n("./node_modules/fbjs/lib/invariant.js"),o=n("./node_modules/fbjs/lib/emptyObject.js"),s=n("./node_modules/fbjs/lib/emptyFunction.js"),a="function"===typeof Symbol&&Symbol.for,u=a?Symbol.for("react.element"):60103,l=a?Symbol.for("react.portal"):60106,c=a?Symbol.for("react.fragment"):60107,h=a?Symbol.for("react.strict_mode"):60108,f=a?Symbol.for("react.profiler"):60114,p=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,y=a?Symbol.for("react.async_mode"):60111,_=a?Symbol.for("react.forward_ref"):60112;a&&Symbol.for("react.timeout");var v="function"===typeof Symbol&&Symbol.iterator;function m(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(t,e,n){this.props=t;this.context=e;this.refs=o;this.updater=n||g}b.prototype.isReactComponent={};b.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t?m("85"):void 0;this.updater.enqueueSetState(this,t,e,"setState")};b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function w(){}w.prototype=b.prototype;function T(t,e,n){this.props=t;this.context=e;this.refs=o;this.updater=n||g}var S=T.prototype=new w;S.constructor=T;i(S,b.prototype);S.isPureReactComponent=!0;var k={current:null},x=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function P(t,e,n){var i=void 0,r={},o=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)x.call(e,i)&&!A.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:u,type:t,key:o,ref:s,props:r,_owner:k.current}}function O(t){return"object"===typeof t&&null!==t&&t.$$typeof===u}function E(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}var C=/\/+/g,M=[];function F(t,e,n,i){if(M.length){var r=M.pop();r.result=t;r.keyPrefix=e;r.func=n;r.context=i;r.count=0;return r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function N(t){t.result=null;t.keyPrefix=null;t.func=null;t.context=null;t.count=0;10>M.length&&M.push(t)}function R(t,e,n,i){var r=typeof t;if("undefined"===r||"boolean"===r)t=null;var o=!1;if(null===t)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case u:case l:o=!0}}if(o)return n(i,t,""===e?"."+j(t,0):e),1;o=0;e=""===e?".":e+":";if(Array.isArray(t))for(var s=0;s<t.length;s++){r=t[s];var a=e+j(r,s);o+=R(r,a,n,i)}else if(null===t||"undefined"===typeof t?a=null:(a=v&&t[v]||t["@@iterator"],a="function"===typeof a?a:null),"function"===typeof a)for(t=a.call(t),s=0;!(r=t.next()).done;)r=r.value,a=e+j(r,s++),o+=R(r,a,n,i);else"object"===r&&(n=""+t,m("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return o}function j(t,e){return"object"===typeof t&&null!==t&&null!=t.key?E(t.key):e.toString(36)}function q(t,e){t.func.call(t.context,e,t.count++)}function I(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++);Array.isArray(t)?D(t,i,n,s.thatReturnsArgument):null!=t&&(O(t)&&(e=r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(C,"$&/")+"/")+n,t={$$typeof:u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),i.push(t))}function D(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(C,"$&/")+"/");e=F(e,o,i,r);null==t||R(t,"",I,e);N(e)}var L={Children:{map:function(t,e,n){if(null==t)return t;var i=[];D(t,i,null,e,n);return i},forEach:function(t,e,n){if(null==t)return t;e=F(null,null,e,n);null==t||R(t,"",q,e);N(e)},count:function(t){return null==t?0:R(t,"",s.thatReturnsNull,null)},toArray:function(t){var e=[];D(t,e,null,s.thatReturnsArgument);return e},only:function(t){O(t)?void 0:m("143");return t}},createRef:function(){return{current:null}},Component:b,PureComponent:T,createContext:function(t,e){void 0===e&&(e=null);t={$$typeof:d,_calculateChangedBits:e,_defaultValue:t,_currentValue:t,_currentValue2:t,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null};t.Provider={$$typeof:p,_context:t};return t.Consumer=t},forwardRef:function(t){return{$$typeof:_,render:t}},Fragment:c,StrictMode:h,unstable_AsyncMode:y,unstable_Profiler:f,createElement:P,cloneElement:function(t,e,n){null===t||void 0===t?m("267",t):void 0;var r=void 0,o=i({},t.props),s=t.key,a=t.ref,l=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,l=k.current);void 0!==e.key&&(s=""+e.key);var c=void 0;t.type&&t.type.defaultProps&&(c=t.type.defaultProps);for(r in e)x.call(e,r)&&!A.hasOwnProperty(r)&&(o[r]=void 0===e[r]&&void 0!==c?c[r]:e[r])}r=arguments.length-2;if(1===r)o.children=n;else if(1<r){c=Array(r);for(var h=0;h<r;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:u,type:t.type,key:s,ref:a,props:o,_owner:l}},createFactory:function(t){var e=P.bind(null,t);e.type=t;return e},isValidElement:O,version:"16.4.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:k,assign:i}},B={default:L},U=B&&L||B;t.exports=U.default?U.default:U},"./node_modules/react/index.js":function(t,e,n){"use strict";if(true){t.exports=n("./node_modules/react/cjs/react.production.min.js")}else{t.exports=require("./cjs/react.development.js")}},"./node_modules/sample-player/lib/events.js":function(t,e){t.exports=function(t){t.on=function(e,i){if(arguments.length===1&&typeof e==="function")return t.on("event",e);var r="on"+e;var o=t[r];t[r]=o?n(o,i):i;return t};return t};function n(t,e){return function(n,i,r,o){t(n,i,r,o);e(n,i,r,o)}}},"./node_modules/sample-player/lib/index.js":function(t,e,n){"use strict";var i=n("./node_modules/sample-player/lib/player.js");var r=n("./node_modules/sample-player/lib/events.js");var o=n("./node_modules/sample-player/lib/notes.js");var s=n("./node_modules/sample-player/lib/scheduler.js");var a=n("./node_modules/sample-player/lib/midi.js");function u(t,e,n){return a(s(o(r(i(t,e,n)))))}if(typeof t==="object"&&t.exports)t.exports=u;if(typeof window!=="undefined")window.SamplePlayer=u},"./node_modules/sample-player/lib/midi.js":function(t,e,n){var i=n("./node_modules/midimessage/dist/index.min.js");t.exports=function(t){t.listenToMidi=function(e,n){var r={};var o=n||{};var s=o.gain||function(t){return t/127};e.onmidimessage=function(e){var n=e.messageType?e:i(e);if(n.messageType==="noteon"&&n.velocity===0){n.messageType="noteoff"}if(o.channel&&n.channel!==o.channel)return;switch(n.messageType){case"noteon":r[n.key]=t.play(n.key,0,{gain:s(n.velocity)});break;case"noteoff":if(r[n.key]){r[n.key].stop();delete r[n.key]}break}};return t};return t}},"./node_modules/sample-player/lib/notes.js":function(t,e,n){"use strict";var i=n("./node_modules/sample-player/node_modules/note-parser/index.js");var r=function(t){return t!==null&&t!==[]&&t>=0&&t<129};var o=function(t){return r(t)?+t:i.midi(t)};t.exports=function(t){if(t.buffers){var e=t.opts.map;var n=typeof e==="function"?e:o;var i=function(t){return t?n(t)||t:null};t.buffers=s(t.buffers,i);var r=t.start;t.start=function(t,e,n){var o=i(t);var s=o%1;if(s){o=Math.floor(o);n=Object.assign(n||{},{cents:Math.floor(s*100)})}return r(o,e,n)}}return t};function s(t,e){return Object.keys(t).reduce(function(n,i){n[e(i)]=t[i];return n},{})}},"./node_modules/sample-player/lib/player.js":function(t,e,n){"use strict";var i=n("./node_modules/adsr/index.js");var r={};var o={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:false,cents:0,loopStart:0,loopEnd:0};function s(t,e,n){var i=false;var s=0;var a={};var u=t.createGain();u.gain.value=1;var h=Object.assign({},o,n);var f={context:t,out:u,opts:h};if(e instanceof AudioBuffer)f.buffer=e;else f.buffers=e;f.start=function(e,n,o){if(f.buffer&&e!==null)return f.start(null,e,n);var s=e?f.buffers[e]:f.buffer;if(!s){console.warn("Buffer "+e+" not found.");return}else if(!i){console.warn("SamplePlayer not connected to any node.");return}var a=o||r;n=Math.max(t.currentTime,n||0);f.emit("start",n,e,a);var u=d(e,s,a);u.id=p(e,u);u.env.start(n);u.source.start(n);f.emit("started",n,u.id,u);if(a.duration)u.stop(n+a.duration);return u};f.play=function(t,e,n){return f.start(t,e,n)};f.stop=function(t,e){var n;e=e||Object.keys(a);return e.map(function(e){n=a[e];if(!n)return null;n.stop(t);return n.id})};f.connect=function(t){i=true;u.connect(t);return f};f.emit=function(t,e,n,i){if(f.onevent)f.onevent(t,e,n,i);var r=f["on"+t];if(r)r(e,n,i)};return f;function p(e,n){n.id=s++;a[n.id]=n;n.source.onended=function(){var e=t.currentTime;n.source.disconnect();n.env.disconnect();n.disconnect();f.emit("ended",e,n.id,n)};return n.id}function d(e,n,i){var r=t.createGain();r.gain.value=0;r.connect(u);r.env=l(t,i,h);r.env.connect(r.gain);r.source=t.createBufferSource();r.source.buffer=n;r.source.connect(r);r.source.loop=i.loop||h.loop;r.source.playbackRate.value=c(i.cents||h.cents);r.source.loopStart=i.loopStart||h.loopStart;r.source.loopEnd=i.loopEnd||h.loopEnd;r.stop=function(n){var i=n||t.currentTime;f.emit("stop",i,e);var o=r.env.stop(i);r.source.stop(o)};return r}}function a(t){return typeof t==="number"}var u=["attack","decay","sustain","release"];function l(t,e,n){var r=i(t);var o=e.adsr||n.adsr;u.forEach(function(t,i){if(o)r[t]=o[i];else r[t]=e[t]||n[t]});r.value.value=a(e.gain)?e.gain:a(n.gain)?n.gain:1;return r}function c(t){return t?Math.pow(2,t/1200):1}t.exports=s},"./node_modules/sample-player/lib/scheduler.js":function(t,e,n){"use strict";var i=Array.isArray;var r=function(t){return t&&typeof t==="object"};var o={};t.exports=function(t){t.schedule=function(e,n){var s=t.context.currentTime;var a=e<s?s:e;t.emit("schedule",a,n);var u,l,c,h;return n.map(function(e){if(!e)return null;else if(i(e)){u=e[0];l=e[1]}else{u=e.time;l=e}if(r(l)){c=l.name||l.key||l.note||l.midi||null;h=l}else{c=l;h=o}return t.start(c,a+(u||0),h)})};return t}},"./node_modules/sample-player/node_modules/note-parser/index.js":function(t,e,n){"use strict";var i=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function r(){return i}var o=[0,2,4,5,7,9,11];function s(t,e,n){if(typeof t!=="string")return null;var r=i.exec(t);if(!r||!e&&r[4])return null;var s={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};s.pc=s.letter+s.acc;s.step=(s.letter.charCodeAt(0)+3)%7;s.alt=s.acc[0]==="b"?-s.acc.length:s.acc.length;s.chroma=o[s.step]+s.alt;if(r[3]){s.oct=+r[3];s.midi=s.chroma+12*(s.oct+1);s.freq=a(s.midi,n)}if(e)s.tonicOf=r[4];return s}function a(t,e){return Math.pow(2,(t-69)/12)*(e||440)}var u={parse:s,regex:r,midiToFreq:a};var l=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];l.forEach(function(t){u[t]=function(e){var n=s(e);return n&&typeof n[t]!=="undefined"?n[t]:null}});t.exports=u},"./node_modules/soundfont-player/lib/index.js":function(t,e,n){"use strict";var i=n("./node_modules/audio-loader/lib/index.js");var r=n("./node_modules/sample-player/lib/index.js");function o(t,e,n){if(arguments.length===1)return function(e,n){return o(t,e,n)};var u=n||{};var l=u.isSoundfontURL||s;var c=u.nameToUrl||a;var h=l(e)?e:c(e,u.soundfont,u.format);return i(t,h,{only:u.only||u.notes}).then(function(n){var i=r(t,n,u).connect(u.destination?u.destination:t.destination);i.url=h;i.name=e;return i})}function s(t){return/\.js(\?.*)?$/i.test(t)}function a(t,e,n){n=n==="ogg"?n:"mp3";e=e==="FluidR3_GM"?e:"MusyngKite";return"https://gleitz.github.io/midi-js-soundfonts/"+e+"/"+t+"-"+n+".js"}var u=n("./node_modules/soundfont-player/lib/legacy.js");u.instrument=o;u.nameToUrl=a;if(typeof t==="object"&&t.exports)t.exports=u;if(typeof window!=="undefined")window.Soundfont=u},"./node_modules/soundfont-player/lib/legacy.js":function(t,e,n){"use strict";var i=n("./node_modules/note-parser/index.js");function r(t,e){console.warn("new Soundfont() is deprected");console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()");if(!(this instanceof r))return new r(t);this.nameToUrl=e||r.nameToUrl;this.ctx=t;this.instruments={};this.promises=[]}r.prototype.onready=function(t){console.warn("deprecated API");console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()");Promise.all(this.promises).then(t)};r.prototype.instrument=function(t,e){console.warn("new Soundfont().instrument() is deprecated.");console.log("Please use Soundfont.instrument() instead.");var n=this.ctx;t=t||"default";if(t in this.instruments)return this.instruments[t];var i={name:t,play:s(n,e)};this.instruments[t]=i;if(t!=="default"){var o=r.instrument(n,t,e).then(function(t){i.play=t.play;return i});this.promises.push(o);i.onready=function(t){console.warn("onready is deprecated. Use Soundfont.instrument().then()");o.then(t)}}else{i.onready=function(t){console.warn("onready is deprecated. Use Soundfont.instrument().then()");t()}}return i};function o(t,e,n){console.warn("Soundfont.loadBuffers is deprecate.");console.log("Use Soundfont.instrument(..) and get buffers properties from the result.");return r.instrument(t,e,n).then(function(t){return t.buffers})}r.loadBuffers=o;function s(t,e){e=e||{};return function(n,r,o,s){console.warn("The oscillator player is deprecated.");console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var a=n>0&&n<129?+n:i.midi(n);var u=a?i.midiToFreq(a,440):null;if(!u)return;o=o||.2;s=s||{};var l=s.destination||e.destination||t.destination;var c=s.vcoType||e.vcoType||"sine";var h=s.gain||e.gain||.4;var f=t.createOscillator();f.type=c;f.frequency.value=u;var p=t.createGain();p.gain.value=h;f.connect(p);p.connect(l);f.start(r);if(o>0)f.stop(r+o);return f}}r.noteToMidi=i.midi;t.exports=r},"./node_modules/tone/build/Tone.js":function(t,e,n){var i;(function(r,o){if(true){!(i=function(){return o()}.call(e,n,e,t),i!==undefined&&(t.exports=i))}else if(typeof t==="object"){t.exports=o()}else{r.Tone=o()}})(this,function(){"use strict";var t;function e(e){t=e()}function n(e){e(t)}e(function(){var t=function(){if(!(this instanceof t)){throw new Error("constructor needs to be called with the 'new' keyword")}};t.prototype.toString=function(){for(var e in t){var n=e[0].match(/^[A-Z]$/);var i=t[e]===this.constructor;if(t.isFunction(t[e])&&n&&i){return e}}return"Tone"};t.prototype.dispose=function(){return this};t.prototype.set=function(e,n,i){if(t.isObject(e)){i=n}else if(t.isString(e)){var r={};r[e]=n;e=r}t:for(var o in e){n=e[o];var s=this;if(o.indexOf(".")!==-1){var a=o.split(".");for(var u=0;u<a.length-1;u++){s=s[a[u]];if(s instanceof t){a.splice(0,u+1);var l=a.join(".");s.set(l,n);continue t}}o=a[a.length-1]}var c=s[o];if(t.isUndef(c)){continue}if(t.Signal&&c instanceof t.Signal||t.Param&&c instanceof t.Param){if(c.value!==n){if(t.isUndef(i)){c.value=n}else{c.rampTo(n,i)}}}else if(c instanceof AudioParam){if(c.value!==n){c.value=n}}else if(t.TimeBase&&c instanceof t.TimeBase){s[o]=n}else if(c instanceof t){c.set(n)}else if(c!==n){s[o]=n}}return this};t.prototype.get=function(e){if(t.isUndef(e)){e=this._collectDefaults(this.constructor)}else if(t.isString(e)){e=[e]}var n={};for(var i=0;i<e.length;i++){var r=e[i];var o=this;var s=n;if(r.indexOf(".")!==-1){var a=r.split(".");for(var u=0;u<a.length-1;u++){var l=a[u];s[l]=s[l]||{};s=s[l];o=o[l]}r=a[a.length-1]}var c=o[r];if(t.isObject(e[r])){s[r]=c.get()}else if(t.Signal&&c instanceof t.Signal){s[r]=c.value}else if(t.Param&&c instanceof t.Param){s[r]=c.value}else if(c instanceof AudioParam){s[r]=c.value}else if(c instanceof t){s[r]=c.get()}else if(!t.isFunction(c)&&t.isDefined(c)){s[r]=c}}return n};t.prototype._collectDefaults=function(e){var n=[];if(t.isDefined(e.defaults)){n=Object.keys(e.defaults)}if(t.isDefined(e._super)){var i=this._collectDefaults(e._super);for(var r=0;r<i.length;r++){if(n.indexOf(i[r])===-1){n.push(i[r])}}}return n};t.defaults=function(e,n,i){var r={};if(e.length===1&&t.isObject(e[0])){r=e[0]}else{for(var o=0;o<n.length;o++){r[n[o]]=e[o]}}if(t.isDefined(i.defaults)){return t.defaultArg(r,i.defaults)}else if(t.isObject(i)){return t.defaultArg(r,i)}else{return r}};t.defaultArg=function(e,n){if(t.isObject(e)&&t.isObject(n)){var i={};for(var r in e){i[r]=t.defaultArg(n[r],e[r])}for(var o in n){i[o]=t.defaultArg(e[o],n[o])}return i}else{return t.isUndef(e)?n:e}};t.connectSeries=function(){var e=arguments[0];for(var n=1;n<arguments.length;n++){var i=arguments[n];e.connect(i);e=i}return t};t.isUndef=function(t){return typeof t==="undefined"};t.isDefined=function(e){return!t.isUndef(e)};t.isFunction=function(t){return typeof t==="function"};t.isNumber=function(t){return typeof t==="number"};t.isObject=function(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object};t.isBoolean=function(t){return typeof t==="boolean"};t.isArray=function(t){return Array.isArray(t)};t.isString=function(t){return typeof t==="string"};t.isNote=function(e){return t.isString(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)};t.noOp=function(){};t.prototype._readOnly=function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){this._readOnly(t[e])}}else{Object.defineProperty(this,t,{writable:false,enumerable:true})}};t.prototype._writable=function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++){this._writable(t[e])}}else{Object.defineProperty(this,t,{writable:true})}};t.State={Started:"started",Stopped:"stopped",Paused:"paused"};t.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)};t.dbToGain=function(t){return Math.pow(10,t/20)};t.gainToDb=function(t){return 20*(Math.log(t)/Math.LN10)};t.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)};t.prototype.now=function(){return t.context.now()};t.now=function(){return t.context.now()};t.extend=function(e,n){if(t.isUndef(n)){n=t}function i(){}i.prototype=n.prototype;e.prototype=new i;e.prototype.constructor=e;e._super=n};var e=null;Object.defineProperty(t,"context",{get:function(){return e},set:function(n){if(t.Context&&n instanceof t.Context){e=n}else{e=new t.Context(n)}t.Context.emit("init",e)}});Object.defineProperty(t.prototype,"context",{get:function(){return t.context}});t.setContext=function(e){t.context=e};Object.defineProperty(t.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}});Object.defineProperty(t.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}});Object.defineProperty(t,"supported",{get:function(){var t=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext");var e=window.hasOwnProperty("Promise");var n=window.hasOwnProperty("Worker");return t&&e&&n}});Object.defineProperty(t,"initialized",{get:function(){return e!==null}});t.getContext=function(e){if(t.initialized){e(t.context)}else{var n=function(){e(t.context);t.Context.off("init",n)};t.Context.on("init",n)}return t};t.version="r12";return t});n(function(t){t.Emitter=function(){t.call(this);this._events={}};t.extend(t.Emitter);t.Emitter.prototype.on=function(t,e){var n=t.split(/\W+/);for(var i=0;i<n.length;i++){var r=n[i];if(!this._events.hasOwnProperty(r)){this._events[r]=[]}this._events[r].push(e)}return this};t.Emitter.prototype.once=function(t,e){var n=function(){e.apply(this,arguments);this.off(t,n)}.bind(this);this.on(t,n);return this};t.Emitter.prototype.off=function(e,n){var i=e.split(/\W+/);for(var r=0;r<i.length;r++){e=i[r];if(this._events.hasOwnProperty(e)){if(t.isUndef(n)){this._events[e]=[]}else{var o=this._events[e];for(var s=0;s<o.length;s++){if(o[s]===n){o.splice(s,1)}}}}}return this};t.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t)){var n=this._events[t].slice(0);for(var i=0,r=n.length;i<r;i++){n[i].apply(this,e)}}}return this};t.Emitter.mixin=function(e){var n=["on","once","off","emit"];e._events={};for(var i=0;i<n.length;i++){var r=n[i];var o=t.Emitter.prototype[r];e[r]=o}return t.Emitter};t.Emitter.prototype.dispose=function(){t.prototype.dispose.call(this);this._events=null;return this};return t.Emitter});n(function(t){t.Timeline=function(){var e=t.defaults(arguments,["memory"],t.Timeline);t.call(this);this._timeline=[];this.memory=e.memory};t.extend(t.Timeline);t.Timeline.defaults={memory:Infinity};Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}});t.Timeline.prototype.add=function(e){if(t.isUndef(e.time)){throw new Error("Tone.Timeline: events must have a time attribute")}e.time=e.time.valueOf();var n=this._search(e.time);this._timeline.splice(n+1,0,e);if(this.length>this.memory){var i=this.length-this.memory;this._timeline.splice(0,i)}return this};t.Timeline.prototype.remove=function(t){var e=this._timeline.indexOf(t);if(e!==-1){this._timeline.splice(e,1)}return this};t.Timeline.prototype.get=function(e,n){n=t.defaultArg(n,"time");var i=this._search(e,n);if(i!==-1){return this._timeline[i]}else{return null}};t.Timeline.prototype.peek=function(){return this._timeline[0]};t.Timeline.prototype.shift=function(){return this._timeline.shift()};t.Timeline.prototype.getAfter=function(e,n){n=t.defaultArg(n,"time");var i=this._search(e,n);if(i+1<this._timeline.length){return this._timeline[i+1]}else{return null}};t.Timeline.prototype.getBefore=function(e,n){n=t.defaultArg(n,"time");var i=this._timeline.length;if(i>0&&this._timeline[i-1][n]<e){return this._timeline[i-1]}var r=this._search(e,n);if(r-1>=0){return this._timeline[r-1]}else{return null}};t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0){if(this._timeline[e].time===t){for(var n=e;n>=0;n--){if(this._timeline[n].time===t){e=n}else{break}}this._timeline=this._timeline.slice(0,e)}else{this._timeline=this._timeline.slice(0,e+1)}}else{this._timeline=[]}}else if(this._timeline.length===1){if(this._timeline[0].time>=t){this._timeline=[]}}return this};t.Timeline.prototype.cancelBefore=function(t){var e=this._search(t);if(e>=0){this._timeline=this._timeline.slice(e+1)}return this};t.Timeline.prototype.previousEvent=function(t){var e=this._timeline.indexOf(t);if(e>0){return this._timeline[e-1]}else{return null}};t.Timeline.prototype._search=function(e,n){if(this._timeline.length===0){return-1}n=t.defaultArg(n,"time");var i=0;var r=this._timeline.length;var o=r;if(r>0&&this._timeline[r-1][n]<=e){return r-1}while(i<o){var s=Math.floor(i+(o-i)/2);var a=this._timeline[s];var u=this._timeline[s+1];if(a[n]===e){for(var l=s;l<this._timeline.length;l++){var c=this._timeline[l];if(c[n]===e){s=l}}return s}else if(a[n]<e&&u[n]>e){return s}else if(a[n]>e){o=s}else{i=s+1}}return-1};t.Timeline.prototype._iterate=function(e,n,i){n=t.defaultArg(n,0);i=t.defaultArg(i,this._timeline.length-1);this._timeline.slice(n,i+1).forEach(function(t){e.call(this,t)}.bind(this))};t.Timeline.prototype.forEach=function(t){this._iterate(t);return this};t.Timeline.prototype.forEachBefore=function(t,e){var n=this._search(t);if(n!==-1){this._iterate(e,0,n)}return this};t.Timeline.prototype.forEachAfter=function(t,e){var n=this._search(t);this._iterate(e,n+1);return this};t.Timeline.prototype.forEachBetween=function(t,e,n){var i=this._search(t);var r=this._search(e);if(i!==-1&&r!==-1){if(this._timeline[i].time!==t){i+=1}if(this._timeline[r].time===e){r-=1}this._iterate(n,i,r)}else if(i===-1){this._iterate(n,0,r)}return this};t.Timeline.prototype.forEachFrom=function(t,e){var n=this._search(t);while(n>=0&&this._timeline[n].time>=t){n--}this._iterate(e,n+1);return this};t.Timeline.prototype.forEachAtTime=function(t,e){var n=this._search(t);if(n!==-1){this._iterate(function(n){if(n.time===t){e.call(this,n)}},0,n)}return this};t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this);this._timeline=null;return this};return t.Timeline});n(function(t){if(t.supported){if(!window.hasOwnProperty("OfflineAudioContext")&&window.hasOwnProperty("webkitOfflineAudioContext")){window.OfflineAudioContext=window.webkitOfflineAudioContext}var e=new OfflineAudioContext(1,1,44100);var n=e.startRendering();if(!(n instanceof Promise)){OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering;OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(t){this.oncomplete=function(e){t(e.renderedBuffer)};this._native_startRendering()}.bind(this))}}}});n(function(t){if(t.supported){if(!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")){window.AudioContext=window.webkitAudioContext}if(!AudioContext.prototype.close){AudioContext.prototype.close=function(){if(t.isFunction(this.suspend)){this.suspend()}return Promise.resolve()}}if(!AudioContext.prototype.resume){AudioContext.prototype.resume=function(){return Promise.resolve()}}if(!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode){AudioContext.prototype.createGain=AudioContext.prototype.createGainNode}if(!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode){AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode}var e=false;var n=new OfflineAudioContext(1,1,44100);var i=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{var r=n.decodeAudioData(i);if(r instanceof Promise){e=true}}catch(t){e=false}if(!e){AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData;AudioContext.prototype.decodeAudioData=function(t){return new Promise(function(e,n){this._native_decodeAudioData(t,e,n)}.bind(this))}}}});n(function(t){t.Context=function(){t.Emitter.call(this);var n=t.defaults(arguments,["context"],t.Context);if(!n.context){n.context=new window.AudioContext;if(!n.context){throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.")}}this._context=n.context;for(var i in this._context){this._defineProperty(this._context,i)}this._latencyHint=n.latencyHint;this._constants={};this.lookAhead=n.lookAhead;this._computedUpdateInterval=0;this._ticker=new e(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval);this._timeouts=new t.Timeline;this._timeoutIds=0;this.on("tick",this._timeoutLoop.bind(this))};t.extend(t.Context,t.Emitter);t.Emitter.mixin(t.Context);t.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03};t.Context.prototype._defineProperty=function(e,n){if(t.isUndef(this[n])){Object.defineProperty(this,n,{get:function(){if(typeof e[n]==="function"){return e[n].bind(e)}else{return e[n]}},set:function(t){e[n]=t}})}};t.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead};t.Context.prototype.ready=function(){return new Promise(function(t){if(this._context.state==="running"){t()}else{this._context.resume().then(function(){t()})}}.bind(this))};t.Context.prototype.close=function(){return this._context.close().then(function(){t.Context.emit("close",this)}.bind(this))};t.Context.prototype.getConstant=function(t){if(this._constants[t]){return this._constants[t]}else{var e=this._context.createBuffer(1,128,this._context.sampleRate);var n=e.getChannelData(0);for(var i=0;i<n.length;i++){n[i]=t}var r=this._context.createBufferSource();r.channelCount=1;r.channelCountMode="explicit";r.buffer=e;r.loop=true;r.start(0);this._constants[t]=r;return r}};t.Context.prototype._timeoutLoop=function(){var t=this.now();while(this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t){this._timeouts.shift().callback()}};t.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var n=this.now();this._timeouts.add({callback:t,time:n+e,id:this._timeoutIds});return this._timeoutIds};t.Context.prototype.clearTimeout=function(t){this._timeouts.forEach(function(e){if(e.id===t){this.remove(e)}});return this};Object.defineProperty(t.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}});Object.defineProperty(t.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}});Object.defineProperty(t.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(e){var n=e;this._latencyHint=e;if(t.isString(e)){switch(e){case"interactive":n=.1;this._context.latencyHint=e;break;case"playback":n=.8;this._context.latencyHint=e;break;case"balanced":n=.25;this._context.latencyHint=e;break;case"fastest":this._context.latencyHint="interactive";n=.01;break}}this.lookAhead=n;this.updateInterval=n/3}});t.Context.prototype.dispose=function(){return this.close().then(function(){t.Emitter.prototype.dispose.call(this);this._ticker.dispose();this._ticker=null;this._timeouts.dispose();this._timeouts=null;for(var e in this._constants){this._constants[e].disconnect()}this._constants=null}.bind(this))};var e=function(e,n,i){this._type=n;this._updateInterval=i;this._callback=t.defaultArg(e,t.noOp);this._createClock()};e.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"};e.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var t=new Blob(["var timeoutTime = "+(this._updateInterval*1e3).toFixed(1)+";"+"self.onmessage = function(msg){"+"\ttimeoutTime = parseInt(msg.data);"+"};"+"function tick(){"+"\tsetTimeout(tick, timeoutTime);"+"\tself.postMessage('tick');"+"}"+"tick();"]);var e=URL.createObjectURL(t);var n=new Worker(e);n.onmessage=this._callback.bind(this);this._worker=n};e.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout();this._callback()}.bind(this),this._updateInterval*1e3)};e.prototype._createClock=function(){if(this._type===e.Type.Worker){try{this._createWorker()}catch(t){this._type=e.Type.Timeout;this._createClock()}}else if(this._type===e.Type.Timeout){this._createTimeout()}};Object.defineProperty(e.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100);if(this._type===e.Type.Worker){this._worker.postMessage(Math.max(t*1e3,1))}}});Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock();this._type=t;this._createClock()}});e.prototype._disposeClock=function(){if(this._timeout){clearTimeout(this._timeout);this._timeout=null}if(this._worker){this._worker.terminate();this._worker.onmessage=null;this._worker=null}};e.prototype.dispose=function(){this._disposeClock();this._callback=null};t.getContext(function(){var e=AudioNode.prototype.connect;var n=AudioNode.prototype.disconnect;function i(n,i,r){if(n.input){r=t.defaultArg(r,0);if(t.isArray(n.input)){return this.connect(n.input[r])}else{return this.connect(n.input,i,r)}}else{try{if(n instanceof AudioNode){e.call(this,n,i,r);return n}else{e.call(this,n,i);return n}}catch(t){throw new Error("error connecting to node: "+n+"\n"+t)}}}function r(e,i,r){if(e&&e.input&&t.isArray(e.input)){r=t.defaultArg(r,0);this.disconnect(e.input[r],i,0)}else if(e&&e.input){this.disconnect(e.input,i,r)}else{try{n.apply(this,arguments)}catch(t){throw new Error("error disconnecting node: "+e+"\n"+t)}}}if(AudioNode.prototype.connect!==i){AudioNode.prototype.connect=i;AudioNode.prototype.disconnect=r}});if(t.supported&&!t.initialized){t.context=new t.Context;if(!window.TONE_SILENCE_VERSION_LOGGING){console.log("%c * Tone.js "+t.version+" * ","background: #000; color: #fff")}}else if(!t.supported){console.warn("This browser does not support Tone.js")}return t.Context});n(function(t){t.AudioNode=function(){t.call(this);var e=t.defaults(arguments,["context"],{context:t.context});this._context=e.context};t.extend(t.AudioNode);Object.defineProperty(t.AudioNode.prototype,"context",{get:function(){return this._context}});t.AudioNode.prototype.createInsOuts=function(t,e){if(t===1){this.input=this.context.createGain()}else if(t>1){this.input=new Array(t)}if(e===1){this.output=this.context.createGain()}else if(e>1){this.output=new Array(e)}};Object.defineProperty(t.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(t){return this.output.channelCount=t}});Object.defineProperty(t.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(t){return this.output.channelCountMode=t}});Object.defineProperty(t.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(t){return this.output.channelInterpretation=t}});Object.defineProperty(t.AudioNode.prototype,"numberOfInputs",{get:function(){if(this.input){if(t.isArray(this.input)){return this.input.length}else{return 1}}else{return 0}}});Object.defineProperty(t.AudioNode.prototype,"numberOfOutputs",{get:function(){if(this.output){if(t.isArray(this.output)){return this.output.length}else{return 1}}else{return 0}}});t.AudioNode.prototype._onConnect=function(){};t.AudioNode.prototype.connect=function(e,n,i){if(e._onConnect){e._onConnect(this)}if(t.isArray(this.output)){n=t.defaultArg(n,0);this.output[n].connect(e,0,i)}else{this.output.connect(e,n,i)}return this};t.AudioNode.prototype.disconnect=function(e,n,i){if(t.isArray(this.output)){if(t.isNumber(e)){this.output[e].disconnect()}else{n=t.defaultArg(n,0);this.output[n].disconnect(e,0,i)}}else{this.output.disconnect.apply(this.output,arguments)}};t.AudioNode.prototype.chain=function(){var t=this;for(var e=0;e<arguments.length;e++){var n=arguments[e];t.connect(n);t=n}return this};t.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++){this.connect(arguments[t])}return this};if(window.AudioNode){AudioNode.prototype.chain=t.AudioNode.prototype.chain;AudioNode.prototype.fan=t.AudioNode.prototype.fan}t.AudioNode.prototype.dispose=function(){if(t.isDefined(this.input)){if(this.input instanceof AudioNode){this.input.disconnect()}this.input=null}if(t.isDefined(this.output)){if(this.output instanceof AudioNode){this.output.disconnect()}this.output=null}this._context=null;return this};return t.AudioNode});n(function(t){t.SignalBase=function(){t.AudioNode.call(this)};t.extend(t.SignalBase,t.AudioNode);t.SignalBase.prototype.connect=function(e,n,i){if(t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor){e._param.cancelScheduledValues(0);e._param.value=0;e.overridden=true}else if(e instanceof AudioParam){e.cancelScheduledValues(0);e.value=0}t.AudioNode.prototype.connect.call(this,e,n,i);return this};return t.SignalBase});n(function(t){if(t.supported){var e=navigator.userAgent.toLowerCase();var n=e.includes("safari")&&!e.includes("chrome");if(n){var i=function(t){this._internalNode=this.input=this.output=t._native_createWaveShaper();this._curve=null;for(var e in this._internalNode){this._defineProperty(this._internalNode,e)}};Object.defineProperty(i.prototype,"curve",{get:function(){return this._curve},set:function(t){this._curve=t;var e=new Float32Array(t.length+1);e.set(t,1);e[0]=t[0];this._internalNode.curve=e}});i.prototype._defineProperty=function(e,n){if(t.isUndef(this[n])){Object.defineProperty(this,n,{get:function(){if(typeof e[n]==="function"){return e[n].bind(e)}else{return e[n]}},set:function(t){e[n]=t}})}};AudioContext.prototype._native_createWaveShaper=AudioContext.prototype.createWaveShaper;AudioContext.prototype.createWaveShaper=function(){return new i(this)}}}});n(function(t){t.WaveShaper=function(e,n){t.SignalBase.call(this);this._shaper=this.input=this.output=this.context.createWaveShaper();this._curve=null;if(Array.isArray(e)){this.curve=e}else if(isFinite(e)||t.isUndef(e)){this._curve=new Float32Array(t.defaultArg(e,1024))}else if(t.isFunction(e)){this._curve=new Float32Array(t.defaultArg(n,1024));this.setMap(e)}};t.extend(t.WaveShaper,t.SignalBase);t.WaveShaper.prototype.setMap=function(t){var e=new Array(this._curve.length);for(var n=0,i=this._curve.length;n<i;n++){var r=n/(i-1)*2-1;e[n]=t(r,n)}this.curve=e;return this};Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t);this._shaper.curve=this._curve}});Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(["none","2x","4x"].includes(t)){this._shaper.oversample=t}else{throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'")}}});t.WaveShaper.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._shaper.disconnect();this._shaper=null;this._curve=null;return this};return t.WaveShaper});n(function(t){t.TimeBase=function(e,n){if(this instanceof t.TimeBase){this._val=e;this._units=n;if(t.isUndef(this._units)&&t.isString(this._val)&&parseFloat(this._val)==this._val&&this._val.charAt(0)!=="+"){this._val=parseFloat(this._val);this._units=this._defaultUnits}else if(e&&e.constructor===this.constructor){this._val=e._val;this._units=e._units}else if(e instanceof t.TimeBase){switch(this._defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits)}}}else{return new t.TimeBase(e,n)}};t.extend(t.TimeBase);t.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(t,e){t=parseInt(t);var n=e==="."?1.5:1;if(t===1){return this._beatsToUnits(this._getTimeSignature())*n}else{return this._beatsToUnits(4/t)*n}}},t:{regexp:/^(\d+)t$/i,method:function(t){t=parseInt(t);return this._beatsToUnits(8/(parseInt(t)*3))}},m:{regexp:/^(\d+)m$/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(t,e,n){var i=0;if(t&&t!=="0"){i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))}if(e&&e!=="0"){i+=this._beatsToUnits(parseFloat(e))}if(n&&n!=="0"){i+=this._beatsToUnits(parseFloat(n)/4)}return i}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples$/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)$/,method:function(t){return this._expressions[this._defaultUnits].method.call(this,t)}}};t.TimeBase.prototype._defaultUnits="s";t.TimeBase.prototype._getBpm=function(){if(t.Transport){return t.Transport.bpm.value}else{return 120}};t.TimeBase.prototype._getTimeSignature=function(){if(t.Transport){return t.Transport.timeSignature}else{return 4}};t.TimeBase.prototype._getPPQ=function(){if(t.Transport){return t.Transport.PPQ}else{return 192}};t.TimeBase.prototype._now=function(){return this.now()};t.TimeBase.prototype._frequencyToUnits=function(t){return 1/t};t.TimeBase.prototype._beatsToUnits=function(t){return 60/this._getBpm()*t};t.TimeBase.prototype._secondsToUnits=function(t){return t};t.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/this._getPPQ())};t.TimeBase.prototype._noArg=function(){return this._now()};t.TimeBase.prototype.valueOf=function(){if(t.isUndef(this._val)){return this._noArg()}else if(t.isString(this._val)&&t.isUndef(this._units)){for(var e in this._expressions){if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}}if(t.isDefined(this._units)){var n=this._expressions[this._units];var i=this._val.toString().trim().match(n.regexp);if(i){return n.method.apply(this,i.slice(1))}else{return n.method.call(this,parseFloat(this._val))}}else{return this._val}};t.TimeBase.prototype.toSeconds=function(){return this.valueOf()};t.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()};t.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate};t.TimeBase.prototype.toMilliseconds=function(){return this.toSeconds()*1e3};t.TimeBase.prototype.dispose=function(){this._val=null;this._units=null};return t.TimeBase});n(function(t){t.Frequency=function(e,n){if(this instanceof t.Frequency){t.TimeBase.call(this,e,n)}else{return new t.Frequency(e,n)}};t.extend(t.Frequency,t.TimeBase);t.Frequency.prototype._expressions=Object.assign({},t.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(e){if(this._defaultUnits==="midi"){return e}else{return t.Frequency.mtof(e)}}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(n,i){var r=e[n.toLowerCase()];var o=r+(parseInt(i)+1)*12;if(this._defaultUnits==="midi"){return o}else{return t.Frequency.mtof(o)}}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=1;if(t&&t!=="0"){i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))}if(e&&e!=="0"){i*=this._beatsToUnits(parseFloat(e))}if(n&&n!=="0"){i*=this._beatsToUnits(parseFloat(n)/4)}return i}}});t.Frequency.prototype.transpose=function(e){return new this.constructor(this.valueOf()*t.intervalToFrequencyRatio(e))};t.Frequency.prototype.harmonize=function(t){return t.map(function(t){return this.transpose(t)}.bind(this))};t.Frequency.prototype.toMidi=function(){return t.Frequency.ftom(this.valueOf())};t.Frequency.prototype.toNote=function(){var e=this.toFrequency();var i=Math.log2(e/t.Frequency.A4);var r=Math.round(12*i)+57;var o=Math.floor(r/12);if(o<0){r+=-12*o}var s=n[r%12];return s+o.toString()};t.Frequency.prototype.toSeconds=function(){return 1/t.TimeBase.prototype.toSeconds.call(this)};t.Frequency.prototype.toFrequency=function(){return t.TimeBase.prototype.toFrequency.call(this)};t.Frequency.prototype.toTicks=function(){var e=this._beatsToUnits(1);var n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)};t.Frequency.prototype._noArg=function(){return 0};t.Frequency.prototype._frequencyToUnits=function(t){return t};t.Frequency.prototype._ticksToUnits=function(e){return 1/(e*60/(t.Transport.bpm.value*t.Transport.PPQ))};t.Frequency.prototype._beatsToUnits=function(e){return 1/t.TimeBase.prototype._beatsToUnits.call(this,e)};t.Frequency.prototype._secondsToUnits=function(t){return 1/t};t.Frequency.prototype._defaultUnits="hz";var e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};var n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];t.Frequency.A4=440;t.Frequency.mtof=function(e){return t.Frequency.A4*Math.pow(2,(e-69)/12)};t.Frequency.ftom=function(e){return 69+Math.round(12*Math.log2(e/t.Frequency.A4))};return t.Frequency});n(function(t){t.Time=function(e,n){if(this instanceof t.Time){t.TimeBase.call(this,e,n)}else{return new t.Time(e,n)}};t.extend(t.Time,t.TimeBase);t.Time.prototype._expressions=Object.assign({},t.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(e){if(t.Transport){var n=new this.constructor(e);return t.Transport.nextSubdivision(n)}else{return 0}}},now:{regexp:/^\+(.+)/,method:function(t){return this._now()+new this.constructor(t)}}});t.Time.prototype.quantize=function(e,n){n=t.defaultArg(n,1);var i=new this.constructor(e);var r=this.valueOf();var o=Math.round(r/i);var s=o*i;var a=s-r;return r+a*n};t.Time.prototype.toNotation=function(){var e=this.toSeconds();var n=["1m"];for(var i=1;i<8;i++){var r=Math.pow(2,i);n.push(r+"n.");n.push(r+"n");n.push(r+"t")}n.push("0");var o=n[0];var s=t.Time(n[0]).toSeconds();n.forEach(function(n){var i=t.Time(n).toSeconds();if(Math.abs(i-e)<Math.abs(s-e)){o=n;s=i}});return o};t.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1);var e=this.valueOf()/t;var n=Math.floor(e/this._getTimeSignature());var i=e%1*4;e=Math.floor(e)%this._getTimeSignature();i=i.toString();if(i.length>3){i=parseFloat(parseFloat(i).toFixed(3))}var r=[n,e,i];return r.join(":")};t.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1);var e=this.valueOf()/t;return Math.round(e*this._getPPQ())};t.Time.prototype.toSeconds=function(){return this.valueOf()};t.Time.prototype.toMidi=function(){return t.Frequency.ftom(this.toFrequency())};return t.Time});n(function(t){t.TransportTime=function(e,n){if(this instanceof t.TransportTime){t.Time.call(this,e,n)}else{return new t.TransportTime(e,n)}};t.extend(t.TransportTime,t.Time);t.TransportTime.prototype._now=function(){return t.Transport.seconds};return t.TransportTime});n(function(t){t.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"};t.prototype.toSeconds=function(e){if(t.isNumber(e)){return e}else if(t.isUndef(e)){return this.now()}else if(t.isString(e)){return new t.Time(e).toSeconds()}else if(e instanceof t.TimeBase){return e.toSeconds()}};t.prototype.toFrequency=function(e){if(t.isNumber(e)){return e}else if(t.isString(e)||t.isUndef(e)){return new t.Frequency(e).valueOf()}else if(e instanceof t.TimeBase){return e.toFrequency()}};t.prototype.toTicks=function(e){if(t.isNumber(e)||t.isString(e)){return new t.TransportTime(e).toTicks()}else if(t.isUndef(e)){return t.Transport.ticks}else if(e instanceof t.TimeBase){return e.toTicks()}};return t});n(function(t){t.Param=function(){var e=t.defaults(arguments,["param","units","convert"],t.Param);t.AudioNode.call(this);this._param=this.input=e.param;this.units=e.units;this.convert=e.convert;this.overridden=false;this._events=new t.Timeline(1e3);if(t.isDefined(e.value)&&this._param){this.value=e.value}};t.extend(t.Param,t.AudioNode);t.Param.defaults={units:t.Type.Default,convert:true,param:undefined};Object.defineProperty(t.Param.prototype,"value",{get:function(){var t=this.now();return this._toUnits(this.getValueAtTime(t))},set:function(t){this._initialValue=this._fromUnits(t);this.cancelScheduledValues(this.context.currentTime);this.setValueAtTime(t,this.context.currentTime)}});Object.defineProperty(t.Param.prototype,"minValue",{get:function(){if(this.units===t.Type.Time||this.units===t.Type.Frequency||this.units===t.Type.NormalRange||this.units===t.Type.Positive||this.units===t.Type.BPM){return 0}else if(this.units===t.Type.AudioRange){return-1}else if(this.units===t.Type.Decibels){return-Infinity}else{return this._param.minValue}}});Object.defineProperty(t.Param.prototype,"maxValue",{get:function(){if(this.units===t.Type.NormalRange||this.units===t.Type.AudioRange){return 1}else{return this._param.maxValue}}});t.Param.prototype._fromUnits=function(e){if((this.convert||t.isUndef(this.convert))&&!this.overridden){switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return t.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}}else{return e}};t.Param.prototype._toUnits=function(e){if(this.convert||t.isUndef(this.convert)){switch(this.units){case t.Type.Decibels:return t.gainToDb(e);default:return e}}else{return e}};t.Param.prototype._minOutput=1e-5;t.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime"};t.Param.prototype.setValueAtTime=function(e,n){n=this.toSeconds(n);e=this._fromUnits(e);this._events.add({type:t.Param.AutomationType.SetValue,value:e,time:n});this._param.setValueAtTime(e,n);return this};t.Param.prototype.getValueAtTime=function(e){e=this.toSeconds(e);var n=this._events.getAfter(e);var i=this._events.get(e);var r=t.defaultArg(this._initialValue,this._param.defaultValue);var o=r;if(i===null){o=r}else if(i.type===t.Param.AutomationType.Target){var s=this._events.getBefore(i.time);var a;if(s===null){a=r}else{a=s.value}o=this._exponentialApproach(i.time,a,i.value,i.constant,e)}else if(n===null){o=i.value}else if(n.type===t.Param.AutomationType.Linear){o=this._linearInterpolate(i.time,i.value,n.time,n.value,e)}else if(n.type===t.Param.AutomationType.Exponential){o=this._exponentialInterpolate(i.time,i.value,n.time,n.value,e)}else{o=i.value}return o};t.Param.prototype.setRampPoint=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);this.cancelAndHoldAtTime(t);if(e===0){e=this._minOutput}this.setValueAtTime(this._toUnits(e),t);return this};t.Param.prototype.linearRampToValueAtTime=function(e,n){e=this._fromUnits(e);n=this.toSeconds(n);this._events.add({type:t.Param.AutomationType.Linear,value:e,time:n});this._param.linearRampToValueAtTime(e,n);return this};t.Param.prototype.exponentialRampToValueAtTime=function(e,n){e=this._fromUnits(e);e=Math.max(this._minOutput,e);n=this.toSeconds(n);this._events.add({type:t.Param.AutomationType.Exponential,time:n,value:e});this._param.exponentialRampToValueAtTime(e,n);return this};t.Param.prototype.exponentialRampTo=function(t,e,n){n=this.toSeconds(n);this.setRampPoint(n);this.exponentialRampToValueAtTime(t,n+this.toSeconds(e));return this};t.Param.prototype.linearRampTo=function(t,e,n){n=this.toSeconds(n);this.setRampPoint(n);this.linearRampToValueAtTime(t,n+this.toSeconds(e));return this};t.Param.prototype.targetRampTo=function(t,e,n){n=this.toSeconds(n);this.setRampPoint(n);this.exponentialApproachValueAtTime(t,n,e);return this};t.Param.prototype.exponentialApproachValueAtTime=function(t,e,n){var i=Math.log(this.toSeconds(n)+1)/Math.log(200);e=this.toSeconds(e);return this.setTargetAtTime(t,e,i)};t.Param.prototype.setTargetAtTime=function(e,n,i){e=this._fromUnits(e);if(i<=0){throw new Error("timeConstant must be greater than 0")}n=this.toSeconds(n);this._events.add({type:t.Param.AutomationType.Target,value:e,time:n,constant:i});this._param.setTargetAtTime(e,n,i);return this};t.Param.prototype.setValueCurveAtTime=function(e,n,i,r){r=t.defaultArg(r,1);i=this.toSeconds(i);n=this.toSeconds(n);this.setValueAtTime(e[0]*r,n);var o=i/(e.length-1);for(var s=1;s<e.length;s++){this.linearRampToValueAtTime(e[s]*r,n+s*o)}return this};t.Param.prototype.cancelScheduledValues=function(t){t=this.toSeconds(t);this._events.cancel(t);this._param.cancelScheduledValues(t);return this};t.Param.prototype.cancelAndHoldAtTime=function(e){var n=this.getValueAtTime(e);var i=this._events.get(e);var r=this._events.getAfter(e);if(i&&i.time===e){if(r){this._events.cancel(r.time)}else{this._events.cancel(e+1e-6)}}else if(r){this._events.cancel(r.time);if(!this._param.cancelAndHoldAtTime){this._param.cancelScheduledValues(e)}if(r.type===t.Param.AutomationType.Linear){if(!this._param.cancelAndHoldAtTime){this.linearRampToValueAtTime(n,e)}else{this._events.add({type:t.Param.AutomationType.Linear,value:n,time:e})}}else if(r.type===t.Param.AutomationType.Exponential){if(!this._param.cancelAndHoldAtTime){this.exponentialRampToValueAtTime(n,e)}else{this._events.add({type:t.Param.AutomationType.Exponential,value:n,time:e})}}}this._events.add({type:t.Param.AutomationType.SetValue,value:n,time:e});if(this._param.cancelAndHoldAtTime){this._param.cancelAndHoldAtTime(e)}else{this._param.setValueAtTime(n,e)}return this};t.Param.prototype.rampTo=function(e,n,i){n=t.defaultArg(n,.1);if(this.units===t.Type.Frequency||this.units===t.Type.BPM||this.units===t.Type.Decibels){this.exponentialRampTo(e,n,i)}else{this.linearRampTo(e,n,i)}return this};t.Param.prototype._exponentialApproach=function(t,e,n,i,r){return n+(e-n)*Math.exp(-(r-t)/i)};t.Param.prototype._linearInterpolate=function(t,e,n,i,r){return e+(i-e)*((r-t)/(n-t))};t.Param.prototype._exponentialInterpolate=function(t,e,n,i,r){return e*Math.pow(i/e,(r-t)/(n-t))};t.Param.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._param=null;this._events=null;return this};return t.Param});n(function(t){t.OfflineContext=function(e,n,i){var r=new OfflineAudioContext(e,n*i,i);t.Context.call(this,{context:r,clockSource:"offline",lookAhead:0,updateInterval:128/i});this._duration=n;this._currentTime=0};t.extend(t.OfflineContext,t.Context);t.OfflineContext.prototype.now=function(){return this._currentTime};t.OfflineContext.prototype.render=function(){while(this._duration-this._currentTime>=0){this.emit("tick");this._currentTime+=this.blockTime}return this._context.startRendering()};t.OfflineContext.prototype.close=function(){this._context=null;return Promise.resolve()};return t.OfflineContext});n(function(t){if(t.supported){var e=navigator.userAgent.toLowerCase();var n=e.includes("safari")&&!e.includes("chrome")&&e.includes("mobile");if(n){t.OfflineContext.prototype.createBufferSource=function(){var t=this._context.createBufferSource();var e=t.start;t.start=function(n){this.setTimeout(function(){e.call(t,n)}.bind(this),0)}.bind(this);return t}}}});n(function(t){t.Gain=function(){var e=t.defaults(arguments,["gain","units"],t.Gain);t.AudioNode.call(this);this.input=this.output=this._gainNode=this.context.createGain();this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert});this._readOnly("gain")};t.extend(t.Gain,t.AudioNode);t.Gain.defaults={gain:1,convert:true};t.Gain.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._gainNode.disconnect();this._gainNode=null;this._writable("gain");this.gain.dispose();this.gain=null};return t.Gain});n(function(t){if(t.supported&&!AudioContext.prototype.createConstantSource){var e=function(t){this.context=t;var e=t.createBuffer(1,128,t.sampleRate);var n=e.getChannelData(0);for(var i=0;i<n.length;i++){n[i]=1}this._bufferSource=t.createBufferSource();this._bufferSource.channelCount=1;this._bufferSource.channelCountMode="explicit";this._bufferSource.buffer=e;this._bufferSource.loop=true;var r=this._output=t.createGain();this.offset=r.gain;this._bufferSource.connect(r)};e.prototype.start=function(t){this._bufferSource.start(t);return this};e.prototype.stop=function(t){this._bufferSource.stop(t);return this};e.prototype.connect=function(){this._output.connect.apply(this._output,arguments);return this};e.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments);return this};AudioContext.prototype.createConstantSource=function(){return new e(this)};t.Context.prototype.createConstantSource=function(){return new e(this)}}});n(function(t){t.Signal=function(){var e=t.defaults(arguments,["value","units"],t.Signal);t.Param.call(this,e);this._proxies=[];this._sourceStarted=false;this._constantSource=this.context.createConstantSource();this._param=this._constantSource.offset;this.value=e.value;this.output=this._constantSource;this.input=this._param=this.output.offset};t.extend(t.Signal,t.Param);t.Signal.defaults={value:0,units:t.Type.Default,convert:true};t.Signal.prototype.connect=function(e){if(this._isParam(e)&&!this._sourceStarted){this._proxies.push(e);e.overridden=true;this._applyAutomations(e)}else{t.SignalBase.prototype.connect.apply(this,arguments);if(!this._sourceStarted){this._sourceStarted=true;this._constantSource.start(0)}}return this};t.Signal.prototype._isParam=function(e){return t.Param&&t.Param===e.constructor||e instanceof AudioParam};t.Signal.prototype._connectProxies=function(){if(!this._sourceStarted){this._sourceStarted=true;this._constantSource.start(0)}this._proxies.forEach(function(e){t.SignalBase.prototype.connect.call(this,e);if(e._proxies){e._connectProxies()}}.bind(this))};t.Signal.prototype._onConnect=function(t){if(!this._isParam(t)){this._connectProxies()}};t.Signal.prototype._applyAutomations=function(t){var e=this.context.currentTime;t.cancelScheduledValues(e);var n=this.getValueAtTime(e);t.setValueAtTime(n,e);this._events.forEachFrom(e,function(e){t[e.type](e.value,e.time,e.constant)})};t.Signal.prototype.disconnect=function(e){if(this._proxies.includes(e)){var n=this._proxies.indexOf(e);this._proxies.splice(n,1)}else if(!e){this._proxies=[]}return t.SignalBase.prototype.disconnect.apply(this,arguments)};t.Signal.prototype.getValueAtTime=function(e){if(this._param.getValueAtTime){return this._param.getValueAtTime(e)}else{return t.Param.prototype.getValueAtTime.call(this,e)}};["setValueAtTime","linearRampToValueAtTime","exponentialRampToValueAtTime","setTargetAtTime"].forEach(function(e){var n=t.Signal.prototype[e];t.Signal.prototype[e]=function(){var t=arguments;n.apply(this,arguments);t[0]=this._fromUnits(t[0]);t[1]=this.toSeconds(t[1]);this._proxies.forEach(function(n){n[e].apply(n,t)})}});["cancelScheduledValues","cancelAndHoldAtTime"].forEach(function(e){var n=t.Signal.prototype[e];t.Signal.prototype[e]=function(){var t=arguments;n.apply(this,arguments);t[0]=this.toSeconds(t[0]);this._proxies.forEach(function(n){n[e].apply(n,t)})}});t.Signal.prototype.dispose=function(){t.Param.prototype.dispose.call(this);this._constantSource.disconnect();this._constantSource=null;this._proxies=null;return this};return t.Signal});n(function(t){t.Pow=function(e){t.SignalBase.call(this);this._exp=t.defaultArg(e,1);this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)};t.extend(t.Pow,t.SignalBase);Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t;this._expScaler.setMap(this._expFunc(this._exp))}});t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}};t.Pow.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._expScaler.dispose();this._expScaler=null;return this};return t.Pow});n(function(t){t.Envelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.AudioNode.call(this);this.attack=e.attack;this.decay=e.decay;this.sustain=e.sustain;this.release=e.release;this._attackCurve="linear";this._releaseCurve="exponential";this._sig=this.output=new t.Signal(0);this.attackCurve=e.attackCurve;this.releaseCurve=e.releaseCurve};t.extend(t.Envelope,t.AudioNode);t.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",releaseCurve:"exponential"};Object.defineProperty(t.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}});Object.defineProperty(t.Envelope.prototype,"attackCurve",{get:function(){if(t.isString(this._attackCurve)){return this._attackCurve}else if(t.isArray(this._attackCurve)){for(var e in t.Envelope.Type){if(t.Envelope.Type[e].In===this._attackCurve){return e}}return this._attackCurve}},set:function(e){if(t.Envelope.Type.hasOwnProperty(e)){var n=t.Envelope.Type[e];if(t.isObject(n)){this._attackCurve=n.In}else{this._attackCurve=n}}else if(t.isArray(e)){this._attackCurve=e}else{throw new Error("Tone.Envelope: invalid curve: "+e)}}});Object.defineProperty(t.Envelope.prototype,"releaseCurve",{get:function(){if(t.isString(this._releaseCurve)){return this._releaseCurve}else if(t.isArray(this._releaseCurve)){for(var e in t.Envelope.Type){if(t.Envelope.Type[e].Out===this._releaseCurve){return e}}return this._releaseCurve}},set:function(e){if(t.Envelope.Type.hasOwnProperty(e)){var n=t.Envelope.Type[e];if(t.isObject(n)){this._releaseCurve=n.Out}else{this._releaseCurve=n}}else if(t.isArray(e)){this._releaseCurve=e}else{throw new Error("Tone.Envelope: invalid curve: "+e)}}});t.Envelope.prototype.triggerAttack=function(e,n){e=this.toSeconds(e);var i=this.toSeconds(this.attack);var r=i;var o=this.toSeconds(this.decay);n=t.defaultArg(n,1);var s=this.getValueAtTime(e);if(s>0){var a=1/r;var u=1-s;r=u/a}if(this._attackCurve==="linear"){this._sig.linearRampTo(n,r,e)}else if(this._attackCurve==="exponential"){this._sig.targetRampTo(n,r,e)}else if(r>0){this._sig.cancelAndHoldAtTime(e);var l=this._attackCurve;if(r<i){var c=1-r/i;var h=Math.floor(c*this._attackCurve.length);l=this._attackCurve.slice(h);l[0]=s}this._sig.setValueCurveAtTime(l,e,r,n)}if(o){this._sig.targetRampTo(n*this.sustain,o,r+e)}return this};t.Envelope.prototype.triggerRelease=function(e){e=this.toSeconds(e);var n=this.getValueAtTime(e);if(n>0){var i=this.toSeconds(this.release);if(this._releaseCurve==="linear"){this._sig.linearRampTo(0,i,e)}else if(this._releaseCurve==="exponential"){this._sig.targetRampTo(0,i,e)}else{var r=this._releaseCurve;if(t.isArray(r)){this._sig.cancelAndHoldAtTime(e);this._sig.setValueCurveAtTime(r,e,i,n)}}}return this};t.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)};t.Envelope.prototype.triggerAttackRelease=function(t,e,n){e=this.toSeconds(e);this.triggerAttack(e,n);this.triggerRelease(e+this.toSeconds(t));return this};t.Envelope.prototype.cancel=function(t){this._sig.cancelScheduledValues(t);return this};t.Envelope.prototype.connect=t.SignalBase.prototype.connect;(function e(){var n=128;var i,r;var o=[];for(i=0;i<n;i++){o[i]=Math.sin(i/(n-1)*(Math.PI/2))}var s=[];var a=6.4;for(i=0;i<n-1;i++){r=i/(n-1);var u=Math.sin(r*(Math.PI*2)*a-Math.PI/2)+1;s[i]=u/10+r*.83}s[n-1]=1;var l=[];var c=5;for(i=0;i<n;i++){l[i]=Math.ceil(i/(n-1)*c)/c}var h=[];for(i=0;i<n;i++){r=i/(n-1);h[i]=.5*(1-Math.cos(Math.PI*r))}var f=[];for(i=0;i<n;i++){r=i/(n-1);var p=Math.pow(r,3)*4+.2;var d=Math.cos(p*Math.PI*2*r);f[i]=Math.abs(d*(1-r))}function y(t){var e=new Array(t.length);for(var n=0;n<t.length;n++){e[n]=1-t[n]}return e}function _(t){return t.slice(0).reverse()}t.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:y(f),Out:f},cosine:{In:o,Out:_(o)},step:{In:l,Out:y(l)},ripple:{In:s,Out:y(s)},sine:{In:h,Out:y(h)}}})();t.Envelope.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._sig.dispose();this._sig=null;this._attackCurve=null;this._releaseCurve=null;return this};return t.Envelope});n(function(t){t.AmplitudeEnvelope=function(){t.Envelope.apply(this,arguments);this.input=this.output=new t.Gain;this._sig.connect(this.output.gain)};t.extend(t.AmplitudeEnvelope,t.Envelope);t.AmplitudeEnvelope.prototype.dispose=function(){t.Envelope.prototype.dispose.call(this);return this};return t.AmplitudeEnvelope});n(function(t){if(t.supported){if(!AnalyserNode.prototype.getFloatTimeDomainData){AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var n=0;n<e.length;n++){t[n]=(e[n]-128)/128}}}}});n(function(t){t.Analyser=function(){var e=t.defaults(arguments,["type","size"],t.Analyser);t.AudioNode.call(this);this._analyser=this.input=this.output=this.context.createAnalyser();this._type=e.type;this._buffer=null;this.size=e.size;this.type=e.type};t.extend(t.Analyser,t.AudioNode);t.Analyser.defaults={size:1024,type:"fft",smoothing:.8};t.Analyser.Type={Waveform:"waveform",FFT:"fft"};t.Analyser.prototype.getValue=function(){if(this._type===t.Analyser.Type.FFT){this._analyser.getFloatFrequencyData(this._buffer)}else if(this._type===t.Analyser.Type.Waveform){this._analyser.getFloatTimeDomainData(this._buffer)}return this._buffer};Object.defineProperty(t.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=t*2;this._buffer=new Float32Array(t)}});Object.defineProperty(t.Analyser.prototype,"type",{get:function(){return this._type},set:function(e){if(e!==t.Analyser.Type.Waveform&&e!==t.Analyser.Type.FFT){throw new TypeError("Tone.Analyser: invalid type: "+e)}this._type=e}});Object.defineProperty(t.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}});t.Analyser.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._analyser.disconnect();this._analyser=null;this._buffer=null};return t.Analyser});n(function(t){t.Compressor=function(){var e=t.defaults(arguments,["threshold","ratio"],t.Compressor);t.AudioNode.call(this);this._compressor=this.input=this.output=this.context.createDynamicsCompressor();this.threshold=new t.Param({param:this._compressor.threshold,units:t.Type.Decibels,convert:false});this.attack=new t.Param(this._compressor.attack,t.Type.Time);this.release=new t.Param(this._compressor.release,t.Type.Time);this.knee=new t.Param({param:this._compressor.knee,units:t.Type.Decibels,convert:false});this.ratio=new t.Param({param:this._compressor.ratio,convert:false});this._readOnly(["knee","release","attack","ratio","threshold"]);this.set(e)};t.extend(t.Compressor,t.AudioNode);t.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30};t.Compressor.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["knee","release","attack","ratio","threshold"]);this._compressor.disconnect();this._compressor=null;this.attack.dispose();this.attack=null;this.release.dispose();this.release=null;this.threshold.dispose();this.threshold=null;this.ratio.dispose();this.ratio=null;this.knee.dispose();this.knee=null;return this};return t.Compressor});n(function(t){t.Add=function(e){t.Signal.call(this);this.createInsOuts(2,0);this._sum=this.input[0]=this.input[1]=this.output=new t.Gain;this._param=this.input[1]=new t.Signal(e);this._param.connect(this._sum)};t.extend(t.Add,t.Signal);t.Add.prototype.dispose=function(){t.Signal.prototype.dispose.call(this);this._sum.dispose();this._sum=null;return this};return t.Add});n(function(t){t.Multiply=function(e){t.Signal.call(this);this.createInsOuts(2,0);this._mult=this.input[0]=this.output=new t.Gain;this._param=this.input[1]=this.output.gain;this.value=t.defaultArg(e,0)};t.extend(t.Multiply,t.Signal);t.Multiply.prototype.dispose=function(){t.Signal.prototype.dispose.call(this);this._mult.dispose();this._mult=null;this._param=null;return this};return t.Multiply});n(function(t){t.Negate=function(){t.SignalBase.call(this);this._multiply=this.input=this.output=new t.Multiply(-1)};t.extend(t.Negate,t.SignalBase);t.Negate.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._multiply.dispose();this._multiply=null;return this};return t.Negate});n(function(t){t.Subtract=function(e){t.Signal.call(this);this.createInsOuts(2,0);this._sum=this.input[0]=this.output=new t.Gain;this._neg=new t.Negate;this._param=this.input[1]=new t.Signal(e);this._param.chain(this._neg,this._sum)};t.extend(t.Subtract,t.Signal);t.Subtract.prototype.dispose=function(){t.Signal.prototype.dispose.call(this);this._neg.dispose();this._neg=null;this._sum.disconnect();this._sum=null;return this};return t.Subtract});n(function(t){t.EqualPowerGain=function(){t.SignalBase.call(this);this._eqPower=this.input=this.output=new t.WaveShaper(function(e){if(Math.abs(e)<.001){return 0}else{return t.equalPowerScale(e)}}.bind(this),4096)};t.extend(t.EqualPowerGain,t.SignalBase);t.EqualPowerGain.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._eqPower.dispose();this._eqPower=null;return this};return t.EqualPowerGain});n(function(t){t.CrossFade=function(e){t.AudioNode.call(this);this.createInsOuts(2,1);this.a=this.input[0]=new t.Gain;this.b=this.input[1]=new t.Gain;this.fade=new t.Signal(t.defaultArg(e,.5),t.Type.NormalRange);this._equalPowerA=new t.EqualPowerGain;this._equalPowerB=new t.EqualPowerGain;this._one=this.context.getConstant(1);this._invert=new t.Subtract;this.a.connect(this.output);this.b.connect(this.output);this.fade.chain(this._equalPowerB,this.b.gain);this._one.connect(this._invert,0,0);this.fade.connect(this._invert,0,1);this._invert.chain(this._equalPowerA,this.a.gain);this._readOnly("fade")};t.extend(t.CrossFade,t.AudioNode);t.CrossFade.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable("fade");this._equalPowerA.dispose();this._equalPowerA=null;this._equalPowerB.dispose();this._equalPowerB=null;this.fade.dispose();this.fade=null;this._invert.dispose();this._invert=null;this._one=null;this.a.dispose();this.a=null;this.b.dispose();this.b=null;return this};return t.CrossFade});n(function(t){t.Filter=function(){var e=t.defaults(arguments,["frequency","type","rolloff"],t.Filter);t.AudioNode.call(this);this.createInsOuts(1,1);this._filters=[];this.frequency=new t.Signal(e.frequency,t.Type.Frequency);this.detune=new t.Signal(0,t.Type.Cents);this.gain=new t.Signal({value:e.gain,convert:false});this.Q=new t.Signal(e.Q);this._type=e.type;this._rolloff=e.rolloff;this.rolloff=e.rolloff;this._readOnly(["detune","frequency","gain","Q"])};t.extend(t.Filter,t.AudioNode);t.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0};Object.defineProperty(t.Filter.prototype,"type",{get:function(){return this._type},set:function(t){var e=["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"];if(e.indexOf(t)===-1){throw new TypeError("Tone.Filter: invalid type "+t)}this._type=t;for(var n=0;n<this._filters.length;n++){this._filters[n].type=t}}});Object.defineProperty(t.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(e){e=parseInt(e,10);var n=[-12,-24,-48,-96];var i=n.indexOf(e);if(i===-1){throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96")}i+=1;this._rolloff=e;this.input.disconnect();for(var r=0;r<this._filters.length;r++){this._filters[r].disconnect();this._filters[r]=null}this._filters=new Array(i);for(var o=0;o<i;o++){var s=this.context.createBiquadFilter();s.type=this._type;this.frequency.connect(s.frequency);this.detune.connect(s.detune);this.Q.connect(s.Q);this.gain.connect(s.gain);this._filters[o]=s}var a=[this.input].concat(this._filters).concat([this.output]);t.connectSeries.apply(t,a)}});t.Filter.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);for(var e=0;e<this._filters.length;e++){this._filters[e].disconnect();this._filters[e]=null}this._filters=null;this._writable(["detune","frequency","gain","Q"]);this.frequency.dispose();this.Q.dispose();this.frequency=null;this.Q=null;this.detune.dispose();this.detune=null;this.gain.dispose();this.gain=null;return this};return t.Filter});n(function(t){t.MultibandSplit=function(){var e=t.defaults(arguments,["lowFrequency","highFrequency"],t.MultibandSplit);t.AudioNode.call(this);this.input=new t.Gain;this.output=new Array(3);this.low=this.output[0]=new t.Filter(0,"lowpass");this._lowMidFilter=new t.Filter(0,"highpass");this.mid=this.output[1]=new t.Filter(0,"lowpass");this.high=this.output[2]=new t.Filter(0,"highpass");this.lowFrequency=new t.Signal(e.lowFrequency,t.Type.Frequency);this.highFrequency=new t.Signal(e.highFrequency,t.Type.Frequency);this.Q=new t.Signal(e.Q);this.input.fan(this.low,this.high);this.input.chain(this._lowMidFilter,this.mid);this.lowFrequency.connect(this.low.frequency);this.lowFrequency.connect(this._lowMidFilter.frequency);this.highFrequency.connect(this.mid.frequency);this.highFrequency.connect(this.high.frequency);this.Q.connect(this.low.Q);this.Q.connect(this._lowMidFilter.Q);this.Q.connect(this.mid.Q);this.Q.connect(this.high.Q);this._readOnly(["high","mid","low","highFrequency","lowFrequency"])};t.extend(t.MultibandSplit,t.AudioNode);t.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1};t.MultibandSplit.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["high","mid","low","highFrequency","lowFrequency"]);this.low.dispose();this.low=null;this._lowMidFilter.dispose();this._lowMidFilter=null;this.mid.dispose();this.mid=null;this.high.dispose();this.high=null;this.lowFrequency.dispose();this.lowFrequency=null;this.highFrequency.dispose();this.highFrequency=null;this.Q.dispose();this.Q=null;return this};return t.MultibandSplit});n(function(t){t.EQ3=function(){var e=t.defaults(arguments,["low","mid","high"],t.EQ3);t.AudioNode.call(this);this.output=new t.Gain;this._multibandSplit=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency});this._lowGain=new t.Gain(e.low,t.Type.Decibels);this._midGain=new t.Gain(e.mid,t.Type.Decibels);this._highGain=new t.Gain(e.high,t.Type.Decibels);this.low=this._lowGain.gain;this.mid=this._midGain.gain;this.high=this._highGain.gain;this.Q=this._multibandSplit.Q;this.lowFrequency=this._multibandSplit.lowFrequency;this.highFrequency=this._multibandSplit.highFrequency;this._multibandSplit.low.chain(this._lowGain,this.output);this._multibandSplit.mid.chain(this._midGain,this.output);this._multibandSplit.high.chain(this._highGain,this.output);this._readOnly(["low","mid","high","lowFrequency","highFrequency"])};t.extend(t.EQ3,t.AudioNode);t.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500};t.EQ3.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["low","mid","high","lowFrequency","highFrequency"]);this._multibandSplit.dispose();this._multibandSplit=null;this.lowFrequency=null;this.highFrequency=null;this._lowGain.dispose();this._lowGain=null;this._midGain.dispose();this._midGain=null;this._highGain.dispose();this._highGain=null;this.low=null;this.mid=null;this.high=null;this.Q=null;return this};return t.EQ3});n(function(t){t.Scale=function(e,n){t.SignalBase.call(this);this._outputMin=t.defaultArg(e,0);this._outputMax=t.defaultArg(n,1);this._scale=this.input=new t.Multiply(1);this._add=this.output=new t.Add(0);this._scale.connect(this._add);this._setRange()};t.extend(t.Scale,t.SignalBase);Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t;this._setRange()}});Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t;this._setRange()}});t.Scale.prototype._setRange=function(){this._add.value=this._outputMin;this._scale.value=this._outputMax-this._outputMin};t.Scale.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._add.dispose();this._add=null;this._scale.dispose();this._scale=null;return this};return t.Scale});n(function(t){t.ScaleExp=function(e,n,i){t.SignalBase.call(this);this._scale=this.output=new t.Scale(e,n);this._exp=this.input=new t.Pow(t.defaultArg(i,2));this._exp.connect(this._scale)};t.extend(t.ScaleExp,t.SignalBase);Object.defineProperty(t.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}});Object.defineProperty(t.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}});Object.defineProperty(t.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}});t.ScaleExp.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._scale.dispose();this._scale=null;this._exp.dispose();this._exp=null;return this};return t.ScaleExp});n(function(t){t.Delay=function(){var e=t.defaults(arguments,["delayTime","maxDelay"],t.Delay);t.AudioNode.call(this);this._maxDelay=Math.max(this.toSeconds(e.maxDelay),this.toSeconds(e.delayTime));this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay);this.delayTime=new t.Param({param:this._delayNode.delayTime,units:t.Type.Time,value:e.delayTime});this._readOnly("delayTime")};t.extend(t.Delay,t.AudioNode);t.Delay.defaults={maxDelay:1,delayTime:0};Object.defineProperty(t.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}});t.Delay.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._delayNode.disconnect();this._delayNode=null;this._writable("delayTime");this.delayTime=null;return this};return t.Delay});n(function(t){t.FeedbackCombFilter=function(){var e=t.defaults(arguments,["delayTime","resonance"],t.FeedbackCombFilter);t.AudioNode.call(this);this._delay=this.input=this.output=new t.Delay(e.delayTime);this.delayTime=this._delay.delayTime;this._feedback=new t.Gain(e.resonance,t.Type.NormalRange);this.resonance=this._feedback.gain;this._delay.chain(this._feedback,this._delay);this._readOnly(["resonance","delayTime"])};t.extend(t.FeedbackCombFilter,t.AudioNode);t.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5};t.FeedbackCombFilter.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["resonance","delayTime"]);this._delay.dispose();this._delay=null;this.delayTime=null;this._feedback.dispose();this._feedback=null;this.resonance=null;return this};return t.FeedbackCombFilter});n(function(t){t.FFT=function(){var e=t.defaults(arguments,["size"],t.FFT);e.type=t.Analyser.Type.FFT;t.AudioNode.call(this);this._analyser=this.input=this.output=new t.Analyser(e)};t.extend(t.FFT,t.AudioNode);t.FFT.defaults={size:1024};t.FFT.prototype.getValue=function(){return this._analyser.getValue()};Object.defineProperty(t.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}});t.FFT.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._analyser.dispose();this._analyser=null};return t.FFT});n(function(t){t.Abs=function(){t.SignalBase.call(this);this._abs=this.input=this.output=new t.WaveShaper(function(t){if(Math.abs(t)<.001){return 0}else{return Math.abs(t)}},1024)};t.extend(t.Abs,t.SignalBase);t.Abs.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._abs.dispose();this._abs=null;return this};return t.Abs});n(function(t){t.Follower=function(){var e=t.defaults(arguments,["attack","release"],t.Follower);t.AudioNode.call(this);this.createInsOuts(1,1);this._abs=new t.Abs;this._filter=this.context.createBiquadFilter();this._filter.type="lowpass";this._filter.frequency.value=0;this._filter.Q.value=-100;this._frequencyValues=new t.WaveShaper;this._sub=new t.Subtract;this._delay=new t.Delay(this.blockTime);this._mult=new t.Multiply(1e4);this._attack=e.attack;this._release=e.release;this.input.chain(this._abs,this._filter,this.output);this._abs.connect(this._sub,0,1);this._filter.chain(this._delay,this._sub);this._sub.chain(this._mult,this._frequencyValues,this._filter.frequency);this._setAttackRelease(this._attack,this._release)};t.extend(t.Follower,t.AudioNode);t.Follower.defaults={attack:.05,release:.5};t.Follower.prototype._setAttackRelease=function(e,n){var i=this.blockTime;e=t.Time(e).toFrequency();n=t.Time(n).toFrequency();e=Math.max(e,i);n=Math.max(n,i);this._frequencyValues.setMap(function(t){if(t<=0){return e}else{return n}})};Object.defineProperty(t.Follower.prototype,"attack",{get:function(){return this._attack},set:function(t){this._attack=t;this._setAttackRelease(this._attack,this._release)}});Object.defineProperty(t.Follower.prototype,"release",{get:function(){return this._release},set:function(t){this._release=t;this._setAttackRelease(this._attack,this._release)}});t.Follower.prototype.connect=t.SignalBase.prototype.connect;t.Follower.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._filter.disconnect();this._filter=null;this._frequencyValues.disconnect();this._frequencyValues=null;this._delay.dispose();this._delay=null;this._sub.disconnect();this._sub=null;this._abs.dispose();this._abs=null;this._mult.dispose();this._mult=null;this._curve=null;return this};return t.Follower});n(function(t){t.ScaledEnvelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.Envelope.call(this,e);e=t.defaultArg(e,t.ScaledEnvelope.defaults);this._exp=this.output=new t.Pow(e.exponent);this._scale=this.output=new t.Scale(e.min,e.max);this._sig.chain(this._exp,this._scale)};t.extend(t.ScaledEnvelope,t.Envelope);t.ScaledEnvelope.defaults={min:0,max:1,exponent:1};Object.defineProperty(t.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}});Object.defineProperty(t.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}});Object.defineProperty(t.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}});t.ScaledEnvelope.prototype.dispose=function(){t.Envelope.prototype.dispose.call(this);this._scale.dispose();this._scale=null;this._exp.dispose();this._exp=null;return this};return t.ScaledEnvelope});n(function(t){t.FrequencyEnvelope=function(){var e=t.defaults(arguments,["attack","decay","sustain","release"],t.Envelope);t.ScaledEnvelope.call(this,e);e=t.defaultArg(e,t.FrequencyEnvelope.defaults);this._octaves=e.octaves;this.baseFrequency=e.baseFrequency;this.octaves=e.octaves};t.extend(t.FrequencyEnvelope,t.Envelope);t.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:2};Object.defineProperty(t.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t);this.octaves=this._octaves}});Object.defineProperty(t.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;this._scale.max=this.baseFrequency*Math.pow(2,t)}});Object.defineProperty(t.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}});t.FrequencyEnvelope.prototype.dispose=function(){t.ScaledEnvelope.prototype.dispose.call(this);return this};return t.FrequencyEnvelope});n(function(t){t.GreaterThanZero=function(){t.SignalBase.call(this);this._thresh=this.output=new t.WaveShaper(function(t){if(t<=0){return 0}else{return 1}},127);this._scale=this.input=new t.Multiply(1e4);this._scale.connect(this._thresh)};t.extend(t.GreaterThanZero,t.SignalBase);t.GreaterThanZero.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._scale.dispose();this._scale=null;this._thresh.dispose();this._thresh=null;return this};return t.GreaterThanZero});n(function(t){t.GreaterThan=function(e){t.Signal.call(this);this.createInsOuts(2,0);this._param=this.input[0]=new t.Subtract(e);this.input[1]=this._param.input[1];this._gtz=this.output=new t.GreaterThanZero;this._param.connect(this._gtz)};t.extend(t.GreaterThan,t.Signal);t.GreaterThan.prototype.dispose=function(){t.Signal.prototype.dispose.call(this);this._gtz.dispose();this._gtz=null;return this};return t.GreaterThan});n(function(t){t.Gate=function(){var e=t.defaults(arguments,["threshold","attack","release"],t.Gate);t.AudioNode.call(this);this.createInsOuts(1,1);this._follower=new t.Follower(e.attack,e.release);this._gt=new t.GreaterThan(t.dbToGain(e.threshold));this.input.connect(this.output);this.input.chain(this._gt,this._follower,this.output.gain)};t.extend(t.Gate,t.AudioNode);t.Gate.defaults={attack:.1,release:.1,threshold:-40};Object.defineProperty(t.Gate.prototype,"threshold",{get:function(){return t.gainToDb(this._gt.value)},set:function(e){this._gt.value=t.dbToGain(e)}});Object.defineProperty(t.Gate.prototype,"attack",{get:function(){return this._follower.attack},set:function(t){this._follower.attack=t}});Object.defineProperty(t.Gate.prototype,"release",{get:function(){return this._follower.release},set:function(t){this._follower.release=t}});t.Gate.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._follower.dispose();this._gt.dispose();this._follower=null;this._gt=null;return this};return t.Gate});n(function(t){t.TickSignal=function(e){e=t.defaultArg(e,1);t.Signal.call(this,{units:t.Type.Ticks,value:e});this._events.memory=Infinity;this.cancelScheduledValues(0);this._events.add({type:t.Param.AutomationType.SetValue,time:0,value:e})};t.extend(t.TickSignal,t.Signal);function e(t){return function(e,n){n=this.toSeconds(n);t.apply(this,arguments);var i=this._events.get(n);var r=this._events.previousEvent(i);var o=this._getTicksUntilEvent(r,n);i.ticks=Math.max(o,0);return this}}t.TickSignal.prototype.setValueAtTime=e(t.Signal.prototype.setValueAtTime);t.TickSignal.prototype.linearRampToValueAtTime=e(t.Signal.prototype.linearRampToValueAtTime);t.TickSignal.prototype.setTargetAtTime=function(t,e,n){e=this.toSeconds(e);this.setRampPoint(e);t=this._fromUnits(t);var i=this._events.get(e);var r=Math.round(Math.max(1/n,1));for(var o=0;o<=r;o++){var s=n*o+e;var a=this._exponentialApproach(i.time,i.value,t,n,s);this.linearRampToValueAtTime(this._toUnits(a),s)}return this};t.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e);t=this._fromUnits(t);var n=this._events.get(e);if(n===null){n={value:this._initialValue,time:0}}var i=Math.round(Math.max((e-n.time)*10,1));var r=(e-n.time)/i;for(var o=0;o<=i;o++){var s=r*o+n.time;var a=this._exponentialInterpolate(n.time,n.value,e,t,s);this.linearRampToValueAtTime(this._toUnits(a),s)}return this};t.TickSignal.prototype._getTicksUntilEvent=function(e,n){if(e===null){e={ticks:0,time:0}}else if(t.isUndef(e.ticks)){var i=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(i,e.time)}var r=this.getValueAtTime(e.time);var o=this.getValueAtTime(n);if(this._events.get(n).time===n&&this._events.get(n).type===t.Param.AutomationType.SetValue){o=this.getValueAtTime(n-this.sampleTime)}return.5*(n-e.time)*(r+o)+e.ticks};t.TickSignal.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return Math.max(this._getTicksUntilEvent(e,t),0)};t.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var n=this.getTicksAtTime(e);return this.getTimeOfTick(n+t)-e};t.TickSignal.prototype.getTimeOfTick=function(e){var n=this._events.get(e,"ticks");var i=this._events.getAfter(e,"ticks");if(n&&n.ticks===e){return n.time}else if(n&&i&&i.type===t.Param.AutomationType.Linear&&n.value!==i.value){var r=this.getValueAtTime(n.time);var o=this.getValueAtTime(i.time);var s=(o-r)/(i.time-n.time);var a=Math.sqrt(Math.pow(r,2)-2*s*(n.ticks-e));var u=(-r+a)/s;var l=(-r-a)/s;return(u>0?u:l)+n.time}else if(n){if(n.value===0){return Infinity}else{return n.time+(e-n.ticks)/n.value}}else{return e/this._initialValue}};t.TickSignal.prototype.ticksToTime=function(e,n){n=this.toSeconds(n);return new t.Time(this.getDurationOfTicks(e,n))};t.TickSignal.prototype.timeToTicks=function(e,n){n=this.toSeconds(n);e=this.toSeconds(e);var i=this.getTicksAtTime(n);var r=this.getTicksAtTime(n+e);return new t.Ticks(r-i)};return t.TickSignal});n(function(t){t.TimelineState=function(e){t.Timeline.call(this);this._initial=e};t.extend(t.TimelineState,t.Timeline);t.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);if(e!==null){return e.state}else{return this._initial}};t.TimelineState.prototype.setStateAtTime=function(t,e){this.add({state:t,time:e});return this};t.TimelineState.prototype.getLastState=function(t,e){e=this.toSeconds(e);var n=this._search(e);for(var i=n;i>=0;i--){var r=this._timeline[i];if(r.state===t){return r}}};t.TimelineState.prototype.getNextState=function(t,e){e=this.toSeconds(e);var n=this._search(e);if(n!==-1){for(var i=n;i<this._timeline.length;i++){var r=this._timeline[i];if(r.state===t){return r}}}};return t.TimelineState});n(function(t){t.TickSource=function(){var e=t.defaults(arguments,["frequency"],t.TickSource);this.frequency=new t.TickSignal(e.frequency,t.Type.Frequency);this._readOnly("frequency");this._state=new t.TimelineState(t.State.Stopped);this._state.setStateAtTime(t.State.Stopped,0);this._tickOffset=new t.Timeline;this.setTicksAtTime(0,0)};t.extend(t.TickSource);t.TickSource.defaults={frequency:1};Object.defineProperty(t.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}});t.TickSource.prototype.start=function(e,n){e=this.toSeconds(e);if(this._state.getValueAtTime(e)!==t.State.Started){this._state.setStateAtTime(t.State.Started,e);if(t.isDefined(n)){this.setTicksAtTime(n,e)}}return this};t.TickSource.prototype.stop=function(e){e=this.toSeconds(e);if(this._state.getValueAtTime(e)===t.State.Stopped){var n=this._state.get(e);if(n.time>0){this._tickOffset.cancel(n.time);this._state.cancel(n.time)}}this._state.cancel(e);this._state.setStateAtTime(t.State.Stopped,e);this.setTicksAtTime(0,e);return this};t.TickSource.prototype.pause=function(e){e=this.toSeconds(e);if(this._state.getValueAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Paused,e)}return this};t.TickSource.prototype.cancel=function(t){t=this.toSeconds(t);this._state.cancel(t);this._tickOffset.cancel(t);return this};t.TickSource.prototype.getTicksAtTime=function(e){e=this.toSeconds(e);var n=this._state.getLastState(t.State.Stopped,e);var i={state:t.State.Paused,time:e};this._state.add(i);var r=n;var o=0;this._state.forEachBetween(n.time,e+this.sampleTime,function(e){var n=r.time;var i=this._tickOffset.get(e.time);if(i.time>=r.time){o=i.ticks;n=i.time}if(r.state===t.State.Started&&e.state!==t.State.Started){o+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(n)}r=e}.bind(this));this._state.remove(i);return o};Object.defineProperty(t.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(t){this.setTicksAtTime(t,this.now())}});Object.defineProperty(t.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(t){var e=this.now();var n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}});t.TickSource.prototype.getSecondsAtTime=function(e){e=this.toSeconds(e);var n=this._state.getLastState(t.State.Stopped,e);var i={state:t.State.Paused,time:e};this._state.add(i);var r=n;var o=0;this._state.forEachBetween(n.time,e+this.sampleTime,function(e){var n=r.time;var i=this._tickOffset.get(e.time);if(i.time>=r.time){o=i.seconds;n=i.time}if(r.state===t.State.Started&&e.state!==t.State.Started){o+=e.time-n}r=e}.bind(this));this._state.remove(i);return o};t.TickSource.prototype.setTicksAtTime=function(t,e){e=this.toSeconds(e);this._tickOffset.cancel(e);this._tickOffset.add({time:e,ticks:t,seconds:this.frequency.getDurationOfTicks(t,e)});return this};t.TickSource.prototype.getStateAtTime=function(t){t=this.toSeconds(t);return this._state.getValueAtTime(t)};t.TickSource.prototype.getTimeOfTick=function(e,n){n=t.defaultArg(n,this.now());var i=this._tickOffset.get(n);var r=this._state.get(n);var o=Math.max(i.time,r.time);var s=this.frequency.getTicksAtTime(o)+e-i.ticks;return this.frequency.getTimeOfTick(s)};t.TickSource.prototype.forEachTickBetween=function(e,n,i){var r=this._state.get(e);this._state.forEachBetween(e,n,function(n){if(r.state===t.State.Started&&n.state!==t.State.Started){this.forEachTickBetween(Math.max(r.time,e),n.time-this.sampleTime,i)}r=n}.bind(this));e=Math.max(r.time,e);if(r.state===t.State.Started&&this._state){var o=this.frequency.getTicksAtTime(e);var s=this.frequency.getTicksAtTime(r.time);var a=o-s;var u=a%1;if(u!==0){u=1-u}var l=this.frequency.getTimeOfTick(o+u);var c=null;while(l<n&&this._state){try{i(l,Math.round(this.getTicksAtTime(l)))}catch(t){c=t;break}if(this._state){l+=this.frequency.getDurationOfTicks(1,l)}}}if(c){throw c}return this};t.TickSource.prototype.dispose=function(){t.Param.prototype.dispose.call(this);this._state.dispose();this._state=null;this._tickOffset.dispose();this._tickOffset=null;this._writable("frequency");this.frequency.dispose();this.frequency=null;return this};return t.TickSource});n(function(t){t.Clock=function(){var e=t.defaults(arguments,["callback","frequency"],t.Clock);t.Emitter.call(this);this.callback=e.callback;this._nextTick=0;this._tickSource=new t.TickSource(e.frequency);this._lastUpdate=0;this.frequency=this._tickSource.frequency;this._readOnly("frequency");this._state=new t.TimelineState(t.State.Stopped);this._state.setStateAtTime(t.State.Stopped,0);this._boundLoop=this._loop.bind(this);this.context.on("tick",this._boundLoop)};t.extend(t.Clock,t.Emitter);t.Clock.defaults={callback:t.noOp,frequency:1};Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}});t.Clock.prototype.start=function(e,n){e=this.toSeconds(e);if(this._state.getValueAtTime(e)!==t.State.Started){this._state.setStateAtTime(t.State.Started,e);this._tickSource.start(e,n);if(e<this._lastUpdate){this.emit("start",e,n)}}return this};t.Clock.prototype.stop=function(e){e=this.toSeconds(e);this._state.cancel(e);this._state.setStateAtTime(t.State.Stopped,e);this._tickSource.stop(e);if(e<this._lastUpdate){this.emit("stop",e)}return this};t.Clock.prototype.pause=function(e){e=this.toSeconds(e);if(this._state.getValueAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Paused,e);this._tickSource.pause(e);if(e<this._lastUpdate){this.emit("pause",e)}}return this};Object.defineProperty(t.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(t){this._tickSource.ticks=t}});Object.defineProperty(t.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(t){this._tickSource.seconds=t}});t.Clock.prototype.getSecondsAtTime=function(t){return this._tickSource.getSecondsAtTime(t)};t.Clock.prototype.setTicksAtTime=function(t,e){this._tickSource.setTicksAtTime(t,e);return this};t.Clock.prototype.getTicksAtTime=function(t){return this._tickSource.getTicksAtTime(t)};t.Clock.prototype.nextTickTime=function(t,e){e=this.toSeconds(e);var n=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(n+t,e)};t.Clock.prototype._loop=function(){var e=this._lastUpdate;var n=this.now();this._lastUpdate=n;if(e!==n){this._state.forEachBetween(e,n,function(e){switch(e.state){case t.State.Started:var n=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,n);break;case t.State.Stopped:if(e.time!==0){this.emit("stop",e.time)}break;case t.State.Paused:this.emit("pause",e.time);break}}.bind(this));this._tickSource.forEachTickBetween(e,n,function(t,e){this.callback(t,e)}.bind(this))}};t.Clock.prototype.getStateAtTime=function(t){t=this.toSeconds(t);return this._state.getValueAtTime(t)};t.Clock.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this);this.context.off("tick",this._boundLoop);this._writable("frequency");this._tickSource.dispose();this._tickSource=null;this.frequency=null;this._boundLoop=null;this._nextTick=Infinity;this.callback=null;this._state.dispose();this._state=null};return t.Clock});n(function(t){t.IntervalTimeline=function(){t.call(this);this._root=null;this._length=0};t.extend(t.IntervalTimeline);t.IntervalTimeline.prototype.add=function(n){if(t.isUndef(n.time)||t.isUndef(n.duration)){throw new Error("Tone.IntervalTimeline: events must have time and duration parameters")}n.time=n.time.valueOf();var i=new e(n.time,n.time+n.duration,n);if(this._root===null){this._root=i}else{this._root.insert(i)}this._length++;while(i!==null){i.updateHeight();i.updateMax();this._rebalance(i);i=i.parent}return this};t.IntervalTimeline.prototype.remove=function(t){if(this._root!==null){var e=[];this._root.search(t.time,e);for(var n=0;n<e.length;n++){var i=e[n];if(i.event===t){this._removeNode(i);this._length--;break}}}return this};Object.defineProperty(t.IntervalTimeline.prototype,"length",{get:function(){return this._length}});t.IntervalTimeline.prototype.cancel=function(t){this.forEachFrom(t,function(t){this.remove(t)}.bind(this));return this};t.IntervalTimeline.prototype._setRoot=function(t){this._root=t;if(this._root!==null){this._root.parent=null}};t.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){if(t.parent!==null){if(t.isLeftChild()){t.parent.left=e}else{t.parent.right=e}this._rebalance(t.parent)}else{this._setRoot(e)}};t.IntervalTimeline.prototype._removeNode=function(t){if(t.left===null&&t.right===null){this._replaceNodeInParent(t,null)}else if(t.right===null){this._replaceNodeInParent(t,t.left)}else if(t.left===null){this._replaceNodeInParent(t,t.right)}else{var e=t.getBalance();var n,i;if(e>0){if(t.left.right===null){n=t.left;n.right=t.right;i=n}else{n=t.left.right;while(n.right!==null){n=n.right}n.parent.right=n.left;i=n.parent;n.left=t.left;n.right=t.right}}else if(t.right.left===null){n=t.right;n.left=t.left;i=n}else{n=t.right.left;while(n.left!==null){n=n.left}n.parent=n.parent;n.parent.left=n.right;i=n.parent;n.left=t.left;n.right=t.right}if(t.parent!==null){if(t.isLeftChild()){t.parent.left=n}else{t.parent.right=n}}else{this._setRoot(n)}this._rebalance(i)}t.dispose()};t.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent;var n=t.isLeftChild();var i=t.right;t.right=i.left;i.left=t;if(e!==null){if(n){e.left=i}else{e.right=i}}else{this._setRoot(i)}};t.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent;var n=t.isLeftChild();var i=t.left;t.left=i.right;i.right=t;if(e!==null){if(n){e.left=i}else{e.right=i}}else{this._setRoot(i)}};t.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();if(e>1){if(t.left.getBalance()<0){this._rotateLeft(t.left)}else{this._rotateRight(t)}}else if(e<-1){if(t.right.getBalance()>0){this._rotateRight(t.right)}else{this._rotateLeft(t)}}};t.IntervalTimeline.prototype.get=function(t){if(this._root!==null){var e=[];this._root.search(t,e);if(e.length>0){var n=e[0];for(var i=1;i<e.length;i++){if(e[i].low>n.low){n=e[i]}}return n.event}}return null};t.IntervalTimeline.prototype.forEach=function(t){if(this._root!==null){var e=[];this._root.traverse(function(t){e.push(t)});for(var n=0;n<e.length;n++){var i=e[n].event;if(i){t(i)}}}return this};t.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(this._root!==null){var n=[];this._root.search(t,n);for(var i=n.length-1;i>=0;i--){var r=n[i].event;if(r){e(r)}}}return this};t.IntervalTimeline.prototype.forEachFrom=function(t,e){if(this._root!==null){var n=[];this._root.searchAfter(t,n);for(var i=n.length-1;i>=0;i--){var r=n[i].event;e(r)}}return this};t.IntervalTimeline.prototype.dispose=function(){var t=[];if(this._root!==null){this._root.traverse(function(e){t.push(e)})}for(var e=0;e<t.length;e++){t[e].dispose()}t=null;this._root=null;return this};var e=function(t,e,n){this.event=n;this.low=t;this.high=e;this.max=this.high;this._left=null;this._right=null;this.parent=null;this.height=0};e.prototype.insert=function(t){if(t.low<=this.low){if(this.left===null){this.left=t}else{this.left.insert(t)}}else if(this.right===null){this.right=t}else{this.right.insert(t)}};e.prototype.search=function(t,e){if(t>this.max){return}if(this.left!==null){this.left.search(t,e)}if(this.low<=t&&this.high>t){e.push(this)}if(this.low>t){return}if(this.right!==null){this.right.search(t,e)}};e.prototype.searchAfter=function(t,e){if(this.low>=t){e.push(this);if(this.left!==null){this.left.searchAfter(t,e)}}if(this.right!==null){this.right.searchAfter(t,e)}};e.prototype.traverse=function(t){t(this);if(this.left!==null){this.left.traverse(t)}if(this.right!==null){this.right.traverse(t)}};e.prototype.updateHeight=function(){if(this.left!==null&&this.right!==null){this.height=Math.max(this.left.height,this.right.height)+1}else if(this.right!==null){this.height=this.right.height+1}else if(this.left!==null){this.height=this.left.height+1}else{this.height=0}};e.prototype.updateMax=function(){this.max=this.high;if(this.left!==null){this.max=Math.max(this.max,this.left.max)}if(this.right!==null){this.max=Math.max(this.max,this.right.max)}};e.prototype.getBalance=function(){var t=0;if(this.left!==null&&this.right!==null){t=this.left.height-this.right.height}else if(this.left!==null){t=this.left.height+1}else if(this.right!==null){t=-(this.right.height+1)}return t};e.prototype.isLeftChild=function(){return this.parent!==null&&this.parent.left===this};Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t;if(t!==null){t.parent=this}this.updateHeight();this.updateMax()}});Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t;if(t!==null){t.parent=this}this.updateHeight();this.updateMax()}});e.prototype.dispose=function(){this.parent=null;this._left=null;this._right=null;this.event=null};return t.IntervalTimeline});n(function(t){t.Ticks=function(e,n){if(this instanceof t.Ticks){t.TransportTime.call(this,e,n)}else{return new t.Ticks(e,n)}};t.extend(t.Ticks,t.TransportTime);t.Ticks.prototype._defaultUnits="i";t.Ticks.prototype._now=function(){return t.Transport.ticks};t.Ticks.prototype._beatsToUnits=function(t){return this._getPPQ()*t};t.Ticks.prototype._secondsToUnits=function(t){return t/(60/this._getBpm())*this._getPPQ()};t.Ticks.prototype._ticksToUnits=function(t){return t};t.Ticks.prototype.toTicks=function(){return this.valueOf()};t.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())};return t.Ticks});n(function(t){t.TransportEvent=function(e,n){n=t.defaultArg(n,t.TransportEvent.defaults);t.call(this);this.Transport=e;this.id=t.TransportEvent._eventId++;this.time=t.Ticks(n.time);this.callback=n.callback;this._once=n.once};t.extend(t.TransportEvent);t.TransportEvent.defaults={once:false,callback:t.noOp};t.TransportEvent._eventId=0;t.TransportEvent.prototype.invoke=function(t){if(this.callback){this.callback(t);if(this._once&&this.Transport){this.Transport.clear(this.id)}}};t.TransportEvent.prototype.dispose=function(){t.prototype.dispose.call(this);this.Transport=null;this.callback=null;this.time=null;return this};return t.TransportEvent});n(function(t){t.TransportRepeatEvent=function(e,n){t.TransportEvent.call(this,e,n);n=t.defaultArg(n,t.TransportRepeatEvent.defaults);this.duration=t.Ticks(n.duration);this._interval=t.Ticks(n.interval);this._currentId=-1;this._nextId=-1;this._nextTick=this.time;this._boundRestart=this._restart.bind(this);this.Transport.on("start loopStart",this._boundRestart);this._restart()};t.extend(t.TransportRepeatEvent,t.TransportEvent);t.TransportRepeatEvent.defaults={duration:Infinity,interval:1};t.TransportRepeatEvent.prototype.invoke=function(e){this._createEvents(e);t.TransportEvent.prototype.invoke.call(this,e)};t.TransportRepeatEvent.prototype._createEvents=function(e){var n=this.Transport.getTicksAtTime(e);if(n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration){this._nextTick+=this._interval;this._currentId=this._nextId;this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),t.Ticks(this._nextTick))}};t.TransportRepeatEvent.prototype._restart=function(e){this.Transport.clear(this._currentId);this.Transport.clear(this._nextId);this._nextTick=this.time;var n=this.Transport.getTicksAtTime(e);if(n>this.time){this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval}this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),t.Ticks(this._nextTick));this._nextTick+=this._interval;this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),t.Ticks(this._nextTick))};t.TransportRepeatEvent.prototype.dispose=function(){this.Transport.clear(this._currentId);this.Transport.clear(this._nextId);this.Transport.off("start loopStart",this._boundRestart);this._boundCreateEvents=null;t.TransportEvent.prototype.dispose.call(this);this.duration=null;this._interval=null;return this};return t.TransportRepeatEvent});n(function(t){t.Transport=function(){t.Emitter.call(this);t.getContext(function(){this.loop=false;this._loopStart=0;this._loopEnd=0;this._ppq=e.defaults.PPQ;this._clock=new t.Clock({callback:this._processTick.bind(this),frequency:0});this._bindClockEvents();this.bpm=this._clock.frequency;this.bpm._toUnits=this._toUnits.bind(this);this.bpm._fromUnits=this._fromUnits.bind(this);this.bpm.units=t.Type.BPM;this.bpm.value=e.defaults.bpm;this._readOnly("bpm");this._timeSignature=e.defaults.timeSignature;this._scheduledEvents={};this._timeline=new t.Timeline;this._repeatedEvents=new t.IntervalTimeline;this._syncedSignals=[];this._swingTicks=e.defaults.PPQ/2;this._swingAmount=0}.bind(this))};t.extend(t.Transport,t.Emitter);t.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192};t.Transport.prototype._processTick=function(e,n){if(this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){var i=n%(this._swingTicks*2)/(this._swingTicks*2);var r=Math.sin(i*Math.PI)*this._swingAmount;e+=t.Ticks(this._swingTicks*2/3).toSeconds()*r}if(this.loop){if(n>=this._loopEnd){this.emit("loopEnd",e);this._clock.setTicksAtTime(this._loopStart,e);n=this._loopStart;this.emit("loopStart",e,this._clock.getSecondsAtTime(e));this.emit("loop",e)}}this._timeline.forEachAtTime(n,function(t){t.invoke(e)})};t.Transport.prototype.schedule=function(e,n){var i=new t.TransportEvent(this,{time:t.TransportTime(n),callback:e});return this._addEvent(i,this._timeline)};t.Transport.prototype.scheduleRepeat=function(e,n,i,r){var o=new t.TransportRepeatEvent(this,{callback:e,interval:t.Time(n),time:t.TransportTime(i),duration:t.Time(t.defaultArg(r,Infinity))});return this._addEvent(o,this._repeatedEvents)};t.Transport.prototype.scheduleOnce=function(e,n){var i=new t.TransportEvent(this,{time:t.TransportTime(n),callback:e,once:true});return this._addEvent(i,this._timeline)};t.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event);e.event.dispose();delete this._scheduledEvents[t.toString()]}return this};t.Transport.prototype._addEvent=function(t,e){this._scheduledEvents[t.id.toString()]={event:t,timeline:e};e.add(t);return t.id};t.Transport.prototype.cancel=function(e){e=t.defaultArg(e,0);e=this.toTicks(e);this._timeline.forEachFrom(e,function(t){this.clear(t.id)}.bind(this));this._repeatedEvents.forEachFrom(e,function(t){this.clear(t.id)}.bind(this));return this};t.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(e,n){n=t.Ticks(n).toSeconds();this.emit("start",e,n)}.bind(this));this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this));this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))};Object.defineProperty(t.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}});t.Transport.prototype.start=function(e,n){if(t.isDefined(n)){n=this.toTicks(n)}this._clock.start(e,n);return this};t.Transport.prototype.stop=function(t){this._clock.stop(t);return this};t.Transport.prototype.pause=function(t){this._clock.pause(t);return this};t.Transport.prototype.toggle=function(e){e=this.toSeconds(e);if(this._clock.getStateAtTime(e)!==t.State.Started){this.start(e)}else{this.stop(e)}return this};Object.defineProperty(t.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(e){if(t.isArray(e)){e=e[0]/e[1]*4}this._timeSignature=e}});Object.defineProperty(t.Transport.prototype,"loopStart",{get:function(){return t.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}});Object.defineProperty(t.Transport.prototype,"loopEnd",{get:function(){return t.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}});t.Transport.prototype.setLoopPoints=function(t,e){this.loopStart=t;this.loopEnd=e;return this};Object.defineProperty(t.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}});Object.defineProperty(t.Transport.prototype,"swingSubdivision",{get:function(){return t.Ticks(this._swingTicks).toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}});Object.defineProperty(t.Transport.prototype,"position",{get:function(){var e=this.now();var n=this._clock.getTicksAtTime(e);return t.Ticks(n).toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}});Object.defineProperty(t.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(t){var e=this.now();var n=this.bpm.timeToTicks(t,e);this.ticks=n}});Object.defineProperty(t.Transport.prototype,"progress",{get:function(){if(this.loop){var t=this.now();var e=this._clock.getTicksAtTime(t);return(e-this._loopStart)/(this._loopEnd-this._loopStart)}else{return 0}}});Object.defineProperty(t.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(e){if(this._clock.ticks!==e){var n=this.now();if(this.state===t.State.Started){this.emit("stop",n);this._clock.setTicksAtTime(e,n);this.emit("start",n,this.seconds)}else{this._clock.setTicksAtTime(e,n)}}}});t.Transport.prototype.getTicksAtTime=function(t){return Math.round(this._clock.getTicksAtTime(t))};t.Transport.prototype.getSecondsAtTime=function(t){return this._clock.getSecondsAtTime(t)};Object.defineProperty(t.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t;this.bpm.value=e}});t.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)};t.Transport.prototype._toUnits=function(t){return t/this.PPQ*60};t.Transport.prototype.nextSubdivision=function(e){e=this.toTicks(e);if(this.state!==t.State.Started){return 0}else{var n=this.now();var i=this.getTicksAtTime(n);var r=e-i%e;return this._clock.nextTickTime(r,n)}};t.Transport.prototype.syncSignal=function(e,n){if(!n){var i=this.now();if(e.getValueAtTime(i)!==0){n=e.getValueAtTime(i)/this.bpm.getValueAtTime(i)}else{n=0}}var r=new t.Gain(n);this.bpm.chain(r,e._param);this._syncedSignals.push({ratio:r,signal:e,initial:e.value});e.value=0;return this};t.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var n=this._syncedSignals[e];if(n.signal===t){n.ratio.dispose();n.signal.value=n.initial;this._syncedSignals.splice(e,1)}}return this};t.Transport.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this);this._clock.dispose();this._clock=null;this._writable("bpm");this.bpm=null;this._timeline.dispose();this._timeline=null;this._repeatedEvents.dispose();this._repeatedEvents=null;return this};var e=t.Transport;t.Transport=new e;t.Context.on("init",function(n){if(n.Transport instanceof e){t.Transport=n.Transport}else{t.Transport=new e}n.Transport=t.Transport});t.Context.on("close",function(t){if(t.Transport instanceof e){t.Transport.dispose()}});return t.Transport});n(function(t){t.Volume=function(){var e=t.defaults(arguments,["volume"],t.Volume);t.AudioNode.call(this);this.output=this.input=new t.Gain(e.volume,t.Type.Decibels);this._unmutedVolume=e.volume;this.volume=this.output.gain;this._readOnly("volume");this.mute=e.mute};t.extend(t.Volume,t.AudioNode);t.Volume.defaults={volume:0,mute:false};Object.defineProperty(t.Volume.prototype,"mute",{get:function(){return this.volume.value===-Infinity},set:function(t){if(!this.mute&&t){this._unmutedVolume=this.volume.value;this.volume.value=-Infinity}else if(this.mute&&!t){this.volume.value=this._unmutedVolume}}});t.Volume.prototype.dispose=function(){this.input.dispose();t.AudioNode.prototype.dispose.call(this);this._writable("volume");this.volume.dispose();this.volume=null;return this};return t.Volume});n(function(t){t.Master=function(){t.AudioNode.call(this);t.getContext(function(){this.createInsOuts(1,0);this._volume=this.output=new t.Volume;this.volume=this._volume.volume;this._readOnly("volume");this.input.chain(this.output,this.context.destination)}.bind(this))};t.extend(t.Master,t.AudioNode);t.Master.defaults={volume:0,mute:false};Object.defineProperty(t.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}});t.Master.prototype.chain=function(){this.input.disconnect();this.input.chain.apply(this.input,arguments);arguments[arguments.length-1].connect(this.output)};t.Master.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable("volume");this._volume.dispose();this._volume=null;this.volume=null};t.AudioNode.prototype.toMaster=function(){this.connect(t.Master);return this};if(window.AudioNode){AudioNode.prototype.toMaster=function(){this.connect(t.Master);return this}}var e=t.Master;t.Master=new e;t.Context.on("init",function(n){if(n.Master instanceof e){t.Master=n.Master}else{t.Master=new e}n.Master=t.Master});t.Context.on("close",function(t){if(t.Master instanceof e){t.Master.dispose()}});return t.Master});n(function(t){t.Source=function(e){e=t.defaultArg(e,t.Source.defaults);t.AudioNode.call(this);this._volume=this.output=new t.Volume(e.volume);this.volume=this._volume.volume;this._readOnly("volume");this._state=new t.TimelineState(t.State.Stopped);this._state.memory=100;this._synced=false;this._scheduled=[];this._volume.output.output.channelCount=2;this._volume.output.output.channelCountMode="explicit";this.mute=e.mute};t.extend(t.Source,t.AudioNode);t.Source.defaults={volume:0,mute:false};Object.defineProperty(t.Source.prototype,"state",{get:function(){if(this._synced){if(t.Transport.state===t.State.Started){return this._state.getValueAtTime(t.Transport.seconds)}else{return t.State.Stopped}}else{return this._state.getValueAtTime(this.now())}}});Object.defineProperty(t.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}});t.Source.prototype._start=t.noOp;t.Source.prototype.restart=t.noOp;t.Source.prototype._stop=t.noOp;t.Source.prototype.start=function(e,n,i){if(t.isUndef(e)&&this._synced){e=t.Transport.seconds}else{e=this.toSeconds(e)}if(this._state.getValueAtTime(e)===t.State.Started){this._state.cancel(e);this._state.setStateAtTime(t.State.Started,e);this.restart(e,n,i)}else{this._state.setStateAtTime(t.State.Started,e);if(this._synced){var r=this._state.get(e);r.offset=t.defaultArg(n,0);r.duration=i;var o=t.Transport.schedule(function(t){this._start(t,n,i)}.bind(this),e);this._scheduled.push(o);if(t.Transport.state===t.State.Started){this._syncedStart(this.now(),t.Transport.seconds)}}else{this._start.apply(this,arguments)}}return this};t.Source.prototype.stop=function(e){if(t.isUndef(e)&&this._synced){e=t.Transport.seconds}else{e=this.toSeconds(e)}if(!this._synced){this._stop.apply(this,arguments)}else{var n=t.Transport.schedule(this._stop.bind(this),e);this._scheduled.push(n)}this._state.cancel(e);this._state.setStateAtTime(t.State.Stopped,e);return this};t.Source.prototype.sync=function(){this._synced=true;this._syncedStart=function(e,n){if(n>0){var i=this._state.get(n);if(i&&i.state===t.State.Started&&i.time!==n){var r=n-this.toSeconds(i.time);var o;if(i.duration){o=this.toSeconds(i.duration)-r}this._start(e,this.toSeconds(i.offset)+r,o)}}}.bind(this);this._syncedStop=function(e){var n=t.Transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));if(this._state.getValueAtTime(n)===t.State.Started){this._stop(e)}}.bind(this);t.Transport.on("start loopStart",this._syncedStart);t.Transport.on("stop pause loopEnd",this._syncedStop);return this};t.Source.prototype.unsync=function(){if(this._synced){t.Transport.off("stop pause loopEnd",this._syncedStop);t.Transport.off("start loopStart",this._syncedStart)}this._synced=false;for(var e=0;e<this._scheduled.length;e++){var n=this._scheduled[e];t.Transport.clear(n)}this._scheduled=[];this._state.cancel(0);return this};t.Source.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this.unsync();this._scheduled=null;this._writable("volume");this._volume.dispose();this._volume=null;this.volume=null;this._state.dispose();this._state=null};return t.Source});n(function(t){if(t.supported){if(!AudioBuffer.prototype.copyToChannel){AudioBuffer.prototype.copyToChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<i.length;r++){i[r+n]=t[r]}};AudioBuffer.prototype.copyFromChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var r=0;r<t.length;r++){t[r]=i[r+n]}}}}});n(function(t){t.Buffer=function(){var e=t.defaults(arguments,["url","onload","onerror"],t.Buffer);t.call(this);this._buffer=null;this._reversed=e.reverse;this._xhr=null;this._onload=t.noOp;if(e.url instanceof AudioBuffer||e.url instanceof t.Buffer){this.set(e.url);if(e.onload){if(this.loaded){e.onload(this)}else{this._onload=e.onload}}}else if(t.isString(e.url)){this.load(e.url).then(e.onload).catch(e.onerror)}};t.extend(t.Buffer);t.Buffer.defaults={url:undefined,reverse:false,onload:t.noOp,onerror:t.noOp};t.Buffer.prototype.set=function(e){if(e instanceof t.Buffer){if(e.loaded){this._buffer=e.get()}else{e._onload=function(){this.set(e);this._onload(this)}.bind(this)}}else{this._buffer=e}return this};t.Buffer.prototype.get=function(){return this._buffer};t.Buffer.prototype.load=function(e,n,i){var r=new Promise(function(r,o){this._xhr=t.Buffer.load(e,function(t){this._xhr=null;this.set(t);r(this);this._onload(this);if(n){n(this)}}.bind(this),function(t){this._xhr=null;o(t);if(i){i(t)}}.bind(this))}.bind(this));return r};t.Buffer.prototype.dispose=function(){t.prototype.dispose.call(this);this._buffer=null;if(this._xhr){t.Buffer._removeFromDownloadQueue(this._xhr);this._xhr.abort();this._xhr=null}return this};Object.defineProperty(t.Buffer.prototype,"loaded",{get:function(){return this.length>0}});Object.defineProperty(t.Buffer.prototype,"duration",{get:function(){if(this._buffer){return this._buffer.duration}else{return 0}}});Object.defineProperty(t.Buffer.prototype,"length",{get:function(){if(this._buffer){return this._buffer.length}else{return 0}}});Object.defineProperty(t.Buffer.prototype,"numberOfChannels",{get:function(){if(this._buffer){return this._buffer.numberOfChannels}else{return 0}}});t.Buffer.prototype.fromArray=function(t){var e=t[0].length>0;var n=e?t.length:1;var i=e?t[0].length:t.length;var r=this.context.createBuffer(n,i,this.context.sampleRate);if(!e&&n===1){t=[t]}for(var o=0;o<n;o++){r.copyToChannel(t[o],o)}this._buffer=r;return this};t.Buffer.prototype.toMono=function(e){if(t.isNumber(e)){this.fromArray(this.toArray(e))}else{var n=new Float32Array(this.length);var i=this.numberOfChannels;for(var r=0;r<i;r++){var o=this.toArray(r);for(var s=0;s<o.length;s++){n[s]+=o[s]}}n=n.map(function(t){return t/i});this.fromArray(n)}return this};t.Buffer.prototype.toArray=function(e){if(t.isNumber(e)){return this.getChannelData(e)}else if(this.numberOfChannels===1){return this.toArray(0)}else{var n=[];for(var i=0;i<this.numberOfChannels;i++){n[i]=this.getChannelData(i)}return n}};t.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)};t.Buffer.prototype.slice=function(e,n){n=t.defaultArg(n,this.duration);var i=Math.floor(this.context.sampleRate*this.toSeconds(e));var r=Math.floor(this.context.sampleRate*this.toSeconds(n));var o=[];for(var s=0;s<this.numberOfChannels;s++){o[s]=this.toArray(s).slice(i,r)}var a=(new t.Buffer).fromArray(o);return a};t.Buffer.prototype._reverse=function(){if(this.loaded){for(var t=0;t<this.numberOfChannels;t++){Array.prototype.reverse.call(this.getChannelData(t))}}return this};Object.defineProperty(t.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){if(this._reversed!==t){this._reversed=t;this._reverse()}}});t.Emitter.mixin(t.Buffer);t.Buffer._downloadQueue=[];t.Buffer.baseUrl="";t.Buffer.fromArray=function(e){return(new t.Buffer).fromArray(e)};t.Buffer.fromUrl=function(e){var n=new t.Buffer;return n.load(e).then(function(){return n})};t.Buffer._removeFromDownloadQueue=function(e){var n=t.Buffer._downloadQueue.indexOf(e);if(n!==-1){t.Buffer._downloadQueue.splice(n,1)}};t.Buffer.load=function(e,n,i){n=t.defaultArg(n,t.noOp);var r=e.match(/\[(.+\|?)+\]$/);if(r){var o=r[1].split("|");var s=o[0];for(var a=0;a<o.length;a++){if(t.Buffer.supportsType(o[a])){s=o[a];break}}e=e.replace(r[0],s)}function u(e){t.Buffer._removeFromDownloadQueue(c);t.Buffer.emit("error",e);if(i){i(e)}else{throw e}}function l(){var e=0;for(var n=0;n<t.Buffer._downloadQueue.length;n++){e+=t.Buffer._downloadQueue[n].progress}t.Buffer.emit("progress",e/t.Buffer._downloadQueue.length)}var c=new XMLHttpRequest;c.open("GET",t.Buffer.baseUrl+e,true);c.responseType="arraybuffer";c.progress=0;t.Buffer._downloadQueue.push(c);c.addEventListener("load",function(){if(c.status===200){t.context.decodeAudioData(c.response).then(function(e){c.progress=1;l();n(e);t.Buffer._removeFromDownloadQueue(c);if(t.Buffer._downloadQueue.length===0){t.Buffer.emit("load")}}).catch(function(){t.Buffer._removeFromDownloadQueue(c);u("Tone.Buffer: could not decode audio data: "+e)})}else{u("Tone.Buffer: could not locate file: "+e)}});c.addEventListener("error",u);c.addEventListener("progress",function(t){if(t.lengthComputable){c.progress=t.loaded/t.total*.95;l()}});c.send();return c};t.Buffer.cancelDownloads=function(){t.Buffer._downloadQueue.slice().forEach(function(e){t.Buffer._removeFromDownloadQueue(e);e.abort()});return t.Buffer};t.Buffer.supportsType=function(t){var e=t.split(".");e=e[e.length-1];var n=document.createElement("audio").canPlayType("audio/"+e);return n!==""};t.loaded=function(){var e,n;function i(){t.Buffer.off("load",e);t.Buffer.off("error",n)}return new Promise(function(i,r){e=function(){i()};n=function(){r()};t.Buffer.on("load",e);t.Buffer.on("error",n)}).then(i).catch(function(t){i();throw new Error(t)})};return t.Buffer});n(function(t){t.OscillatorNode=function(){var e=t.defaults(arguments,["frequency","type"],t.OscillatorNode);t.AudioNode.call(this,e);this.onended=e.onended;this._startTime=-1;this._stopTime=-1;this._gainNode=this.output=new t.Gain;this._gainNode.gain.setValueAtTime(0,this.context.currentTime);this._oscillator=this.context.createOscillator();this._oscillator.connect(this._gainNode);this.type=e.type;this.frequency=new t.Param(this._oscillator.frequency,t.Type.Frequency);this.frequency.value=e.frequency;this.detune=new t.Param(this._oscillator.detune,t.Type.Cents);this.detune.value=e.detune;this._gain=1};t.extend(t.OscillatorNode,t.AudioNode);t.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:t.noOp};Object.defineProperty(t.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}});t.OscillatorNode.prototype.getStateAtTime=function(e){e=this.toSeconds(e);if(this._startTime!==-1&&e>=this._startTime&&(this._stopTime===-1||e<=this._stopTime)){return t.State.Started}else{return t.State.Stopped}};t.OscillatorNode.prototype.start=function(t){if(this._startTime===-1){this._startTime=this.toSeconds(t);this._oscillator.start(this._startTime);var e=this.context.currentTime;this._gainNode.gain.cancelScheduledValues(e);this._gainNode.gain.setValueAtTime(0,e);this._gainNode.gain.setValueAtTime(1,this._startTime)}else{throw new Error("cannot call OscillatorNode.start more than once")}return this};t.OscillatorNode.prototype.setPeriodicWave=function(t){this._oscillator.setPeriodicWave(t);return this};t.OscillatorNode.prototype.stop=function(t){this.cancelStop();this._stopTime=this.toSeconds(t);this._gainNode.gain.setValueAtTime(0,this._stopTime);this.context.clearTimeout(this._timeout);this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now());this.onended()}.bind(this),this._stopTime-this.now());return this};t.OscillatorNode.prototype.cancelStop=function(){if(this._startTime!==-1){this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime);this._gainNode.gain.setValueAtTime(1,Math.max(this.now(),this._startTime));this.context.clearTimeout(this._timeout);this._stopTime=-1}return this};Object.defineProperty(t.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t}});t.OscillatorNode.prototype.dispose=function(){this.context.clearTimeout(this._timeout);t.AudioNode.prototype.dispose.call(this);this.onended=null;this._oscillator.disconnect();this._oscillator=null;this._gainNode.dispose();this._gainNode=null;this.frequency.dispose();this.frequency=null;this.detune.dispose();this.detune=null;return this};return t.OscillatorNode});n(function(t){t.Oscillator=function(){var e=t.defaults(arguments,["frequency","type"],t.Oscillator);t.Source.call(this,e);this._oscillator=null;this.frequency=new t.Signal(e.frequency,t.Type.Frequency);this.detune=new t.Signal(e.detune,t.Type.Cents);this._wave=null;this._partials=t.defaultArg(e.partials,[1]);this._phase=e.phase;this._type=null;this.type=e.type;this.phase=this._phase;this._readOnly(["frequency","detune"])};t.extend(t.Oscillator,t.Source);t.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[]};t.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"};t.Oscillator.prototype._start=function(e){this._oscillator=new t.OscillatorNode;if(this._wave){this._oscillator.setPeriodicWave(this._wave)}else{this._oscillator.type=this._type}this._oscillator.connect(this.output);this.frequency.connect(this._oscillator.frequency);this.detune.connect(this._oscillator.detune);e=this.toSeconds(e);this._oscillator.start(e)};t.Oscillator.prototype._stop=function(t){if(this._oscillator){t=this.toSeconds(t);this._oscillator.stop(t)}return this};t.Oscillator.prototype.restart=function(t){this._oscillator.cancelStop();this._state.cancel(this.toSeconds(t));return this};t.Oscillator.prototype.syncFrequency=function(){t.Transport.syncSignal(this.frequency);return this};t.Oscillator.prototype.unsyncFrequency=function(){t.Transport.unsyncSignal(this.frequency);return this};Object.defineProperty(t.Oscillator.prototype,"type",{get:function(){return this._type},set:function(e){var n=[t.Oscillator.Type.Sine,t.Oscillator.Type.Square,t.Oscillator.Type.Triangle,t.Oscillator.Type.Sawtooth].includes(e);if(this._phase===0&&n){this._wave=null;if(this._oscillator!==null){this._oscillator.type===e}}else{var i=this._getRealImaginary(e,this._phase);var r=this.context.createPeriodicWave(i[0],i[1]);this._wave=r;if(this._oscillator!==null){this._oscillator.setPeriodicWave(this._wave)}}this._type=e}});t.Oscillator.prototype._getRealImaginary=function(e,n){var i=4096;var r=i/2;var o=new Float32Array(r);var s=new Float32Array(r);var a=1;if(e===t.Oscillator.Type.Custom){a=this._partials.length+1;r=a}else{var u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);if(u){a=parseInt(u[2])+1;e=u[1];a=Math.max(a,2);r=a}}for(var l=1;l<r;++l){var c=2/(l*Math.PI);var h;switch(e){case t.Oscillator.Type.Sine:h=l<=a?1:0;break;case t.Oscillator.Type.Square:h=l&1?2*c:0;break;case t.Oscillator.Type.Sawtooth:h=c*(l&1?1:-1);break;case t.Oscillator.Type.Triangle:if(l&1){h=2*(c*c)*(l-1>>1&1?-1:1)}else{h=0}break;case t.Oscillator.Type.Custom:h=this._partials[l-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+e)}if(h!==0){o[l]=-h*Math.sin(n*l);s[l]=h*Math.cos(n*l)}else{o[l]=0;s[l]=0}}return[o,s]};t.Oscillator.prototype._inverseFFT=function(t,e,n){var i=0;var r=t.length;for(var o=0;o<r;o++){i+=t[o]*Math.cos(o*n)+e[o]*Math.sin(o*n)}return i};t.Oscillator.prototype._getInitialValue=function(){var t=this._getRealImaginary(this._type,0);var e=t[0];var n=t[1];var i=0;var r=Math.PI*2;for(var o=0;o<8;o++){i=Math.max(this._inverseFFT(e,n,o/8*r),i)}return-this._inverseFFT(e,n,this._phase)/i};Object.defineProperty(t.Oscillator.prototype,"partials",{get:function(){if(this._type!==t.Oscillator.Type.Custom){return[]}else{return this._partials}},set:function(e){this._partials=e;this.type=t.Oscillator.Type.Custom}});Object.defineProperty(t.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180;this.type=this._type}});t.Oscillator.prototype.dispose=function(){t.Source.prototype.dispose.call(this);if(this._oscillator!==null){this._oscillator.dispose();this._oscillator=null}this._wave=null;this._writable(["frequency","detune"]);this.frequency.dispose();this.frequency=null;this.detune.dispose();this.detune=null;this._partials=null;return this};return t.Oscillator});n(function(t){t.AudioToGain=function(){t.SignalBase.call(this);this._norm=this.input=this.output=new t.WaveShaper(function(t){return(t+1)/2})};t.extend(t.AudioToGain,t.SignalBase);t.AudioToGain.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._norm.dispose();this._norm=null;return this};return t.AudioToGain});n(function(t){t.Zero=function(){t.SignalBase.call(this);this._gain=this.input=this.output=new t.Gain;this.context.getConstant(0).connect(this._gain)};t.extend(t.Zero,t.SignalBase);t.Zero.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._gain.dispose();this._gain=null;return this};return t.Zero});n(function(t){t.LFO=function(){var e=t.defaults(arguments,["frequency","min","max"],t.LFO);t.AudioNode.call(this);this._oscillator=new t.Oscillator({frequency:e.frequency,type:e.type});this.frequency=this._oscillator.frequency;this.amplitude=this._oscillator.volume;this.amplitude.units=t.Type.NormalRange;this.amplitude.value=e.amplitude;this._stoppedSignal=new t.Signal(0,t.Type.AudioRange);this._zeros=new t.Zero;this._stoppedValue=0;this._a2g=new t.AudioToGain;this._scaler=this.output=new t.Scale(e.min,e.max);this._units=t.Type.Default;this.units=e.units;this._oscillator.chain(this._a2g,this._scaler);this._zeros.connect(this._a2g);this._stoppedSignal.connect(this._a2g);this._readOnly(["amplitude","frequency"]);this.phase=e.phase};t.extend(t.LFO,t.AudioNode);t.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:t.Type.Default};t.LFO.prototype.start=function(t){t=this.toSeconds(t);this._stoppedSignal.setValueAtTime(0,t);this._oscillator.start(t);return this};t.LFO.prototype.stop=function(t){t=this.toSeconds(t);this._stoppedSignal.setValueAtTime(this._stoppedValue,t);this._oscillator.stop(t);return this};t.LFO.prototype.sync=function(){this._oscillator.sync();this._oscillator.syncFrequency();return this};t.LFO.prototype.unsync=function(){this._oscillator.unsync();this._oscillator.unsyncFrequency();return this};Object.defineProperty(t.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t);this._scaler.min=t}});Object.defineProperty(t.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t);this._scaler.max=t}});Object.defineProperty(t.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t;this._stoppedValue=this._oscillator._getInitialValue();this._stoppedSignal.value=this._stoppedValue}});Object.defineProperty(t.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t;this._stoppedValue=this._oscillator._getInitialValue();this._stoppedSignal.value=this._stoppedValue}});Object.defineProperty(t.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min;var n=this.max;this._units=t;this.min=e;this.max=n}});Object.defineProperty(t.LFO.prototype,"mute",{get:function(){return this._oscillator.mute},set:function(t){this._oscillator.mute=t}});Object.defineProperty(t.LFO.prototype,"state",{get:function(){return this._oscillator.state}});t.LFO.prototype.connect=function(e){if(e.constructor===t.Signal||e.constructor===t.Param){this.convert=e.convert;this.units=e.units}t.SignalBase.prototype.connect.apply(this,arguments);return this};t.LFO.prototype._fromUnits=t.Param.prototype._fromUnits;t.LFO.prototype._toUnits=t.Param.prototype._toUnits;t.LFO.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["amplitude","frequency"]);this._oscillator.dispose();this._oscillator=null;this._stoppedSignal.dispose();this._stoppedSignal=null;this._zeros.dispose();this._zeros=null;this._scaler.dispose();this._scaler=null;this._a2g.dispose();this._a2g=null;this.frequency=null;this.amplitude=null;return this};return t.LFO});n(function(t){t.Limiter=function(){var e=t.defaults(arguments,["threshold"],t.Limiter);t.AudioNode.call(this);this._compressor=this.input=this.output=new t.Compressor({attack:.001,decay:.001,threshold:e.threshold});this.threshold=this._compressor.threshold;this._readOnly("threshold")};t.extend(t.Limiter,t.AudioNode);t.Limiter.defaults={threshold:-12};t.Limiter.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._compressor.dispose();this._compressor=null;this._writable("threshold");this.threshold=null;return this};return t.Limiter});n(function(t){t.LowpassCombFilter=function(){var e=t.defaults(arguments,["delayTime","resonance","dampening"],t.LowpassCombFilter);t.AudioNode.call(this);this.createInsOuts(1,1);this._delay=this.input=new t.Delay(e.delayTime);this.delayTime=this._delay.delayTime;this._lowpass=this.output=this.context.createBiquadFilter();this._lowpass.Q.value=-3.0102999566398125;this._lowpass.type="lowpass";this.dampening=new t.Param({param:this._lowpass.frequency,units:t.Type.Frequency,value:e.dampening});this._feedback=new t.Gain(e.resonance,t.Type.NormalRange);this.resonance=this._feedback.gain;this._delay.chain(this._lowpass,this._feedback,this._delay);this._readOnly(["dampening","resonance","delayTime"])};t.extend(t.LowpassCombFilter,t.AudioNode);t.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3};t.LowpassCombFilter.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["dampening","resonance","delayTime"]);this.dampening.dispose();this.dampening=null;this.resonance.dispose();this.resonance=null;this._delay.dispose();this._delay=null;this.delayTime=null;this._lowpass.disconnect();this._lowpass=null;this._feedback.disconnect();this._feedback=null;return this};return t.LowpassCombFilter});n(function(t){t.Merge=function(){t.AudioNode.call(this);this.createInsOuts(2,0);this.left=this.input[0]=new t.Gain;this.right=this.input[1]=new t.Gain;this._merger=this.output=this.context.createChannelMerger(2);this.left.connect(this._merger,0,0);this.right.connect(this._merger,0,1);this.left.channelCount=1;this.right.channelCount=1;this.left.channelCountMode="explicit";this.right.channelCountMode="explicit"};t.extend(t.Merge,t.AudioNode);t.Merge.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this.left.dispose();this.left=null;this.right.dispose();this.right=null;this._merger.disconnect();this._merger=null;return this};return t.Merge});n(function(t){t.Meter=function(){var e=t.defaults(arguments,["smoothing"],t.Meter);t.AudioNode.call(this);this.input=this.output=this._analyser=new t.Analyser("waveform",1024);this.smoothing=e.smoothing};t.extend(t.Meter,t.AudioNode);t.Meter.defaults={smoothing:.8};t.Meter.prototype.getLevel=function(){this._analyser.type="fft";var t=this._analyser.getValue();var e=28;return Math.max.apply(this,t)+e};t.Meter.prototype.getValue=function(){this._analyser.type="waveform";var t=this._analyser.getValue();return t[0]};Object.defineProperty(t.Meter.prototype,"smoothing",{get:function(){return this._analyser.smoothing},set:function(t){this._analyser.smoothing=t}});t.Meter.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._analyser.dispose();this._analyser=null;return this};return t.Meter});n(function(t){t.Split=function(){t.AudioNode.call(this);this.createInsOuts(0,2);this._splitter=this.input=this.context.createChannelSplitter(2);this._splitter.channelCount=2;this._splitter.channelCountMode="explicit";this.left=this.output[0]=new t.Gain;this.right=this.output[1]=new t.Gain;this._splitter.connect(this.left,0,0);this._splitter.connect(this.right,1,0)};t.extend(t.Split,t.AudioNode);t.Split.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._splitter.disconnect();this.left.dispose();this.left=null;this.right.dispose();this.right=null;this._splitter=null;return this};return t.Split});n(function(t){t.MidSideSplit=function(){t.AudioNode.call(this);this.createInsOuts(0,2);this._split=this.input=new t.Split;this._midAdd=new t.Add;this.mid=this.output[0]=new t.Multiply(Math.SQRT1_2);this._sideSubtract=new t.Subtract;this.side=this.output[1]=new t.Multiply(Math.SQRT1_2);this._split.connect(this._midAdd,0,0);this._split.connect(this._midAdd,1,1);this._split.connect(this._sideSubtract,0,0);this._split.connect(this._sideSubtract,1,1);this._midAdd.connect(this.mid);this._sideSubtract.connect(this.side)};t.extend(t.MidSideSplit,t.AudioNode);t.MidSideSplit.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this.mid.dispose();this.mid=null;this.side.dispose();this.side=null;this._midAdd.dispose();this._midAdd=null;this._sideSubtract.dispose();this._sideSubtract=null;this._split.dispose();this._split=null;return this};return t.MidSideSplit});n(function(t){t.MidSideMerge=function(){t.AudioNode.call(this);this.createInsOuts(2,0);this.mid=this.input[0]=new t.Gain;this._left=new t.Add;this._timesTwoLeft=new t.Multiply(Math.SQRT1_2);this.side=this.input[1]=new t.Gain;this._right=new t.Subtract;this._timesTwoRight=new t.Multiply(Math.SQRT1_2);this._merge=this.output=new t.Merge;this.mid.connect(this._left,0,0);this.side.connect(this._left,0,1);this.mid.connect(this._right,0,0);this.side.connect(this._right,0,1);this._left.connect(this._timesTwoLeft);this._right.connect(this._timesTwoRight);this._timesTwoLeft.connect(this._merge,0,0);this._timesTwoRight.connect(this._merge,0,1)};t.extend(t.MidSideMerge,t.AudioNode);t.MidSideMerge.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this.mid.dispose();this.mid=null;this.side.dispose();this.side=null;this._left.dispose();this._left=null;this._timesTwoLeft.dispose();this._timesTwoLeft=null;this._right.dispose();this._right=null;this._timesTwoRight.dispose();this._timesTwoRight=null;this._merge.dispose();this._merge=null;return this};return t.MidSideMerge});n(function(t){t.MidSideCompressor=function(e){t.AudioNode.call(this);e=t.defaultArg(e,t.MidSideCompressor.defaults);this._midSideSplit=this.input=new t.MidSideSplit;this._midSideMerge=this.output=new t.MidSideMerge;this.mid=new t.Compressor(e.mid);this.side=new t.Compressor(e.side);this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid);this._midSideSplit.side.chain(this.side,this._midSideMerge.side);this._readOnly(["mid","side"])};t.extend(t.MidSideCompressor,t.AudioNode);t.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}};t.MidSideCompressor.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["mid","side"]);this.mid.dispose();this.mid=null;this.side.dispose();this.side=null;this._midSideSplit.dispose();this._midSideSplit=null;this._midSideMerge.dispose();this._midSideMerge=null;return this};return t.MidSideCompressor});n(function(t){t.Mono=function(){t.AudioNode.call(this);this.createInsOuts(1,0);this._merge=this.output=new t.Merge;this.input.connect(this._merge,0,0);this.input.connect(this._merge,0,1)};t.extend(t.Mono,t.AudioNode);t.Mono.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._merge.dispose();this._merge=null;return this};return t.Mono});n(function(t){t.MultibandCompressor=function(e){t.AudioNode.call(this);e=t.defaultArg(arguments,t.MultibandCompressor.defaults);this._splitter=this.input=new t.MultibandSplit({lowFrequency:e.lowFrequency,highFrequency:e.highFrequency});this.lowFrequency=this._splitter.lowFrequency;this.highFrequency=this._splitter.highFrequency;this.output=new t.Gain;this.low=new t.Compressor(e.low);this.mid=new t.Compressor(e.mid);this.high=new t.Compressor(e.high);this._splitter.low.chain(this.low,this.output);this._splitter.mid.chain(this.mid,this.output);this._splitter.high.chain(this.high,this.output);this._readOnly(["high","mid","low","highFrequency","lowFrequency"])};t.extend(t.MultibandCompressor,t.AudioNode);t.MultibandCompressor.defaults={low:t.Compressor.defaults,mid:t.Compressor.defaults,high:t.Compressor.defaults,lowFrequency:250,highFrequency:2e3};t.MultibandCompressor.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._splitter.dispose();this._writable(["high","mid","low","highFrequency","lowFrequency"]);this.low.dispose();this.mid.dispose();this.high.dispose();this._splitter=null;this.low=null;this.mid=null;this.high=null;this.lowFrequency=null;this.highFrequency=null;return this};return t.MultibandCompressor});n(function(t){if(t.supported&&!window.StereoPannerNode){var e=function(e){this.context=e;this.pan=new t.Signal(0,t.Type.AudioRange);var n=new t.WaveShaper(function(e){return t.equalPowerScale((e+1)/2)},4096);var i=new t.WaveShaper(function(e){return t.equalPowerScale(1-(e+1)/2)},4096);var r=new t.Gain;var o=new t.Gain;var s=this.input=new t.Split;var a=new t.Zero;a.fan(n,i);var u=this.output=new t.Merge;s.left.chain(r,u.left);s.right.chain(o,u.right);this.pan.chain(i,r.gain);this.pan.chain(n,o.gain)};e.prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)};e.prototype.connect=function(){this.output.connect.apply(this.output,arguments)};AudioContext.prototype.createStereoPanner=function(){return new e(this)};t.Context.prototype.createStereoPanner=function(){return new e(this)}}});n(function(t){t.Panner=function(e){t.AudioNode.call(this);this._panner=this.input=this.output=this.context.createStereoPanner();this.pan=this._panner.pan;this.pan.value=t.defaultArg(e,0);this._readOnly("pan")};t.extend(t.Panner,t.AudioNode);t.Panner.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable("pan");this._panner.disconnect();this._panner=null;this.pan=null;return this};return t.Panner});n(function(t){t.Panner3D=function(){var e=t.defaults(arguments,["positionX","positionY","positionZ"],t.Panner3D);t.AudioNode.call(this);this._panner=this.input=this.output=this.context.createPanner();this._panner.panningModel=e.panningModel;this._panner.maxDistance=e.maxDistance;this._panner.distanceModel=e.distanceModel;this._panner.coneOuterGain=e.coneOuterGain;this._panner.coneOuterAngle=e.coneOuterAngle;this._panner.coneInnerAngle=e.coneInnerAngle;this._panner.refDistance=e.refDistance;this._panner.rolloffFactor=e.rolloffFactor;this._orientation=[e.orientationX,e.orientationY,e.orientationZ];this._position=[e.positionX,e.positionY,e.positionZ];this.orientationX=e.orientationX;this.orientationY=e.orientationY;this.orientationZ=e.orientationZ;this.positionX=e.positionX;this.positionY=e.positionY;this.positionZ=e.positionZ};t.extend(t.Panner3D,t.AudioNode);t.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1};t.Panner3D.prototype._rampTimeConstant=.01;t.Panner3D.prototype.setPosition=function(t,e,n){if(this._panner.positionX){var i=this.now();this._panner.positionX.setTargetAtTime(t,i,this._rampTimeConstant);this._panner.positionY.setTargetAtTime(e,i,this._rampTimeConstant);this._panner.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else{this._panner.setPosition(t,e,n)}this._position=Array.prototype.slice.call(arguments);return this};t.Panner3D.prototype.setOrientation=function(t,e,n){if(this._panner.orientationX){var i=this.now();this._panner.orientationX.setTargetAtTime(t,i,this._rampTimeConstant);this._panner.orientationY.setTargetAtTime(e,i,this._rampTimeConstant);this._panner.orientationZ.setTargetAtTime(n,i,this._rampTimeConstant)}else{this._panner.setOrientation(t,e,n)}this._orientation=Array.prototype.slice.call(arguments);return this};Object.defineProperty(t.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t;this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}});Object.defineProperty(t.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t;this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}});Object.defineProperty(t.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t;this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}});Object.defineProperty(t.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}});Object.defineProperty(t.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}});Object.defineProperty(t.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}});t.Panner3D._aliasProperty=function(e){Object.defineProperty(t.Panner3D.prototype,e,{set:function(t){this._panner[e]=t},get:function(){return this._panner[e]}})};t.Panner3D._aliasProperty("panningModel");t.Panner3D._aliasProperty("refDistance");t.Panner3D._aliasProperty("rolloffFactor");t.Panner3D._aliasProperty("distanceModel");t.Panner3D._aliasProperty("coneInnerAngle");t.Panner3D._aliasProperty("coneOuterAngle");t.Panner3D._aliasProperty("coneOuterGain");t.Panner3D._aliasProperty("maxDistance");t.Panner3D.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._panner.disconnect();this._panner=null;this._orientation=null;this._position=null;return this};return t.Panner3D});n(function(t){t.PanVol=function(){var e=t.defaults(arguments,["pan","volume"],t.PanVol);t.AudioNode.call(this);this._panner=this.input=new t.Panner(e.pan);this.pan=this._panner.pan;this._volume=this.output=new t.Volume(e.volume);this.volume=this._volume.volume;this._panner.connect(this._volume);this.mute=e.mute;this._readOnly(["pan","volume"])};t.extend(t.PanVol,t.AudioNode);t.PanVol.defaults={pan:0,volume:0,mute:false};Object.defineProperty(t.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}});t.PanVol.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._writable(["pan","volume"]);this._panner.dispose();this._panner=null;this.pan=null;this._volume.dispose();this._volume=null;this.volume=null;return this};return t.PanVol});n(function(t){t.Solo=function(){var e=t.defaults(arguments,["solo"],t.Solo);t.AudioNode.call(this);this.input=this.output=new t.Gain;this._soloBind=this._soloed.bind(this);this.context.on("solo",this._soloBind);this.solo=e.solo};t.extend(t.Solo,t.AudioNode);t.Solo.defaults={solo:false};Object.defineProperty(t.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){if(t){this._addSolo()}else{this._removeSolo()}this.context.emit("solo",this)}});Object.defineProperty(t.Solo.prototype,"muted",{get:function(){return this.input.gain.value===0}});t.Solo.prototype._addSolo=function(){if(!t.isArray(this.context._currentSolo)){this.context._currentSolo=[]}if(!this._isSoloed()){this.context._currentSolo.push(this)}};t.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var t=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(t,1)}};t.Solo.prototype._isSoloed=function(){if(t.isArray(this.context._currentSolo)){return this.context._currentSolo.length!==0&&this.context._currentSolo.indexOf(this)!==-1}else{return false}};t.Solo.prototype._noSolos=function(){return!t.isArray(this.context._currentSolo)||this.context._currentSolo.length===0};t.Solo.prototype._soloed=function(){if(this._isSoloed()){this.input.gain.value=1}else if(this._noSolos()){this.input.gain.value=1}else{this.input.gain.value=0}};t.Solo.prototype.dispose=function(){this.context.off("solo",this._soloBind);this._removeSolo();this._soloBind=null;t.AudioNode.prototype.dispose.call(this);return this};return t.Solo});n(function(t){t.Waveform=function(){var e=t.defaults(arguments,["size"],t.Waveform);e.type=t.Analyser.Type.Waveform;t.AudioNode.call(this);this._analyser=this.input=this.output=new t.Analyser(e)};t.extend(t.Waveform,t.AudioNode);t.Waveform.defaults={size:1024};t.Waveform.prototype.getValue=function(){return this._analyser.getValue()};Object.defineProperty(t.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}});t.Waveform.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._analyser.dispose();this._analyser=null};return t.Waveform});n(function(t){t.CtrlInterpolate=function(){var e=t.defaults(arguments,["values","index"],t.CtrlInterpolate);t.call(this);this.values=e.values;this.index=e.index};t.extend(t.CtrlInterpolate);t.CtrlInterpolate.defaults={index:0,values:[]};Object.defineProperty(t.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t);var n=this.values[e];var i=this.values[Math.ceil(t)];return this._interpolate(t-e,n,i)}});t.CtrlInterpolate.prototype._interpolate=function(e,n,i){if(t.isArray(n)){var r=[];for(var o=0;o<n.length;o++){r[o]=this._interpolate(e,n[o],i[o])}return r}else if(t.isObject(n)){var s={};for(var a in n){s[a]=this._interpolate(e,n[a],i[a])}return s}else{n=this._toNumber(n);i=this._toNumber(i);return(1-e)*n+e*i}};t.CtrlInterpolate.prototype._toNumber=function(e){if(t.isNumber(e)){return e}else{return this.toSeconds(e)}};t.CtrlInterpolate.prototype.dispose=function(){this.values=null};return t.CtrlInterpolate});n(function(t){t.CtrlMarkov=function(e,n){t.call(this);this.values=t.defaultArg(e,{});this.value=t.defaultArg(n,Object.keys(this.values)[0])};t.extend(t.CtrlMarkov);t.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var e=this.values[this.value];if(t.isArray(e)){var n=this._getProbDistribution(e);var i=Math.random();var r=0;for(var o=0;o<n.length;o++){var s=n[o];if(i>r&&i<r+s){var a=e[o];if(t.isObject(a)){this.value=a.value}else{this.value=a}}r+=s}}else{this.value=e}}return this.value};t.CtrlMarkov.prototype._getProbDistribution=function(e){var n=[];var i=0;var r=false;for(var o=0;o<e.length;o++){var s=e[o];if(t.isObject(s)){r=true;n[o]=s.probability}else{n[o]=1/e.length}i+=n[o]}if(r){for(var a=0;a<n.length;a++){n[a]=n[a]/i}}return n};t.CtrlMarkov.prototype.dispose=function(){this.values=null};return t.CtrlMarkov});n(function(t){t.CtrlPattern=function(){var e=t.defaults(arguments,["values","type"],t.CtrlPattern);t.call(this);this.values=e.values;this.index=0;this._type=null;this._shuffled=null;this._direction=null;this.type=e.type};t.extend(t.CtrlPattern);t.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"};t.CtrlPattern.defaults={type:t.CtrlPattern.Type.Up,values:[]};Object.defineProperty(t.CtrlPattern.prototype,"value",{get:function(){if(this.values.length===0){return}else if(this.values.length===1){return this.values[0]}this.index=Math.min(this.index,this.values.length-1);var e=this.values[this.index];if(this.type===t.CtrlPattern.Type.RandomOnce){if(this.values.length!==this._shuffled.length){this._shuffleValues()}e=this.values[this._shuffled[this.index]]}return e}});Object.defineProperty(t.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e;this._shuffled=null;if(this._type===t.CtrlPattern.Type.Up||this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.RandomOnce||this._type===t.CtrlPattern.Type.AlternateUp){this.index=0}else if(this._type===t.CtrlPattern.Type.Down||this._type===t.CtrlPattern.Type.DownUp||this._type===t.CtrlPattern.Type.AlternateDown){this.index=this.values.length-1}if(this._type===t.CtrlPattern.Type.UpDown||this._type===t.CtrlPattern.Type.AlternateUp){this._direction=t.CtrlPattern.Type.Up}else if(this._type===t.CtrlPattern.Type.DownUp||this._type===t.CtrlPattern.Type.AlternateDown){this._direction=t.CtrlPattern.Type.Down}if(this._type===t.CtrlPattern.Type.RandomOnce){this._shuffleValues()}else if(this._type===t.CtrlPattern.Random){this.index=Math.floor(Math.random()*this.values.length)}}});t.CtrlPattern.prototype.next=function(){var e=this.type;if(e===t.CtrlPattern.Type.Up){this.index++;if(this.index>=this.values.length){this.index=0}}else if(e===t.CtrlPattern.Type.Down){this.index--;if(this.index<0){this.index=this.values.length-1}}else if(e===t.CtrlPattern.Type.UpDown||e===t.CtrlPattern.Type.DownUp){if(this._direction===t.CtrlPattern.Type.Up){this.index++}else{this.index--}if(this.index<0){this.index=1;this._direction=t.CtrlPattern.Type.Up}else if(this.index>=this.values.length){this.index=this.values.length-2;this._direction=t.CtrlPattern.Type.Down}}else if(e===t.CtrlPattern.Type.Random){this.index=Math.floor(Math.random()*this.values.length)}else if(e===t.CtrlPattern.Type.RandomWalk){if(Math.random()<.5){this.index--;this.index=Math.max(this.index,0)}else{this.index++;this.index=Math.min(this.index,this.values.length-1)}}else if(e===t.CtrlPattern.Type.RandomOnce){this.index++;if(this.index>=this.values.length){this.index=0;this._shuffleValues()}}else if(e===t.CtrlPattern.Type.AlternateUp){if(this._direction===t.CtrlPattern.Type.Up){this.index+=2;this._direction=t.CtrlPattern.Type.Down}else{this.index-=1;this._direction=t.CtrlPattern.Type.Up}if(this.index>=this.values.length){this.index=0;this._direction=t.CtrlPattern.Type.Up}}else if(e===t.CtrlPattern.Type.AlternateDown){if(this._direction===t.CtrlPattern.Type.Up){this.index+=1;this._direction=t.CtrlPattern.Type.Down}else{this.index-=2;this._direction=t.CtrlPattern.Type.Up}if(this.index<0){this.index=this.values.length-1;this._direction=t.CtrlPattern.Type.Down}}return this.value};t.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++){t[e]=e}while(t.length>0){var n=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(n[0])}};t.CtrlPattern.prototype.dispose=function(){this._shuffled=null;this.values=null};return t.CtrlPattern});n(function(t){t.CtrlRandom=function(){var e=t.defaults(arguments,["min","max"],t.CtrlRandom);t.call(this);this.min=e.min;this.max=e.max;this.integer=e.integer};t.extend(t.CtrlRandom);t.CtrlRandom.defaults={min:0,max:1,integer:false};Object.defineProperty(t.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min);var e=this.toSeconds(this.max);var n=Math.random();var i=n*t+(1-n)*e;if(this.integer){i=Math.floor(i)}return i}});return t.CtrlRandom});n(function(t){t.Buffers=function(e){var n=Array.prototype.slice.call(arguments);n.shift();var i=t.defaults(n,["onload","baseUrl"],t.Buffers);t.call(this);this._buffers={};this.baseUrl=i.baseUrl;this._loadingCount=0;for(var r in e){this._loadingCount++;this.add(r,e[r],this._bufferLoaded.bind(this,i.onload))}};t.extend(t.Buffers);t.Buffers.defaults={onload:t.noOp,baseUrl:""};t.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)};t.Buffers.prototype.get=function(t){if(this.has(t)){return this._buffers[t]}else{throw new Error("Tone.Buffers: no buffer named "+t)}};t.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--;if(this._loadingCount===0&&t){t(this)}};Object.defineProperty(t.Buffers.prototype,"loaded",{get:function(){var t=true;for(var e in this._buffers){var n=this.get(e);t=t&&n.loaded}return t}});t.Buffers.prototype.add=function(e,n,i){i=t.defaultArg(i,t.noOp);if(n instanceof t.Buffer){this._buffers[e]=n;i(this)}else if(n instanceof AudioBuffer){this._buffers[e]=new t.Buffer(n);i(this)}else if(t.isString(n)){this._buffers[e]=new t.Buffer(this.baseUrl+n,i)}return this};t.Buffers.prototype.dispose=function(){t.prototype.dispose.call(this);for(var e in this._buffers){this._buffers[e].dispose()}this._buffers=null;return this};return t.Buffers});n(function(t){var e={};t.prototype.send=function(n,i){if(!e.hasOwnProperty(n)){e[n]=this.context.createGain()}i=t.defaultArg(i,0);var r=new t.Gain(i,t.Type.Decibels);this.connect(r);r.connect(e[n]);return r};t.prototype.receive=function(t,n){if(!e.hasOwnProperty(t)){e[t]=this.context.createGain()}e[t].connect(this,0,n);return this};t.Context.on("init",function(t){if(t.Buses){e=t.Buses}else{e={};t.Buses=e}});return t});n(function(t){t.Draw=function(){t.call(this);this._events=new t.Timeline;this.expiration=.25;this.anticipation=.008;this._boundDrawLoop=this._drawLoop.bind(this)};t.extend(t.Draw);t.Draw.prototype.schedule=function(t,e){this._events.add({callback:t,time:this.toSeconds(e)});if(this._events.length===1){requestAnimationFrame(this._boundDrawLoop)}return this};t.Draw.prototype.cancel=function(t){this._events.cancel(this.toSeconds(t));return this};t.Draw.prototype._drawLoop=function(){var e=t.now();while(this._events.length&&this._events.peek().time-this.anticipation<=e){var n=this._events.shift();if(e-n.time<=this.expiration){n.callback()}}if(this._events.length>0){requestAnimationFrame(this._boundDrawLoop)}};t.Draw=new t.Draw;return t.Draw});n(function(t){t.Listener=function(){t.call(this);this._orientation=[0,0,0,0,0,0];this._position=[0,0,0];t.getContext(function(){this.set(e.defaults)}.bind(this))};t.extend(t.Listener);t.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0};t.Listener.prototype._rampTimeConstant=.01;t.Listener.prototype.setPosition=function(t,e,n){if(this.context.listener.positionX){var i=this.now();this.context.listener.positionX.setTargetAtTime(t,i,this._rampTimeConstant);this.context.listener.positionY.setTargetAtTime(e,i,this._rampTimeConstant);this.context.listener.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else{this.context.listener.setPosition(t,e,n)}this._position=Array.prototype.slice.call(arguments);return this};t.Listener.prototype.setOrientation=function(t,e,n,i,r,o){if(this.context.listener.forwardX){var s=this.now();this.context.listener.forwardX.setTargetAtTime(t,s,this._rampTimeConstant);this.context.listener.forwardY.setTargetAtTime(e,s,this._rampTimeConstant);this.context.listener.forwardZ.setTargetAtTime(n,s,this._rampTimeConstant);this.context.listener.upX.setTargetAtTime(i,s,this._rampTimeConstant);this.context.listener.upY.setTargetAtTime(r,s,this._rampTimeConstant);this.context.listener.upZ.setTargetAtTime(o,s,this._rampTimeConstant)}else{this.context.listener.setOrientation(t,e,n,i,r,o)}this._orientation=Array.prototype.slice.call(arguments);return this};Object.defineProperty(t.Listener.prototype,"positionX",{set:function(t){this._position[0]=t;this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}});Object.defineProperty(t.Listener.prototype,"positionY",{set:function(t){this._position[1]=t;this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}});Object.defineProperty(t.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t;this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}});Object.defineProperty(t.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}});Object.defineProperty(t.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}});Object.defineProperty(t.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}});Object.defineProperty(t.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}});Object.defineProperty(t.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}});Object.defineProperty(t.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t;this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}});t.Listener.prototype.dispose=function(){this._orientation=null;this._position=null;return this};var e=t.Listener;t.Listener=new e;t.Context.on("init",function(n){if(n.Listener instanceof e){t.Listener=n.Listener}else{t.Listener=new e}n.Listener=t.Listener});return t.Listener});n(function(t){function e(n,i,r,o){o=t.defaultArg(o,0);var s=new t.OfflineContext(2,i,r);t.context=s;var a=n(t.Transport);if(s.currentTime>0&&o<1e3){return e(n,i,r,++o)}else{return{response:a,context:s}}}t.Offline=function(n,i){var r=t.context.sampleRate;var o=t.context;var s=e(n,i,r);var a=s.response;var u=s.context;var l;if(a instanceof Promise){l=a.then(function(){return u.render()})}else{l=u.render()}t.context=o;return l.then(function(e){return new t.Buffer(e)})};return t.Offline});n(function(t){t.Effect=function(){var e=t.defaults(arguments,["wet"],t.Effect);t.AudioNode.call(this);this.createInsOuts(1,1);this._dryWet=new t.CrossFade(e.wet);this.wet=this._dryWet.fade;this.effectSend=new t.Gain;this.effectReturn=new t.Gain;this.input.connect(this._dryWet.a);this.input.connect(this.effectSend);this.effectReturn.connect(this._dryWet.b);this._dryWet.connect(this.output);this._readOnly(["wet"])};t.extend(t.Effect,t.AudioNode);t.Effect.defaults={wet:1};t.Effect.prototype.connectEffect=function(t){this.effectSend.chain(t,this.effectReturn);return this};t.Effect.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._dryWet.dispose();this._dryWet=null;this.effectSend.dispose();this.effectSend=null;this.effectReturn.dispose();this.effectReturn=null;this._writable(["wet"]);this.wet=null;return this};return t.Effect});n(function(t){t.AutoFilter=function(){var e=t.defaults(arguments,["frequency","baseFrequency","octaves"],t.AutoFilter);t.Effect.call(this,e);this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth});this.depth=this._lfo.amplitude;this.frequency=this._lfo.frequency;this.filter=new t.Filter(e.filter);this._octaves=0;this.connectEffect(this.filter);this._lfo.connect(this.filter.frequency);this.type=e.type;this._readOnly(["frequency","depth"]);this.octaves=e.octaves;this.baseFrequency=e.baseFrequency};t.extend(t.AutoFilter,t.Effect);t.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}};t.AutoFilter.prototype.start=function(t){this._lfo.start(t);return this};t.AutoFilter.prototype.stop=function(t){this._lfo.stop(t);return this};t.AutoFilter.prototype.sync=function(t){this._lfo.sync(t);return this};t.AutoFilter.prototype.unsync=function(){this._lfo.unsync();return this};Object.defineProperty(t.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}});Object.defineProperty(t.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t);this.octaves=this._octaves}});Object.defineProperty(t.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;this._lfo.max=this.baseFrequency*Math.pow(2,t)}});t.AutoFilter.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._lfo.dispose();this._lfo=null;this.filter.dispose();this.filter=null;this._writable(["frequency","depth"]);this.frequency=null;this.depth=null;return this};return t.AutoFilter});n(function(t){t.AutoPanner=function(){var e=t.defaults(arguments,["frequency"],t.AutoPanner);t.Effect.call(this,e);this._lfo=new t.LFO({frequency:e.frequency,amplitude:e.depth,min:-1,max:1});this.depth=this._lfo.amplitude;this._panner=new t.Panner;this.frequency=this._lfo.frequency;this.connectEffect(this._panner);this._lfo.connect(this._panner.pan);this.type=e.type;this._readOnly(["depth","frequency"])};t.extend(t.AutoPanner,t.Effect);t.AutoPanner.defaults={frequency:1,type:"sine",depth:1};t.AutoPanner.prototype.start=function(t){this._lfo.start(t);return this};t.AutoPanner.prototype.stop=function(t){this._lfo.stop(t);return this};t.AutoPanner.prototype.sync=function(t){this._lfo.sync(t);return this};t.AutoPanner.prototype.unsync=function(){this._lfo.unsync();return this};Object.defineProperty(t.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}});t.AutoPanner.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._lfo.dispose();this._lfo=null;this._panner.dispose();this._panner=null;this._writable(["depth","frequency"]);this.frequency=null;this.depth=null;return this};return t.AutoPanner});n(function(t){t.AutoWah=function(){var e=t.defaults(arguments,["baseFrequency","octaves","sensitivity"],t.AutoWah);t.Effect.call(this,e);this.follower=new t.Follower(e.follower);this._sweepRange=new t.ScaleExp(0,1,.5);this._baseFrequency=e.baseFrequency;this._octaves=e.octaves;this._inputBoost=new t.Gain;this._bandpass=new t.Filter({rolloff:-48,frequency:0,Q:e.Q});this._peaking=new t.Filter(0,"peaking");this._peaking.gain.value=e.gain;this.gain=this._peaking.gain;this.Q=this._bandpass.Q;this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange);this._sweepRange.connect(this._bandpass.frequency);this._sweepRange.connect(this._peaking.frequency);this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn);this._setSweepRange();this.sensitivity=e.sensitivity;this._readOnly(["gain","Q"])};t.extend(t.AutoWah,t.Effect);t.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}};Object.defineProperty(t.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;this._setSweepRange()}});Object.defineProperty(t.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t;this._setSweepRange()}});Object.defineProperty(t.AutoWah.prototype,"sensitivity",{get:function(){return t.gainToDb(1/this._inputBoost.gain.value)},set:function(e){this._inputBoost.gain.value=1/t.dbToGain(e)}});t.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency;this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)};t.AutoWah.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this.follower.dispose();this.follower=null;this._sweepRange.dispose();this._sweepRange=null;this._bandpass.dispose();this._bandpass=null;this._peaking.dispose();this._peaking=null;this._inputBoost.dispose();this._inputBoost=null;this._writable(["gain","Q"]);this.gain=null;this.Q=null;return this};return t.AutoWah});n(function(t){t.Modulo=function(e){t.SignalBase.call(this);this.createInsOuts(1,0);this._shaper=new t.WaveShaper(Math.pow(2,16));this._multiply=new t.Multiply;this._subtract=this.output=new t.Subtract;this._modSignal=new t.Signal(e);this.input.fan(this._shaper,this._subtract);this._modSignal.connect(this._multiply,0,0);this._shaper.connect(this._multiply,0,1);this._multiply.connect(this._subtract,0,1);this._setWaveShaper(e)};t.extend(t.Modulo,t.SignalBase);t.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap(function(e){var n=Math.floor((e+1e-4)/t);return n})};Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t;this._setWaveShaper(t)}});t.Modulo.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._shaper.dispose();this._shaper=null;this._multiply.dispose();this._multiply=null;this._subtract.dispose();this._subtract=null;this._modSignal.dispose();this._modSignal=null;return this};return t.Modulo});n(function(t){t.BitCrusher=function(){var e=t.defaults(arguments,["bits"],t.BitCrusher);t.Effect.call(this,e);var n=1/Math.pow(2,e.bits-1);this._subtract=new t.Subtract;this._modulo=new t.Modulo(n);this._bits=e.bits;this.effectSend.fan(this._subtract,this._modulo);this._modulo.connect(this._subtract,0,1);this._subtract.connect(this.effectReturn)};t.extend(t.BitCrusher,t.Effect);t.BitCrusher.defaults={bits:4};Object.defineProperty(t.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}});t.BitCrusher.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._subtract.dispose();this._subtract=null;this._modulo.dispose();this._modulo=null;return this};return t.BitCrusher});n(function(t){t.Chebyshev=function(){var e=t.defaults(arguments,["order"],t.Chebyshev);t.Effect.call(this,e);this._shaper=new t.WaveShaper(4096);this._order=e.order;this.connectEffect(this._shaper);this.order=e.order;this.oversample=e.oversample};t.extend(t.Chebyshev,t.Effect);t.Chebyshev.defaults={order:1,oversample:"none"};t.Chebyshev.prototype._getCoefficient=function(t,e,n){if(n.hasOwnProperty(e)){return n[e]}else if(e===0){n[e]=0}else if(e===1){n[e]=t}else{n[e]=2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n)}return n[e]};Object.defineProperty(t.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;var e=new Array(4096);var n=e.length;for(var i=0;i<n;++i){var r=i*2/n-1;if(r===0){e[i]=0}else{e[i]=this._getCoefficient(r,t,{})}}this._shaper.curve=e}});Object.defineProperty(t.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}});t.Chebyshev.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._shaper.dispose();this._shaper=null;return this};return t.Chebyshev});n(function(t){t.StereoEffect=function(){t.AudioNode.call(this);var e=t.defaults(arguments,["wet"],t.Effect);this.createInsOuts(1,1);this._dryWet=new t.CrossFade(e.wet);this.wet=this._dryWet.fade;this._split=new t.Split;this.effectSendL=this._split.left;this.effectSendR=this._split.right;this._merge=new t.Merge;this.effectReturnL=this._merge.left;this.effectReturnR=this._merge.right;this.input.connect(this._split);this.input.connect(this._dryWet,0,0);this._merge.connect(this._dryWet,0,1);this._dryWet.connect(this.output);this._readOnly(["wet"])};t.extend(t.StereoEffect,t.Effect);t.StereoEffect.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._dryWet.dispose();this._dryWet=null;this._split.dispose();this._split=null;this._merge.dispose();this._merge=null;this.effectSendL=null;this.effectSendR=null;this.effectReturnL=null;this.effectReturnR=null;this._writable(["wet"]);this.wet=null;return this};return t.StereoEffect});n(function(t){t.Chorus=function(){var e=t.defaults(arguments,["frequency","delayTime","depth"],t.Chorus);t.StereoEffect.call(this,e);this._depth=e.depth;this._delayTime=e.delayTime/1e3;this._lfoL=new t.LFO({frequency:e.frequency,min:0,max:1});this._lfoR=new t.LFO({frequency:e.frequency,min:0,max:1,phase:180});this._delayNodeL=new t.Delay;this._delayNodeR=new t.Delay;this.frequency=this._lfoL.frequency;this.effectSendL.chain(this._delayNodeL,this.effectReturnL);this.effectSendR.chain(this._delayNodeR,this.effectReturnR);this.effectSendL.connect(this.effectReturnL);this.effectSendR.connect(this.effectReturnR);this._lfoL.connect(this._delayNodeL.delayTime);this._lfoR.connect(this._delayNodeR.delayTime);this._lfoL.start();this._lfoR.start();this._lfoL.frequency.connect(this._lfoR.frequency);this.depth=this._depth;this.frequency.value=e.frequency;this.type=e.type;this._readOnly(["frequency"]);this.spread=e.spread};t.extend(t.Chorus,t.StereoEffect);t.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180};Object.defineProperty(t.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0);this._lfoL.max=this._delayTime+e;this._lfoR.min=Math.max(this._delayTime-e,0);this._lfoR.max=this._delayTime+e}});Object.defineProperty(t.Chorus.prototype,"delayTime",{get:function(){return this._delayTime*1e3},set:function(t){this._delayTime=t/1e3;this.depth=this._depth}});Object.defineProperty(t.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t;this._lfoR.type=t}});Object.defineProperty(t.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2;this._lfoR.phase=t/2+90}});t.Chorus.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);this._lfoL.dispose();this._lfoL=null;this._lfoR.dispose();this._lfoR=null;this._delayNodeL.dispose();this._delayNodeL=null;this._delayNodeR.dispose();this._delayNodeR=null;this._writable("frequency");this.frequency=null;return this};return t.Chorus});n(function(t){t.Convolver=function(){var e=t.defaults(arguments,["url","onload"],t.Convolver);t.Effect.call(this,e);this._convolver=this.context.createConvolver();this._buffer=new t.Buffer(e.url,function(t){this._convolver.buffer=t.get();e.onload()}.bind(this));this.connectEffect(this._convolver)};t.extend(t.Convolver,t.Effect);t.Convolver.defaults={onload:t.noOp};Object.defineProperty(t.Convolver.prototype,"buffer",{get:function(){return this._buffer.get()},set:function(t){this._buffer.set(t);this._convolver.buffer=this._buffer.get()}});t.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t;if(e){e()}}.bind(this))};t.Convolver.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._convolver.disconnect();this._convolver=null;this._buffer.dispose();this._buffer=null;return this};return t.Convolver});n(function(t){t.Distortion=function(){var e=t.defaults(arguments,["distortion"],t.Distortion);t.Effect.call(this,e);this._shaper=new t.WaveShaper(4096);this._distortion=e.distortion;this.connectEffect(this._shaper);this.distortion=e.distortion;this.oversample=e.oversample};t.extend(t.Distortion,t.Effect);t.Distortion.defaults={distortion:.4,oversample:"none"};Object.defineProperty(t.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=t*100;var n=Math.PI/180;this._shaper.setMap(function(t){if(Math.abs(t)<.001){return 0}else{return(3+e)*t*20*n/(Math.PI+e*Math.abs(t))}})}});Object.defineProperty(t.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}});t.Distortion.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._shaper.dispose();this._shaper=null;return this};return t.Distortion});n(function(t){t.FeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.Effect.call(this,e);this._feedbackGain=new t.Gain(e.feedback,t.Type.NormalRange);this.feedback=this._feedbackGain.gain;this.effectReturn.chain(this._feedbackGain,this.effectSend);this._readOnly(["feedback"])};t.extend(t.FeedbackEffect,t.Effect);t.FeedbackEffect.defaults={feedback:.125};t.FeedbackEffect.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._writable(["feedback"]);this._feedbackGain.dispose();this._feedbackGain=null;this.feedback=null;return this};return t.FeedbackEffect});n(function(t){t.FeedbackDelay=function(){var e=t.defaults(arguments,["delayTime","feedback"],t.FeedbackDelay);t.FeedbackEffect.call(this,e);this._delayNode=new t.Delay(e.delayTime,e.maxDelay);this.delayTime=this._delayNode.delayTime;this.connectEffect(this._delayNode);this._readOnly(["delayTime"])};t.extend(t.FeedbackDelay,t.FeedbackEffect);t.FeedbackDelay.defaults={delayTime:.25,maxDelay:1};t.FeedbackDelay.prototype.dispose=function(){t.FeedbackEffect.prototype.dispose.call(this);this._delayNode.dispose();this._delayNode=null;this._writable(["delayTime"]);this.delayTime=null;return this};return t.FeedbackDelay});n(function(t){var e=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100];var n=[225,556,441,341];t.Freeverb=function(){var i=t.defaults(arguments,["roomSize","dampening"],t.Freeverb);t.StereoEffect.call(this,i);this.roomSize=new t.Signal(i.roomSize,t.Type.NormalRange);this.dampening=new t.Signal(i.dampening,t.Type.Frequency);this._combFilters=[];this._allpassFiltersL=[];this._allpassFiltersR=[];for(var r=0;r<n.length;r++){var o=this.context.createBiquadFilter();o.type="allpass";o.frequency.value=n[r];this._allpassFiltersL.push(o)}for(var s=0;s<n.length;s++){var a=this.context.createBiquadFilter();a.type="allpass";a.frequency.value=n[s];this._allpassFiltersR.push(a)}for(var u=0;u<e.length;u++){var l=new t.LowpassCombFilter(e[u]);if(u<e.length/2){this.effectSendL.chain(l,this._allpassFiltersL[0])}else{this.effectSendR.chain(l,this._allpassFiltersR[0])}this.roomSize.connect(l.resonance);this.dampening.connect(l.dampening);this._combFilters.push(l)}t.connectSeries.apply(t,this._allpassFiltersL);t.connectSeries.apply(t,this._allpassFiltersR);this._allpassFiltersL[this._allpassFiltersL.length-1].connect(this.effectReturnL);this._allpassFiltersR[this._allpassFiltersR.length-1].connect(this.effectReturnR);this._readOnly(["roomSize","dampening"])};t.extend(t.Freeverb,t.StereoEffect);t.Freeverb.defaults={roomSize:.7,dampening:3e3};t.Freeverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFiltersL.length;e++){this._allpassFiltersL[e].disconnect();this._allpassFiltersL[e]=null}this._allpassFiltersL=null;for(var n=0;n<this._allpassFiltersR.length;n++){this._allpassFiltersR[n].disconnect();this._allpassFiltersR[n]=null}this._allpassFiltersR=null;for(var i=0;i<this._combFilters.length;i++){this._combFilters[i].dispose();this._combFilters[i]=null}this._combFilters=null;this._writable(["roomSize","dampening"]);this.roomSize.dispose();this.roomSize=null;this.dampening.dispose();this.dampening=null;return this};return t.Freeverb});n(function(t){var e=[1687/25e3,1601/25e3,2053/25e3,2251/25e3];var n=[.773,.802,.753,.733];var i=[347,113,37];t.JCReverb=function(){var r=t.defaults(arguments,["roomSize"],t.JCReverb);t.StereoEffect.call(this,r);this.roomSize=new t.Signal(r.roomSize,t.Type.NormalRange);this._scaleRoomSize=new t.Scale(-.733,.197);this._allpassFilters=[];this._feedbackCombFilters=[];for(var o=0;o<i.length;o++){var s=this.context.createBiquadFilter();s.type="allpass";s.frequency.value=i[o];this._allpassFilters.push(s)}for(var a=0;a<e.length;a++){var u=new t.FeedbackCombFilter(e[a],.1);this._scaleRoomSize.connect(u.resonance);u.resonance.value=n[a];this._allpassFilters[this._allpassFilters.length-1].connect(u);if(a<e.length/2){u.connect(this.effectReturnL)}else{u.connect(this.effectReturnR)}this._feedbackCombFilters.push(u)}this.roomSize.connect(this._scaleRoomSize);t.connectSeries.apply(t,this._allpassFilters);this.effectSendL.connect(this._allpassFilters[0]);this.effectSendR.connect(this._allpassFilters[0]);this._readOnly(["roomSize"])};t.extend(t.JCReverb,t.StereoEffect);t.JCReverb.defaults={roomSize:.5};t.JCReverb.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);for(var e=0;e<this._allpassFilters.length;e++){this._allpassFilters[e].disconnect();this._allpassFilters[e]=null}this._allpassFilters=null;for(var n=0;n<this._feedbackCombFilters.length;n++){this._feedbackCombFilters[n].dispose();this._feedbackCombFilters[n]=null}this._feedbackCombFilters=null;this._writable(["roomSize"]);this.roomSize.dispose();this.roomSize=null;this._scaleRoomSize.dispose();this._scaleRoomSize=null;return this};return t.JCReverb});n(function(t){t.MidSideEffect=function(){t.Effect.apply(this,arguments);this._midSideSplit=new t.MidSideSplit;this._midSideMerge=new t.MidSideMerge;this.midSend=this._midSideSplit.mid;this.sideSend=this._midSideSplit.side;this.midReturn=this._midSideMerge.mid;this.sideReturn=this._midSideMerge.side;this.effectSend.connect(this._midSideSplit);this._midSideMerge.connect(this.effectReturn)};t.extend(t.MidSideEffect,t.Effect);t.MidSideEffect.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._midSideSplit.dispose();this._midSideSplit=null;this._midSideMerge.dispose();this._midSideMerge=null;this.midSend=null;this.sideSend=null;this.midReturn=null;this.sideReturn=null;return this};return t.MidSideEffect});n(function(t){t.Phaser=function(){var e=t.defaults(arguments,["frequency","octaves","baseFrequency"],t.Phaser);t.StereoEffect.call(this,e);this._lfoL=new t.LFO(e.frequency,0,1);this._lfoR=new t.LFO(e.frequency,0,1);this._lfoR.phase=180;this._baseFrequency=e.baseFrequency;this._octaves=e.octaves;this.Q=new t.Signal(e.Q,t.Type.Positive);this._filtersL=this._makeFilters(e.stages,this._lfoL,this.Q);this._filtersR=this._makeFilters(e.stages,this._lfoR,this.Q);this.frequency=this._lfoL.frequency;this.frequency.value=e.frequency;this.effectSendL.connect(this._filtersL[0]);this.effectSendR.connect(this._filtersR[0]);this._filtersL[e.stages-1].connect(this.effectReturnL);this._filtersR[e.stages-1].connect(this.effectReturnR);this._lfoL.frequency.connect(this._lfoR.frequency);this.baseFrequency=e.baseFrequency;this.octaves=e.octaves;this._lfoL.start();this._lfoR.start();this._readOnly(["frequency","Q"])};t.extend(t.Phaser,t.StereoEffect);t.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350};t.Phaser.prototype._makeFilters=function(e,n,i){var r=new Array(e);for(var o=0;o<e;o++){var s=this.context.createBiquadFilter();s.type="allpass";i.connect(s.Q);n.connect(s.frequency);r[o]=s}t.connectSeries.apply(t,r);return r};Object.defineProperty(t.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e;this._lfoR.max=e}});Object.defineProperty(t.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t;this._lfoL.min=t;this._lfoR.min=t;this.octaves=this._octaves}});t.Phaser.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);this._writable(["frequency","Q"]);this.Q.dispose();this.Q=null;this._lfoL.dispose();this._lfoL=null;this._lfoR.dispose();this._lfoR=null;for(var e=0;e<this._filtersL.length;e++){this._filtersL[e].disconnect();this._filtersL[e]=null}this._filtersL=null;for(var n=0;n<this._filtersR.length;n++){this._filtersR[n].disconnect();this._filtersR[n]=null}this._filtersR=null;this.frequency=null;return this};return t.Phaser});n(function(t){t.StereoXFeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.StereoEffect.call(this,e);this.feedback=new t.Signal(e.feedback,t.Type.NormalRange);this._feedbackLR=new t.Gain;this._feedbackRL=new t.Gain;this.effectReturnL.chain(this._feedbackLR,this.effectSendR);this.effectReturnR.chain(this._feedbackRL,this.effectSendL);this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain);this._readOnly(["feedback"])};t.extend(t.StereoXFeedbackEffect,t.StereoEffect);t.StereoXFeedbackEffect.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);this._writable(["feedback"]);this.feedback.dispose();this.feedback=null;this._feedbackLR.dispose();this._feedbackLR=null;this._feedbackRL.dispose();this._feedbackRL=null;return this};return t.StereoXFeedbackEffect});n(function(t){t.PingPongDelay=function(){var e=t.defaults(arguments,["delayTime","feedback"],t.PingPongDelay);t.StereoXFeedbackEffect.call(this,e);this._leftDelay=new t.Delay(0,e.maxDelayTime);this._rightDelay=new t.Delay(0,e.maxDelayTime);this._rightPreDelay=new t.Delay(0,e.maxDelayTime);this.delayTime=new t.Signal(e.delayTime,t.Type.Time);this.effectSendL.chain(this._leftDelay,this.effectReturnL);this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR);this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime);this._feedbackLR.disconnect();this._feedbackLR.connect(this._rightDelay);this._readOnly(["delayTime"])};t.extend(t.PingPongDelay,t.StereoXFeedbackEffect);t.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1};t.PingPongDelay.prototype.dispose=function(){t.StereoXFeedbackEffect.prototype.dispose.call(this);this._leftDelay.dispose();this._leftDelay=null;this._rightDelay.dispose();this._rightDelay=null;this._rightPreDelay.dispose();this._rightPreDelay=null;this._writable(["delayTime"]);this.delayTime.dispose();this.delayTime=null;return this};return t.PingPongDelay});n(function(t){t.PitchShift=function(){var e=t.defaults(arguments,["pitch"],t.PitchShift);t.FeedbackEffect.call(this,e);this._frequency=new t.Signal(0);this._delayA=new t.Delay(0,1);this._lfoA=new t.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime);this._delayB=new t.Delay(0,1);this._lfoB=new t.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime);this._crossFade=new t.CrossFade;this._crossFadeLFO=new t.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade);this._feedbackDelay=new t.Delay(e.delayTime);this.delayTime=this._feedbackDelay.delayTime;this._readOnly("delayTime");this._pitch=e.pitch;this._windowSize=e.windowSize;this._delayA.connect(this._crossFade.a);this._delayB.connect(this._crossFade.b);this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency);this.effectSend.fan(this._delayA,this._delayB);this._crossFade.chain(this._feedbackDelay,this.effectReturn);var n=this.now();this._lfoA.start(n);this._lfoB.start(n);this._crossFadeLFO.start(n);this.windowSize=this._windowSize};t.extend(t.PitchShift,t.FeedbackEffect);t.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0};Object.defineProperty(t.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(e){this._pitch=e;var n=0;if(e<0){this._lfoA.min=0;this._lfoA.max=this._windowSize;this._lfoB.min=0;this._lfoB.max=this._windowSize;n=t.intervalToFrequencyRatio(e-1)+1}else{this._lfoA.min=this._windowSize;this._lfoA.max=0;this._lfoB.min=this._windowSize;this._lfoB.max=0;n=t.intervalToFrequencyRatio(e)-1}this._frequency.value=n*(1.2/this._windowSize)}});Object.defineProperty(t.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t);this.pitch=this._pitch}});t.PitchShift.prototype.dispose=function(){t.FeedbackEffect.prototype.dispose.call(this);this._frequency.dispose();this._frequency=null;this._delayA.disconnect();this._delayA=null;this._delayB.disconnect();this._delayB=null;this._lfoA.dispose();this._lfoA=null;this._lfoB.dispose();this._lfoB=null;this._crossFade.dispose();this._crossFade=null;this._crossFadeLFO.dispose();this._crossFadeLFO=null;this._writable("delayTime");this._feedbackDelay.dispose();this._feedbackDelay=null;this.delayTime=null;return this};return t.PitchShift});n(function(t){t.BufferSource=function(){var e=t.defaults(arguments,["buffer","onload"],t.BufferSource);t.AudioNode.call(this,e);this.onended=e.onended;this._startTime=-1;this._sourceStarted=false;this._sourceStopped=false;this._stopTime=-1;this._gainNode=this.output=new t.Gain;this._source=this.context.createBufferSource();this._source.connect(this._gainNode);this._source.onended=this._onended.bind(this);this._buffer=new t.Buffer(e.buffer,e.onload);this.playbackRate=new t.Param(this._source.playbackRate,t.Type.Positive);this.fadeIn=e.fadeIn;this.fadeOut=e.fadeOut;this.curve=e.curve;this._gain=1;this._onendedTimeout=-1;this.loop=e.loop;this.loopStart=e.loopStart;this.loopEnd=e.loopEnd;this.playbackRate.value=e.playbackRate};t.extend(t.BufferSource,t.AudioNode);t.BufferSource.defaults={onended:t.noOp,onload:t.noOp,loop:false,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1};Object.defineProperty(t.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}});t.BufferSource.prototype.getStateAtTime=function(e){e=this.toSeconds(e);if(this._startTime!==-1&&e>=this._startTime&&!this._sourceStopped){return t.State.Started}else{return t.State.Stopped}};t.BufferSource.prototype.start=function(e,n,i,r,o){if(this._startTime!==-1){throw new Error("Tone.BufferSource can only be started once.")}if(!this.buffer.loaded){throw new Error("Tone.BufferSource: buffer is either not set or not loaded.")}e=this.toSeconds(e);if(this.loop){n=t.defaultArg(n,this.loopStart)}else{n=t.defaultArg(n,0)}n=this.toSeconds(n);r=t.defaultArg(r,1);this._gain=r;o=this.toSeconds(t.defaultArg(o,this.fadeIn));this.fadeIn=o;if(o>0){this._gainNode.gain.setValueAtTime(0,e);if(this.curve==="linear"){this._gainNode.gain.linearRampToValueAtTime(this._gain,e+o)}else{this._gainNode.gain.exponentialApproachValueAtTime(this._gain,e,o)}}else{this._gainNode.gain.setValueAtTime(r,e)}this._startTime=e;var s=this.toSeconds(t.defaultArg(i,this.buffer.duration-n%this.buffer.duration));s=Math.max(s,0);if(t.isDefined(i)){if(!this.loop){s=Math.min(s,this.buffer.duration-n%this.buffer.duration)}this.stop(e+s,this.fadeOut)}if(this.loop){var a=this.loopEnd||this.buffer.duration;var u=this.loopStart;var l=a-u;if(n>=a){n=(n-u)%l+u}}this._source.buffer=this.buffer.get();this._source.loopEnd=this.loopEnd||this.buffer.duration;if(n<this.buffer.duration){this._sourceStarted=true;this._source.start(e,n)}return this};t.BufferSource.prototype.stop=function(e,n){if(!this.buffer.loaded){throw new Error("Tone.BufferSource: buffer is either not set or not loaded.")}if(this._sourceStopped){return}e=this.toSeconds(e);if(this._stopTime!==-1){this.cancelStop()}if(e<=this._startTime){this._gainNode.gain.cancelScheduledValues(e);this._gainNode.gain.value=0;return this}e=Math.max(this._startTime+this.fadeIn+this.sampleTime,e);this._gainNode.gain.cancelScheduledValues(e);this._stopTime=e;n=this.toSeconds(t.defaultArg(n,this.fadeOut));var i=e-this._startTime-this.fadeIn-this.sampleTime;if(!this.loop){i=Math.min(i,this.buffer.duration)}n=Math.min(i,n);var r=e-n;if(n>this.sampleTime){this._gainNode.gain.setValueAtTime(this._gain,r);if(this.curve==="linear"){this._gainNode.gain.linearRampToValueAtTime(0,e)}else{this._gainNode.gain.exponentialApproachValueAtTime(0,r,n)}}else{this._gainNode.gain.setValueAtTime(0,e)}t.context.clearTimeout(this._onendedTimeout);this._onendedTimeout=t.context.setTimeout(this._onended.bind(this),this._stopTime-this.now());return this};t.BufferSource.prototype.cancelStop=function(){if(this._startTime!==-1&&!this._sourceStopped){var t=this.toSeconds(this.fadeIn);this._gainNode.gain.cancelScheduledValues(this._startTime+t+this.sampleTime);this._gainNode.gain.setValueAtTime(1,Math.max(this.now(),this._startTime+t+this.sampleTime));this.context.clearTimeout(this._onendedTimeout);this._stopTime=-1}return this};t.BufferSource.prototype._onended=function(){if(!this._sourceStopped){this._sourceStopped=true;var t=this.curve==="exponential"?this.fadeOut*2:0;if(this._sourceStarted&&this._stopTime!==-1){this._source.stop(this._stopTime+t)}this.onended(this)}};Object.defineProperty(t.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}});Object.defineProperty(t.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}});Object.defineProperty(t.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}});Object.defineProperty(t.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t;this.cancelStop()}});t.BufferSource.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this.onended=null;this._source.onended=null;this._source.disconnect();this._source=null;this._gainNode.dispose();this._gainNode=null;this._buffer.dispose();this._buffer=null;this._startTime=-1;this.playbackRate=null;t.context.clearTimeout(this._onendedTimeout);return this};return t.BufferSource});n(function(t){t.Noise=function(){var e=t.defaults(arguments,["type"],t.Noise);t.Source.call(this,e);this._source=null;this._type=e.type;this._playbackRate=e.playbackRate};t.extend(t.Noise,t.Source);t.Noise.defaults={type:"white",playbackRate:1};Object.defineProperty(t.Noise.prototype,"type",{get:function(){return this._type},set:function(e){if(this._type!==e){if(e in r){this._type=e;if(this.state===t.State.Started){var n=this.now();this._stop(n);this._start(n)}}else{throw new TypeError("Tone.Noise: invalid type: "+e)}}}});Object.defineProperty(t.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;if(this._source){this._source.playbackRate.value=t}}});t.Noise.prototype._start=function(e){var n=r[this._type];this._source=new t.BufferSource(n).connect(this.output);this._source.loop=true;this._source.playbackRate.value=this._playbackRate;this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))};t.Noise.prototype._stop=function(t){if(this._source){this._source.stop(this.toSeconds(t));this._source=null}};t.Noise.prototype.restart=function(t){this._stop(t);this._start(t)};t.Noise.prototype.dispose=function(){t.Source.prototype.dispose.call(this);if(this._source!==null){this._source.disconnect();this._source=null}this._buffer=null;return this};var e=44100*5;var n=2;var i={pink:function(){var t=[];for(var i=0;i<n;i++){var r=new Float32Array(e);t[i]=r;var o,s,a,u,l,c,h;o=s=a=u=l=c=h=0;for(var f=0;f<e;f++){var p=Math.random()*2-1;o=.99886*o+p*.0555179;s=.99332*s+p*.0750759;a=.969*a+p*.153852;u=.8665*u+p*.3104856;l=.55*l+p*.5329522;c=-.7616*c-p*.016898;r[f]=o+s+a+u+l+c+h+p*.5362;r[f]*=.11;h=p*.115926}}return t}(),brown:function(){var t=[];for(var i=0;i<n;i++){var r=new Float32Array(e);t[i]=r;var o=0;for(var s=0;s<e;s++){var a=Math.random()*2-1;r[s]=(o+.02*a)/1.02;o=r[s];r[s]*=3.5}}return t}(),white:function(){var t=[];for(var i=0;i<n;i++){var r=new Float32Array(e);t[i]=r;for(var o=0;o<e;o++){r[o]=Math.random()*2-1}}return t}()};var r={};function o(){for(var e in i){r[e]=(new t.Buffer).fromArray(i[e])}}t.getContext(o);t.Context.on("init",o);return t.Noise});n(function(t){t.Reverb=function(){var e=t.defaults(arguments,["decay"],t.Reverb);t.Effect.call(this,e);this._convolver=this.context.createConvolver();this.decay=e.decay;this.preDelay=e.preDelay;this.connectEffect(this._convolver)};t.extend(t.Reverb,t.Effect);t.Reverb.defaults={decay:1.5,preDelay:.01};t.Reverb.prototype.generate=function(){return t.Offline(function(){var e=new t.Noise;var n=new t.Noise;var i=new t.Merge;e.connect(i.left);n.connect(i.right);var r=(new t.Gain).toMaster();i.connect(r);e.start(0);n.start(0);r.gain.setValueAtTime(0,0);r.gain.linearRampToValueAtTime(1,this.preDelay);r.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay-this.preDelay)}.bind(this),this.decay).then(function(t){this._convolver.buffer=t.get();return this}.bind(this))};t.Reverb.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._convolver.disconnect();this._convolver=null;return this};return t.Reverb});n(function(t){t.StereoFeedbackEffect=function(){var e=t.defaults(arguments,["feedback"],t.FeedbackEffect);t.StereoEffect.call(this,e);this.feedback=new t.Signal(e.feedback,t.Type.NormalRange);this._feedbackL=new t.Gain;this._feedbackR=new t.Gain;this.effectReturnL.chain(this._feedbackL,this.effectSendL);this.effectReturnR.chain(this._feedbackR,this.effectSendR);this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain);this._readOnly(["feedback"])};t.extend(t.StereoFeedbackEffect,t.StereoEffect);t.StereoFeedbackEffect.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);this._writable(["feedback"]);this.feedback.dispose();this.feedback=null;this._feedbackL.dispose();this._feedbackL=null;this._feedbackR.dispose();this._feedbackR=null;return this};return t.StereoFeedbackEffect});n(function(t){t.StereoWidener=function(){var e=t.defaults(arguments,["width"],t.StereoWidener);t.MidSideEffect.call(this,e);this.width=new t.Signal(e.width,t.Type.NormalRange);this._readOnly(["width"]);this._twoTimesWidthMid=new t.Multiply(2);this._twoTimesWidthSide=new t.Multiply(2);this._midMult=new t.Multiply;this._twoTimesWidthMid.connect(this._midMult,0,1);this.midSend.chain(this._midMult,this.midReturn);this._oneMinusWidth=new t.Subtract;this._oneMinusWidth.connect(this._twoTimesWidthMid);this.context.getConstant(1).connect(this._oneMinusWidth,0,0);this.width.connect(this._oneMinusWidth,0,1);this._sideMult=new t.Multiply;this.width.connect(this._twoTimesWidthSide);this._twoTimesWidthSide.connect(this._sideMult,0,1);this.sideSend.chain(this._sideMult,this.sideReturn)};t.extend(t.StereoWidener,t.MidSideEffect);t.StereoWidener.defaults={width:.5};t.StereoWidener.prototype.dispose=function(){t.MidSideEffect.prototype.dispose.call(this);this._writable(["width"]);this.width.dispose();this.width=null;this._midMult.dispose();this._midMult=null;this._sideMult.dispose();this._sideMult=null;this._twoTimesWidthMid.dispose();this._twoTimesWidthMid=null;this._twoTimesWidthSide.dispose();this._twoTimesWidthSide=null;this._oneMinusWidth.dispose();this._oneMinusWidth=null;return this};return t.StereoWidener});n(function(t){t.Tremolo=function(){var e=t.defaults(arguments,["frequency","depth"],t.Tremolo);t.StereoEffect.call(this,e);this._lfoL=new t.LFO({phase:e.spread,min:1,max:0});this._lfoR=new t.LFO({phase:e.spread,min:1,max:0});this._amplitudeL=new t.Gain;this._amplitudeR=new t.Gain;this.frequency=new t.Signal(e.frequency,t.Type.Frequency);this.depth=new t.Signal(e.depth,t.Type.NormalRange);this._readOnly(["frequency","depth"]);this.effectSendL.chain(this._amplitudeL,this.effectReturnL);this.effectSendR.chain(this._amplitudeR,this.effectReturnR);this._lfoL.connect(this._amplitudeL.gain);this._lfoR.connect(this._amplitudeR.gain);this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency);this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude);this.type=e.type;this.spread=e.spread};t.extend(t.Tremolo,t.StereoEffect);t.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180};t.Tremolo.prototype.start=function(t){this._lfoL.start(t);this._lfoR.start(t);return this};t.Tremolo.prototype.stop=function(t){this._lfoL.stop(t);this._lfoR.stop(t);return this};t.Tremolo.prototype.sync=function(e){this._lfoL.sync(e);this._lfoR.sync(e);t.Transport.syncSignal(this.frequency);return this};t.Tremolo.prototype.unsync=function(){this._lfoL.unsync();this._lfoR.unsync();t.Transport.unsyncSignal(this.frequency);return this};Object.defineProperty(t.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t;this._lfoR.type=t}});Object.defineProperty(t.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2;this._lfoR.phase=t/2+90}});t.Tremolo.prototype.dispose=function(){t.StereoEffect.prototype.dispose.call(this);this._writable(["frequency","depth"]);this._lfoL.dispose();this._lfoL=null;this._lfoR.dispose();this._lfoR=null;this._amplitudeL.dispose();this._amplitudeL=null;this._amplitudeR.dispose();this._amplitudeR=null;this.frequency=null;this.depth=null;return this};return t.Tremolo});n(function(t){t.Vibrato=function(){var e=t.defaults(arguments,["frequency","depth"],t.Vibrato);t.Effect.call(this,e);this._delayNode=new t.Delay(0,e.maxDelay);this._lfo=new t.LFO({type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime);this.frequency=this._lfo.frequency;this.depth=this._lfo.amplitude;this.depth.value=e.depth;this._readOnly(["frequency","depth"]);this.effectSend.chain(this._delayNode,this.effectReturn)};t.extend(t.Vibrato,t.Effect);t.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"};Object.defineProperty(t.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}});t.Vibrato.prototype.dispose=function(){t.Effect.prototype.dispose.call(this);this._delayNode.dispose();this._delayNode=null;this._lfo.dispose();this._lfo=null;this._writable(["frequency","depth"]);this.frequency=null;this.depth=null};return t.Vibrato});n(function(t){t.Event=function(){var e=t.defaults(arguments,["callback","value"],t.Event);t.call(this);this._loop=e.loop;this.callback=e.callback;this.value=e.value;this._loopStart=this.toTicks(e.loopStart);this._loopEnd=this.toTicks(e.loopEnd);this._state=new t.TimelineState(t.State.Stopped);this._playbackRate=1;this._startOffset=0;this._probability=e.probability;this._humanize=e.humanize;this.mute=e.mute;this.playbackRate=e.playbackRate};t.extend(t.Event);t.Event.defaults={callback:t.noOp,loop:false,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:false,humanize:false};t.Event.prototype._rescheduleEvents=function(e){e=t.defaultArg(e,-1);this._state.forEachFrom(e,function(e){var n;if(e.state===t.State.Started){if(t.isDefined(e.id)){t.Transport.clear(e.id)}var i=e.time+Math.round(this.startOffset/this._playbackRate);if(this._loop){n=Infinity;if(t.isNumber(this._loop)){n=this._loop*this._getLoopDuration()}var r=this._state.getAfter(i);if(r!==null){n=Math.min(n,r.time-i)}if(n!==Infinity){this._state.setStateAtTime(t.State.Stopped,i+n+1);n=t.Ticks(n)}var o=t.Ticks(this._getLoopDuration());e.id=t.Transport.scheduleRepeat(this._tick.bind(this),o,t.Ticks(i),n)}else{e.id=t.Transport.schedule(this._tick.bind(this),t.Ticks(i))}}}.bind(this));return this};Object.defineProperty(t.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(t.Transport.ticks)}});Object.defineProperty(t.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}});Object.defineProperty(t.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}});Object.defineProperty(t.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}});t.Event.prototype.start=function(e){e=this.toTicks(e);if(this._state.getValueAtTime(e)===t.State.Stopped){this._state.add({state:t.State.Started,time:e,id:undefined});this._rescheduleEvents(e)}return this};t.Event.prototype.stop=function(e){this.cancel(e);e=this.toTicks(e);if(this._state.getValueAtTime(e)===t.State.Started){this._state.setStateAtTime(t.State.Stopped,e);var n=this._state.getBefore(e);var i=e;if(n!==null){i=n.time}this._rescheduleEvents(i)}return this};t.Event.prototype.cancel=function(e){e=t.defaultArg(e,-Infinity);e=this.toTicks(e);this._state.forEachFrom(e,function(e){t.Transport.clear(e.id)});this._state.cancel(e);return this};t.Event.prototype._tick=function(e){var n=t.Transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)===t.State.Started){if(this.probability<1&&Math.random()>this.probability){return}if(this.humanize){var i=.02;if(!t.isBoolean(this.humanize)){i=this.toSeconds(this.humanize)}e+=(Math.random()*2-1)*i}this.callback(e,this.value)}};t.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)};Object.defineProperty(t.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t;this._rescheduleEvents()}});Object.defineProperty(t.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;this._rescheduleEvents()}});Object.defineProperty(t.Event.prototype,"loopEnd",{get:function(){return t.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t);if(this._loop){this._rescheduleEvents()}}});Object.defineProperty(t.Event.prototype,"loopStart",{get:function(){return t.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t);if(this._loop){this._rescheduleEvents()}}});Object.defineProperty(t.Event.prototype,"progress",{get:function(){if(this._loop){var e=t.Transport.ticks;var n=this._state.get(e);if(n!==null&&n.state===t.State.Started){var i=this._getLoopDuration();var r=(e-n.time)%i;return r/i}else{return 0}}else{return 0}}});t.Event.prototype.dispose=function(){this.cancel();this._state.dispose();this._state=null;this.callback=null;this.value=null};return t.Event});n(function(t){t.Loop=function(){var e=t.defaults(arguments,["callback","interval"],t.Loop);t.call(this);this._event=new t.Event({callback:this._tick.bind(this),loop:true,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability});this.callback=e.callback;this.iterations=e.iterations};t.extend(t.Loop);t.Loop.defaults={interval:"4n",callback:t.noOp,playbackRate:1,iterations:Infinity,probability:true,mute:false};t.Loop.prototype.start=function(t){this._event.start(t);return this};t.Loop.prototype.stop=function(t){this._event.stop(t);return this};t.Loop.prototype.cancel=function(t){this._event.cancel(t);return this};t.Loop.prototype._tick=function(t){this.callback(t)};Object.defineProperty(t.Loop.prototype,"state",{get:function(){return this._event.state}});Object.defineProperty(t.Loop.prototype,"progress",{get:function(){return this._event.progress}});Object.defineProperty(t.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}});Object.defineProperty(t.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}});Object.defineProperty(t.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}});Object.defineProperty(t.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}});Object.defineProperty(t.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}});Object.defineProperty(t.Loop.prototype,"iterations",{get:function(){if(this._event.loop===true){return Infinity}else{return this._event.loop}},set:function(t){if(t===Infinity){this._event.loop=true}else{this._event.loop=t}}});t.Loop.prototype.dispose=function(){this._event.dispose();this._event=null;this.callback=null};return t.Loop});n(function(t){t.Part=function(){var e=t.defaults(arguments,["callback","events"],t.Part);t.Event.call(this,e);this._events=[];for(var n=0;n<e.events.length;n++){if(Array.isArray(e.events[n])){this.add(e.events[n][0],e.events[n][1])}else{this.add(e.events[n])}}};t.extend(t.Part,t.Event);t.Part.defaults={callback:t.noOp,loop:false,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:false,mute:false,events:[]};t.Part.prototype.start=function(e,n){var i=this.toTicks(e);if(this._state.getValueAtTime(i)!==t.State.Started){if(this._loop){n=t.defaultArg(n,this._loopStart)}else{n=t.defaultArg(n,0)}n=this.toTicks(n);this._state.add({state:t.State.Started,time:i,offset:n});this._forEach(function(t){this._startNote(t,i,n)})}return this};t.Part.prototype._startNote=function(e,n,i){n-=i;if(this._loop){if(e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd){if(e.startOffset<i){n+=this._getLoopDuration()}e.start(t.Ticks(n))}else if(e.startOffset<this._loopStart&&e.startOffset>=i){e.loop=false;e.start(t.Ticks(n))}}else if(e.startOffset>=i){e.start(t.Ticks(n))}};Object.defineProperty(t.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t;this._forEach(function(t){t.startOffset+=this._startOffset})}});t.Part.prototype.stop=function(e){var n=this.toTicks(e);this._state.cancel(n);this._state.setStateAtTime(t.State.Stopped,n);this._forEach(function(t){t.stop(e)});return this};t.Part.prototype.at=function(e,n){e=t.TransportTime(e);var i=t.Ticks(1).toSeconds();for(var r=0;r<this._events.length;r++){var o=this._events[r];if(Math.abs(e.toTicks()-o.startOffset)<i){if(t.isDefined(n)){o.value=n}return o}}if(t.isDefined(n)){this.add(e,n);return this._events[this._events.length-1]}else{return null}};t.Part.prototype.add=function(e,n){if(e.hasOwnProperty("time")){n=e;e=n.time}e=this.toTicks(e);var i;if(n instanceof t.Event){i=n;i.callback=this._tick.bind(this)}else{i=new t.Event({callback:this._tick.bind(this),value:n})}i.startOffset=e;i.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability});this._events.push(i);this._restartEvent(i);return this};t.Part.prototype._restartEvent=function(e){this._state.forEach(function(n){if(n.state===t.State.Started){this._startNote(e,n.time,n.offset)}else{e.stop(t.Ticks(n.time))}}.bind(this))};t.Part.prototype.remove=function(e,n){if(e.hasOwnProperty("time")){n=e;e=n.time}e=this.toTicks(e);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];if(r instanceof t.Part){r.remove(e,n)}else if(r.startOffset===e){if(t.isUndef(n)||t.isDefined(n)&&r.value===n){this._events.splice(i,1);r.dispose()}}}return this};t.Part.prototype.removeAll=function(){this._forEach(function(t){t.dispose()});this._events=[];return this};t.Part.prototype.cancel=function(t){this._forEach(function(e){e.cancel(t)});this._state.cancel(this.toTicks(t));return this};t.Part.prototype._forEach=function(e,n){if(this._events){n=t.defaultArg(n,this);for(var i=this._events.length-1;i>=0;i--){var r=this._events[i];if(r instanceof t.Part){r._forEach(e,n)}else{e.call(n,r)}}}return this};t.Part.prototype._setAll=function(t,e){this._forEach(function(n){n[t]=e})};t.Part.prototype._tick=function(t,e){if(!this.mute){this.callback(t,e)}};t.Part.prototype._testLoopBoundries=function(e){if(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd){e.cancel(0)}else if(e.state===t.State.Stopped){this._restartEvent(e)}};Object.defineProperty(t.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t;this._setAll("probability",t)}});Object.defineProperty(t.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t;this._setAll("humanize",t)}});Object.defineProperty(t.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t;this._forEach(function(e){e._loopStart=this._loopStart;e._loopEnd=this._loopEnd;e.loop=t;this._testLoopBoundries(e)})}});Object.defineProperty(t.Part.prototype,"loopEnd",{get:function(){return t.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t);if(this._loop){this._forEach(function(e){e.loopEnd=t;this._testLoopBoundries(e)})}}});Object.defineProperty(t.Part.prototype,"loopStart",{get:function(){return t.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t);if(this._loop){this._forEach(function(t){t.loopStart=this.loopStart;this._testLoopBoundries(t)})}}});Object.defineProperty(t.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;this._setAll("playbackRate",t)}});Object.defineProperty(t.Part.prototype,"length",{get:function(){return this._events.length}});t.Part.prototype.dispose=function(){this.removeAll();this._state.dispose();this._state=null;this.callback=null;this._events=null;return this};return t.Part});n(function(t){t.Pattern=function(){var e=t.defaults(arguments,["callback","values","pattern"],t.Pattern);t.Loop.call(this,e);this._pattern=new t.CtrlPattern({values:e.values,type:e.pattern,index:e.index})};t.extend(t.Pattern,t.Loop);t.Pattern.defaults={pattern:t.CtrlPattern.Type.Up,callback:t.noOp,values:[]};t.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value);this._pattern.next()};Object.defineProperty(t.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}});Object.defineProperty(t.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}});Object.defineProperty(t.Pattern.prototype,"value",{get:function(){return this._pattern.value}});Object.defineProperty(t.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}});t.Pattern.prototype.dispose=function(){t.Loop.prototype.dispose.call(this);this._pattern.dispose();this._pattern=null};return t.Pattern});n(function(t){t.Sequence=function(){var e=t.defaults(arguments,["callback","events","subdivision"],t.Sequence);var n=e.events;delete e.events;t.Part.call(this,e);this._subdivision=this.toTicks(e.subdivision);if(t.isUndef(e.loopEnd)&&t.isDefined(n)){this._loopEnd=n.length*this._subdivision}this._loop=true;if(t.isDefined(n)){for(var i=0;i<n.length;i++){this.add(i,n[i])}}};t.extend(t.Sequence,t.Part);t.Sequence.defaults={subdivision:"4n"};Object.defineProperty(t.Sequence.prototype,"subdivision",{get:function(){return t.Ticks(this._subdivision).toSeconds()}});t.Sequence.prototype.at=function(e,n){if(t.isArray(n)){this.remove(e)}return t.Part.prototype.at.call(this,this._indexTime(e),n)};t.Sequence.prototype.add=function(e,n){if(n===null){return this}if(t.isArray(n)){var i=Math.round(this._subdivision/n.length);n=new t.Sequence(this._tick.bind(this),n,t.Ticks(i))}t.Part.prototype.add.call(this,this._indexTime(e),n);return this};t.Sequence.prototype.remove=function(e,n){t.Part.prototype.remove.call(this,this._indexTime(e),n);return this};t.Sequence.prototype._indexTime=function(e){if(e instanceof t.TransportTime){return e}else{return t.Ticks(e*this._subdivision+this.startOffset).toSeconds()}};t.Sequence.prototype.dispose=function(){t.Part.prototype.dispose.call(this);return this};return t.Sequence});n(function(t){t.PulseOscillator=function(){var e=t.defaults(arguments,["frequency","width"],t.Oscillator);t.Source.call(this,e);this.width=new t.Signal(e.width,t.Type.NormalRange);this._widthGate=new t.Gain;this._sawtooth=new t.Oscillator({frequency:e.frequency,detune:e.detune,type:"sawtooth",phase:e.phase});this.frequency=this._sawtooth.frequency;this.detune=this._sawtooth.detune;this._thresh=new t.WaveShaper(function(t){if(t<0){return-1}else{return 1}});this._sawtooth.chain(this._thresh,this.output);this.width.chain(this._widthGate,this._thresh);this._readOnly(["width","frequency","detune"])};t.extend(t.PulseOscillator,t.Source);t.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2};t.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t);this._sawtooth.start(t);this._widthGate.gain.setValueAtTime(1,t)};t.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t);this._sawtooth.stop(t);this._widthGate.gain.setValueAtTime(0,t)};t.PulseOscillator.prototype.restart=function(t){this._sawtooth.restart(t)};Object.defineProperty(t.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}});Object.defineProperty(t.PulseOscillator.prototype,"type",{get:function(){return"pulse"}});Object.defineProperty(t.PulseOscillator.prototype,"partials",{get:function(){return[]}});t.PulseOscillator.prototype.dispose=function(){t.Source.prototype.dispose.call(this);this._sawtooth.dispose();this._sawtooth=null;this._writable(["width","frequency","detune"]);this.width.dispose();this.width=null;this._widthGate.dispose();this._widthGate=null;this._thresh.dispose();this._thresh=null;this.frequency=null;this.detune=null;return this};return t.PulseOscillator});n(function(t){t.PWMOscillator=function(){var e=t.defaults(arguments,["frequency","modulationFrequency"],t.PWMOscillator);t.Source.call(this,e);this._pulse=new t.PulseOscillator(e.modulationFrequency);this._pulse._sawtooth.type="sine";this._modulator=new t.Oscillator({frequency:e.frequency,detune:e.detune,phase:e.phase});this._scale=new t.Multiply(2);this.frequency=this._modulator.frequency;this.detune=this._modulator.detune;this.modulationFrequency=this._pulse.frequency;this._modulator.chain(this._scale,this._pulse.width);this._pulse.connect(this.output);this._readOnly(["modulationFrequency","frequency","detune"])};t.extend(t.PWMOscillator,t.Source);t.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4};t.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t);this._modulator.start(t);this._pulse.start(t)};t.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t);this._modulator.stop(t);this._pulse.stop(t)};t.PWMOscillator.prototype.restart=function(t){this._modulator.restart(t);this._pulse.restart(t)};Object.defineProperty(t.PWMOscillator.prototype,"type",{get:function(){return"pwm"}});Object.defineProperty(t.PWMOscillator.prototype,"partials",{get:function(){return[]}});Object.defineProperty(t.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}});t.PWMOscillator.prototype.dispose=function(){t.Source.prototype.dispose.call(this);this._pulse.dispose();this._pulse=null;this._scale.dispose();this._scale=null;this._modulator.dispose();this._modulator=null;this._writable(["modulationFrequency","frequency","detune"]);this.frequency=null;this.detune=null;this.modulationFrequency=null;return this};return t.PWMOscillator});n(function(t){t.FMOscillator=function(){var e=t.defaults(arguments,["frequency","type","modulationType"],t.FMOscillator);t.Source.call(this,e);this._carrier=new t.Oscillator(e.frequency,e.type);this.frequency=new t.Signal(e.frequency,t.Type.Frequency);this.detune=this._carrier.detune;this.detune.value=e.detune;this.modulationIndex=new t.Multiply(e.modulationIndex);this.modulationIndex.units=t.Type.Positive;this._modulator=new t.Oscillator(e.frequency,e.modulationType);this.harmonicity=new t.Multiply(e.harmonicity);this.harmonicity.units=t.Type.Positive;this._modulationNode=new t.Gain(0);this.frequency.connect(this._carrier.frequency);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.frequency.chain(this.modulationIndex,this._modulationNode);this._modulator.connect(this._modulationNode.gain);this._modulationNode.connect(this._carrier.frequency);this._carrier.connect(this.output);this.detune.connect(this._modulator.detune);this.phase=e.phase;this._readOnly(["modulationIndex","frequency","detune","harmonicity"])};t.extend(t.FMOscillator,t.Source);t.FMOscillator.defaults={frequency:440,detune:0,phase:0,modulationIndex:2,modulationType:"square",harmonicity:1};t.FMOscillator.prototype._start=function(t){this._modulator.start(t);this._carrier.start(t)};t.FMOscillator.prototype._stop=function(t){this._modulator.stop(t);this._carrier.stop(t)};t.FMOscillator.prototype.restart=function(t){this._modulator.restart(t);this._carrier.restart(t)};Object.defineProperty(t.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}});Object.defineProperty(t.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}});Object.defineProperty(t.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t;this._modulator.phase=t}});Object.defineProperty(t.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}});t.FMOscillator.prototype.dispose=function(){t.Source.prototype.dispose.call(this);this._writable(["modulationIndex","frequency","detune","harmonicity"]);this.frequency.dispose();this.frequency=null;this.detune=null;this.harmonicity.dispose();this.harmonicity=null;this._carrier.dispose();this._carrier=null;this._modulator.dispose();this._modulator=null;this._modulationNode.dispose();this._modulationNode=null;this.modulationIndex.dispose();this.modulationIndex=null;return this};return t.FMOscillator});n(function(t){t.AMOscillator=function(){var e=t.defaults(arguments,["frequency","type","modulationType"],t.AMOscillator);t.Source.call(this,e);this._carrier=new t.Oscillator(e.frequency,e.type);this.frequency=this._carrier.frequency;this.detune=this._carrier.detune;this.detune.value=e.detune;this._modulator=new t.Oscillator(e.frequency,e.modulationType);this._modulationScale=new t.AudioToGain;this.harmonicity=new t.Multiply(e.harmonicity);this.harmonicity.units=t.Type.Positive;this._modulationNode=new t.Gain(0);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.detune.connect(this._modulator.detune);this._modulator.chain(this._modulationScale,this._modulationNode.gain);this._carrier.chain(this._modulationNode,this.output);this.phase=e.phase;this._readOnly(["frequency","detune","harmonicity"])};t.extend(t.AMOscillator,t.Oscillator);t.AMOscillator.defaults={frequency:440,detune:0,phase:0,modulationType:"square",harmonicity:1};t.AMOscillator.prototype._start=function(t){this._modulator.start(t);this._carrier.start(t)};t.AMOscillator.prototype._stop=function(t){this._modulator.stop(t);this._carrier.stop(t)};t.AMOscillator.prototype.restart=function(t){this._modulator.restart(t);this._carrier.restart(t)};Object.defineProperty(t.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}});Object.defineProperty(t.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}});Object.defineProperty(t.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t;this._modulator.phase=t}});Object.defineProperty(t.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}});t.AMOscillator.prototype.dispose=function(){t.Source.prototype.dispose.call(this);this._writable(["frequency","detune","harmonicity"]);this.frequency=null;this.detune=null;this.harmonicity.dispose();this.harmonicity=null;this._carrier.dispose();this._carrier=null;this._modulator.dispose();this._modulator=null;this._modulationNode.dispose();this._modulationNode=null;this._modulationScale.dispose();this._modulationScale=null;return this};return t.AMOscillator});n(function(t){t.FatOscillator=function(){var e=t.defaults(arguments,["frequency","type","spread"],t.FatOscillator);t.Source.call(this,e);this.frequency=new t.Signal(e.frequency,t.Type.Frequency);this.detune=new t.Signal(e.detune,t.Type.Cents);this._oscillators=[];this._spread=e.spread;this._type=e.type;this._phase=e.phase;this._partials=t.defaultArg(e.partials,[]);this.count=e.count;this._readOnly(["frequency","detune"])};t.extend(t.FatOscillator,t.Source);t.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth"};t.FatOscillator.prototype._start=function(t){t=this.toSeconds(t);this._forEach(function(e){e.start(t)})};t.FatOscillator.prototype._stop=function(t){t=this.toSeconds(t);this._forEach(function(e){e.stop(t)})};t.FatOscillator.prototype.restart=function(t){t=this.toSeconds(t);this._forEach(function(e){e.restart(t)})};t.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++){t.call(this,this._oscillators[e],e)}};Object.defineProperty(t.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t;this._forEach(function(e){e.type=t})}});Object.defineProperty(t.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){this._spread=t;if(this._oscillators.length>1){var e=-t/2;var n=t/(this._oscillators.length-1);this._forEach(function(t,i){t.detune.value=e+n*i})}}});Object.defineProperty(t.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(e){e=Math.max(e,1);if(this._oscillators.length!==e){this._forEach(function(t){t.dispose()});this._oscillators=[];for(var n=0;n<e;n++){var i=new t.Oscillator;if(this.type===t.Oscillator.Type.Custom){i.partials=this._partials}else{i.type=this._type}i.phase=this._phase;i.volume.value=-6-e*1.1;this.frequency.connect(i.frequency);this.detune.connect(i.detune);i.connect(this.output);this._oscillators[n]=i}this.spread=this._spread;if(this.state===t.State.Started){this._forEach(function(t){t.start()})}}}});Object.defineProperty(t.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=t;this._forEach(function(e){e.phase=t})}});Object.defineProperty(t.FatOscillator.prototype,"partials",{get:function(){return this._partials},set:function(e){this._partials=e;this._type=t.Oscillator.Type.Custom;this._forEach(function(t){t.partials=e})}});t.FatOscillator.prototype.dispose=function(){t.Source.prototype.dispose.call(this);this._writable(["frequency","detune"]);this.frequency.dispose();this.frequency=null;this.detune.dispose();this.detune=null;this._forEach(function(t){t.dispose()});this._oscillators=null;this._partials=null;return this};return t.FatOscillator});n(function(t){t.OmniOscillator=function(){var e=t.defaults(arguments,["frequency","type"],t.OmniOscillator);t.Source.call(this,e);this.frequency=new t.Signal(e.frequency,t.Type.Frequency);this.detune=new t.Signal(e.detune,t.Type.Cents);this._sourceType=undefined;this._oscillator=null;this.type=e.type;this._readOnly(["frequency","detune"]);this.set(e)};t.extend(t.OmniOscillator,t.Source);t.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var e={Pulse:"PulseOscillator",PWM:"PWMOscillator",Osc:"Oscillator",FM:"FMOscillator",AM:"AMOscillator",Fat:"FatOscillator"};t.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)};t.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)};t.OmniOscillator.prototype.restart=function(t){this._oscillator.restart(t)};Object.defineProperty(t.OmniOscillator.prototype,"type",{get:function(){var t="";if(this._sourceType===e.FM){t="fm"}else if(this._sourceType===e.AM){t="am"}else if(this._sourceType===e.Fat){t="fat"}return t+this._oscillator.type},set:function(t){if(t.substr(0,2)==="fm"){this._createNewOscillator(e.FM);this._oscillator.type=t.substr(2)}else if(t.substr(0,2)==="am"){this._createNewOscillator(e.AM);this._oscillator.type=t.substr(2)}else if(t.substr(0,3)==="fat"){this._createNewOscillator(e.Fat);this._oscillator.type=t.substr(3)}else if(t==="pwm"){this._createNewOscillator(e.PWM)}else if(t==="pulse"){this._createNewOscillator(e.Pulse)}else{this._createNewOscillator(e.Osc);this._oscillator.type=t}}});Object.defineProperty(t.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}});t.OmniOscillator.prototype.set=function(e,n){if(e==="type"){this.type=n}else if(t.isObject(e)&&e.hasOwnProperty("type")){this.type=e.type}t.prototype.set.apply(this,arguments);return this};t.OmniOscillator.prototype._createNewOscillator=function(e){if(e!==this._sourceType){this._sourceType=e;var n=t[e];var i=this.now();if(this._oscillator!==null){var r=this._oscillator;r.stop(i);this.context.setTimeout(function(){r.dispose();r=null},this.blockTime)}this._oscillator=new n;this.frequency.connect(this._oscillator.frequency);this.detune.connect(this._oscillator.detune);this._oscillator.connect(this.output);if(this.state===t.State.Started){this._oscillator.start(i)}}};Object.defineProperty(t.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}});Object.defineProperty(t.OmniOscillator.prototype,"width",{get:function(){if(this._sourceType===e.Pulse){return this._oscillator.width}}});Object.defineProperty(t.OmniOscillator.prototype,"count",{get:function(){if(this._sourceType===e.Fat){return this._oscillator.count}},set:function(t){if(this._sourceType===e.Fat){this._oscillator.count=t}}});Object.defineProperty(t.OmniOscillator.prototype,"spread",{get:function(){if(this._sourceType===e.Fat){return this._oscillator.spread}},set:function(t){if(this._sourceType===e.Fat){this._oscillator.spread=t}}});Object.defineProperty(t.OmniOscillator.prototype,"modulationType",{get:function(){if(this._sourceType===e.FM||this._sourceType===e.AM){return this._oscillator.modulationType}},set:function(t){if(this._sourceType===e.FM||this._sourceType===e.AM){this._oscillator.modulationType=t}}});Object.defineProperty(t.OmniOscillator.prototype,"modulationIndex",{get:function(){if(this._sourceType===e.FM){return this._oscillator.modulationIndex}}});Object.defineProperty(t.OmniOscillator.prototype,"harmonicity",{get:function(){if(this._sourceType===e.FM||this._sourceType===e.AM){return this._oscillator.harmonicity}}});Object.defineProperty(t.OmniOscillator.prototype,"modulationFrequency",{get:function(){if(this._sourceType===e.PWM){return this._oscillator.modulationFrequency}}});t.OmniOscillator.prototype.dispose=function(){t.Source.prototype.dispose.call(this);this._writable(["frequency","detune"]);this.detune.dispose();this.detune=null;this.frequency.dispose();this.frequency=null;this._oscillator.dispose();this._oscillator=null;this._sourceType=null;return this};return t.OmniOscillator});n(function(t){t.Instrument=function(e){e=t.defaultArg(e,t.Instrument.defaults);t.AudioNode.call(this);this._volume=this.output=new t.Volume(e.volume);this.volume=this._volume.volume;this._readOnly("volume");this._scheduledEvents=[]};t.extend(t.Instrument,t.AudioNode);t.Instrument.defaults={volume:0};t.Instrument.prototype.triggerAttack=t.noOp;t.Instrument.prototype.triggerRelease=t.noOp;t.Instrument.prototype.sync=function(){this._syncMethod("triggerAttack",1);this._syncMethod("triggerRelease",0);return this};t.Instrument.prototype._syncMethod=function(e,n){var i=this["_original_"+e]=this[e];this[e]=function(){var e=Array.prototype.slice.call(arguments);var r=e[n];var o=t.Transport.schedule(function(t){e[n]=t;i.apply(this,e)}.bind(this),r);this._scheduledEvents.push(o)}.bind(this)};t.Instrument.prototype.unsync=function(){this._scheduledEvents.forEach(function(e){t.Transport.clear(e)});this._scheduledEvents=[];if(this._original_triggerAttack){this.triggerAttack=this._original_triggerAttack;this.triggerRelease=this._original_triggerRelease}return this};t.Instrument.prototype.triggerAttackRelease=function(t,e,n,i){n=this.toSeconds(n);e=this.toSeconds(e);this.triggerAttack(t,n,i);this.triggerRelease(n+e);return this};t.Instrument.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._volume.dispose();this._volume=null;this._writable(["volume"]);this.volume=null;this.unsync();this._scheduledEvents=null;return this};return t.Instrument});n(function(t){t.Monophonic=function(e){e=t.defaultArg(e,t.Monophonic.defaults);t.Instrument.call(this,e);this.portamento=e.portamento};t.extend(t.Monophonic,t.Instrument);t.Monophonic.defaults={portamento:0};t.Monophonic.prototype.triggerAttack=function(t,e,n){e=this.toSeconds(e);this._triggerEnvelopeAttack(e,n);this.setNote(t,e);return this};t.Monophonic.prototype.triggerRelease=function(t){t=this.toSeconds(t);this._triggerEnvelopeRelease(t);return this};t.Monophonic.prototype._triggerEnvelopeAttack=function(){};t.Monophonic.prototype._triggerEnvelopeRelease=function(){};t.Monophonic.prototype.getLevelAtTime=function(t){t=this.toSeconds(t);return this.envelope.getValueAtTime(t)};t.Monophonic.prototype.setNote=function(t,e){e=this.toSeconds(e);if(this.portamento>0&&this.getLevelAtTime(e)>.05){var n=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(t,n,e)}else{this.frequency.setValueAtTime(t,e)}return this};return t.Monophonic});n(function(t){t.Synth=function(e){e=t.defaultArg(e,t.Synth.defaults);t.Monophonic.call(this,e);this.oscillator=new t.OmniOscillator(e.oscillator);this.frequency=this.oscillator.frequency;this.detune=this.oscillator.detune;this.envelope=new t.AmplitudeEnvelope(e.envelope);this.oscillator.chain(this.envelope,this.output);this._readOnly(["oscillator","frequency","detune","envelope"])};t.extend(t.Synth,t.Monophonic);t.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}};t.Synth.prototype._triggerEnvelopeAttack=function(t,e){this.envelope.triggerAttack(t,e);this.oscillator.start(t);if(this.envelope.sustain===0){this.oscillator.stop(t+this.envelope.attack+this.envelope.decay)}return this};t.Synth.prototype._triggerEnvelopeRelease=function(t){t=this.toSeconds(t);this.envelope.triggerRelease(t);this.oscillator.stop(t+this.envelope.release);return this};t.Synth.prototype.dispose=function(){t.Monophonic.prototype.dispose.call(this);this._writable(["oscillator","frequency","detune","envelope"]);this.oscillator.dispose();this.oscillator=null;this.envelope.dispose();this.envelope=null;this.frequency=null;this.detune=null;return this};return t.Synth});n(function(t){t.AMSynth=function(e){e=t.defaultArg(e,t.AMSynth.defaults);t.Monophonic.call(this,e);this._carrier=new t.Synth;this._carrier.volume.value=-10;this.oscillator=this._carrier.oscillator;this.envelope=this._carrier.envelope.set(e.envelope);this._modulator=new t.Synth;this._modulator.volume.value=-10;this.modulation=this._modulator.oscillator.set(e.modulation);this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope);this.frequency=new t.Signal(440,t.Type.Frequency);this.detune=new t.Signal(e.detune,t.Type.Cents);this.harmonicity=new t.Multiply(e.harmonicity);this.harmonicity.units=t.Type.Positive;this._modulationScale=new t.AudioToGain;this._modulationNode=new t.Gain;this.frequency.connect(this._carrier.frequency);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.detune.fan(this._carrier.detune,this._modulator.detune);this._modulator.chain(this._modulationScale,this._modulationNode.gain);this._carrier.chain(this._modulationNode,this.output);this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])};t.extend(t.AMSynth,t.Monophonic);t.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}};t.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){t=this.toSeconds(t);this._carrier._triggerEnvelopeAttack(t,e);this._modulator._triggerEnvelopeAttack(t);return this};t.AMSynth.prototype._triggerEnvelopeRelease=function(t){this._carrier._triggerEnvelopeRelease(t);this._modulator._triggerEnvelopeRelease(t);return this};t.AMSynth.prototype.dispose=function(){t.Monophonic.prototype.dispose.call(this);this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]);this._carrier.dispose();this._carrier=null;this._modulator.dispose();this._modulator=null;this.frequency.dispose();this.frequency=null;this.detune.dispose();this.detune=null;this.harmonicity.dispose();this.harmonicity=null;this._modulationScale.dispose();this._modulationScale=null;this._modulationNode.dispose();this._modulationNode=null;this.oscillator=null;this.envelope=null;this.modulationEnvelope=null;this.modulation=null;return this};return t.AMSynth});n(function(t){t.MonoSynth=function(e){e=t.defaultArg(e,t.MonoSynth.defaults);t.Monophonic.call(this,e);this.oscillator=new t.OmniOscillator(e.oscillator);this.frequency=this.oscillator.frequency;this.detune=this.oscillator.detune;this.filter=new t.Filter(e.filter);this.filterEnvelope=new t.FrequencyEnvelope(e.filterEnvelope);this.envelope=new t.AmplitudeEnvelope(e.envelope);this.oscillator.chain(this.filter,this.envelope,this.output);this.filterEnvelope.connect(this.filter.frequency);this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])};t.extend(t.MonoSynth,t.Monophonic);t.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}};t.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){t=this.toSeconds(t);this.envelope.triggerAttack(t,e);this.filterEnvelope.triggerAttack(t);this.oscillator.start(t);if(this.envelope.sustain===0){this.oscillator.stop(t+this.envelope.attack+this.envelope.decay)}return this};t.MonoSynth.prototype._triggerEnvelopeRelease=function(t){this.envelope.triggerRelease(t);this.filterEnvelope.triggerRelease(t);this.oscillator.stop(t+this.envelope.release);return this};t.MonoSynth.prototype.dispose=function(){t.Monophonic.prototype.dispose.call(this);this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]);this.oscillator.dispose();this.oscillator=null;this.envelope.dispose();this.envelope=null;this.filterEnvelope.dispose();this.filterEnvelope=null;this.filter.dispose();this.filter=null;this.frequency=null;this.detune=null;return this};return t.MonoSynth});n(function(t){t.DuoSynth=function(e){e=t.defaultArg(e,t.DuoSynth.defaults);t.Monophonic.call(this,e);this.voice0=new t.MonoSynth(e.voice0);this.voice0.volume.value=-10;this.voice1=new t.MonoSynth(e.voice1);this.voice1.volume.value=-10;this._vibrato=new t.LFO(e.vibratoRate,-50,50);this._vibrato.start();this.vibratoRate=this._vibrato.frequency;this._vibratoGain=new t.Gain(e.vibratoAmount,t.Type.Positive);this.vibratoAmount=this._vibratoGain.gain;this.frequency=new t.Signal(440,t.Type.Frequency);this.harmonicity=new t.Multiply(e.harmonicity);this.harmonicity.units=t.Type.Positive;this.frequency.connect(this.voice0.frequency);this.frequency.chain(this.harmonicity,this.voice1.frequency);this._vibrato.connect(this._vibratoGain);this._vibratoGain.fan(this.voice0.detune,this.voice1.detune);this.voice0.connect(this.output);this.voice1.connect(this.output);this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])};t.extend(t.DuoSynth,t.Monophonic);t.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}};t.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){t=this.toSeconds(t);this.voice0._triggerEnvelopeAttack(t,e);this.voice1._triggerEnvelopeAttack(t,e);return this};t.DuoSynth.prototype._triggerEnvelopeRelease=function(t){this.voice0._triggerEnvelopeRelease(t);this.voice1._triggerEnvelopeRelease(t);return this};t.DuoSynth.prototype.getLevelAtTime=function(t){return(this.voice0.getLevelAtTime(t)+this.voice1.getLevelAtTime(t))/2};t.DuoSynth.prototype.dispose=function(){t.Monophonic.prototype.dispose.call(this);this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]);this.voice0.dispose();this.voice0=null;this.voice1.dispose();this.voice1=null;this.frequency.dispose();this.frequency=null;this._vibratoGain.dispose();this._vibratoGain=null;this._vibrato=null;this.harmonicity.dispose();this.harmonicity=null;this.vibratoAmount.dispose();this.vibratoAmount=null;this.vibratoRate=null;return this};return t.DuoSynth});n(function(t){t.FMSynth=function(e){e=t.defaultArg(e,t.FMSynth.defaults);t.Monophonic.call(this,e);this._carrier=new t.Synth(e.carrier);this._carrier.volume.value=-10;this.oscillator=this._carrier.oscillator;this.envelope=this._carrier.envelope.set(e.envelope);this._modulator=new t.Synth(e.modulator);this._modulator.volume.value=-10;this.modulation=this._modulator.oscillator.set(e.modulation);this.modulationEnvelope=this._modulator.envelope.set(e.modulationEnvelope);this.frequency=new t.Signal(440,t.Type.Frequency);this.detune=new t.Signal(e.detune,t.Type.Cents);this.harmonicity=new t.Multiply(e.harmonicity);this.harmonicity.units=t.Type.Positive;this.modulationIndex=new t.Multiply(e.modulationIndex);this.modulationIndex.units=t.Type.Positive;this._modulationNode=new t.Gain(0);this.frequency.connect(this._carrier.frequency);this.frequency.chain(this.harmonicity,this._modulator.frequency);this.frequency.chain(this.modulationIndex,this._modulationNode);this.detune.fan(this._carrier.detune,this._modulator.detune);this._modulator.connect(this._modulationNode.gain);this._modulationNode.connect(this._carrier.frequency);this._carrier.connect(this.output);this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])};t.extend(t.FMSynth,t.Monophonic);t.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}};t.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){t=this.toSeconds(t);this._carrier._triggerEnvelopeAttack(t,e);this._modulator._triggerEnvelopeAttack(t);return this};t.FMSynth.prototype._triggerEnvelopeRelease=function(t){t=this.toSeconds(t);this._carrier._triggerEnvelopeRelease(t);this._modulator._triggerEnvelopeRelease(t);return this};t.FMSynth.prototype.dispose=function(){t.Monophonic.prototype.dispose.call(this);this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]);this._carrier.dispose();this._carrier=null;this._modulator.dispose();this._modulator=null;this.frequency.dispose();this.frequency=null;this.detune.dispose();this.detune=null;this.modulationIndex.dispose();this.modulationIndex=null;this.harmonicity.dispose();this.harmonicity=null;this._modulationNode.dispose();this._modulationNode=null;this.oscillator=null;this.envelope=null;this.modulationEnvelope=null;this.modulation=null;return this};return t.FMSynth});n(function(t){t.MembraneSynth=function(e){e=t.defaultArg(e,t.MembraneSynth.defaults);t.Instrument.call(this,e);this.oscillator=new t.OmniOscillator(e.oscillator);this.envelope=new t.AmplitudeEnvelope(e.envelope);this.octaves=e.octaves;this.pitchDecay=e.pitchDecay;this.oscillator.chain(this.envelope,this.output);this._readOnly(["oscillator","envelope"])};t.extend(t.MembraneSynth,t.Instrument);t.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}};t.MembraneSynth.prototype.triggerAttack=function(t,e,n){e=this.toSeconds(e);t=this.toFrequency(t);var i=t*this.octaves;this.oscillator.frequency.setValueAtTime(i,e);this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay));this.envelope.triggerAttack(e,n);this.oscillator.start(e);return this};t.MembraneSynth.prototype.triggerRelease=function(t){t=this.toSeconds(t);this.envelope.triggerRelease(t);this.oscillator.stop(t+this.envelope.release);return this};t.MembraneSynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);this._writable(["oscillator","envelope"]);this.oscillator.dispose();this.oscillator=null;this.envelope.dispose();this.envelope=null;return this};return t.MembraneSynth});n(function(t){var e=[1,1.483,1.932,2.546,2.63,3.897];t.MetalSynth=function(n){n=t.defaultArg(n,t.MetalSynth.defaults);t.Instrument.call(this,n);this.frequency=new t.Signal(n.frequency,t.Type.Frequency);this._oscillators=[];this._freqMultipliers=[];this._amplitue=new t.Gain(0).connect(this.output);this._highpass=new t.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue);this._octaves=n.octaves;this._filterFreqScaler=new t.Scale(n.resonance,7e3);this.envelope=new t.Envelope({attack:n.envelope.attack,attackCurve:"linear",decay:n.envelope.decay,sustain:0,release:n.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency);this.envelope.connect(this._amplitue.gain);for(var i=0;i<e.length;i++){var r=new t.FMOscillator({type:"square",modulationType:"square",harmonicity:n.harmonicity,modulationIndex:n.modulationIndex});r.connect(this._highpass);this._oscillators[i]=r;var o=new t.Multiply(e[i]);this._freqMultipliers[i]=o;this.frequency.chain(o,r.frequency)}this.octaves=n.octaves};t.extend(t.MetalSynth,t.Instrument);t.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5};t.MetalSynth.prototype.triggerAttack=function(e,n){e=this.toSeconds(e);n=t.defaultArg(n,1);this.envelope.triggerAttack(e,n);this._oscillators.forEach(function(t){t.start(e)});if(this.envelope.sustain===0){this._oscillators.forEach(function(t){t.stop(e+this.envelope.attack+this.envelope.decay)}.bind(this))}return this};t.MetalSynth.prototype.triggerRelease=function(t){t=this.toSeconds(t);this.envelope.triggerRelease(t);this._oscillators.forEach(function(e){e.stop(t+this.envelope.release)}.bind(this));return this};t.MetalSynth.prototype.sync=function(){this._syncMethod("triggerAttack",0);this._syncMethod("triggerRelease",0);return this};t.MetalSynth.prototype.triggerAttackRelease=function(t,e,n){e=this.toSeconds(e);t=this.toSeconds(t);this.triggerAttack(e,n);this.triggerRelease(e+t);return this};Object.defineProperty(t.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++){this._oscillators[e].modulationIndex.value=t}}});Object.defineProperty(t.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++){this._oscillators[e].harmonicity.value=t}}});Object.defineProperty(t.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t;this.octaves=this._octaves}});Object.defineProperty(t.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}});t.MetalSynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this._oscillators.length;e++){this._oscillators[e].dispose();this._freqMultipliers[e].dispose()}this._oscillators=null;this._freqMultipliers=null;this.frequency.dispose();this.frequency=null;this._filterFreqScaler.dispose();this._filterFreqScaler=null;this._amplitue.dispose();this._amplitue=null;this.envelope.dispose();this.envelope=null;this._highpass.dispose();this._highpass=null};return t.MetalSynth});n(function(t){t.NoiseSynth=function(e){e=t.defaultArg(e,t.NoiseSynth.defaults);t.Instrument.call(this,e);this.noise=new t.Noise;this.envelope=new t.AmplitudeEnvelope(e.envelope);this.noise.chain(this.envelope,this.output);this._readOnly(["noise","envelope"])};t.extend(t.NoiseSynth,t.Instrument);t.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}};t.NoiseSynth.prototype.triggerAttack=function(t,e){this.envelope.triggerAttack(t,e);this.noise.start(t);if(this.envelope.sustain===0){this.noise.stop(t=this.envelope.attack+this.envelope.decay)}return this};t.NoiseSynth.prototype.triggerRelease=function(t){this.envelope.triggerRelease(t);this.noise.stop(t+this.envelope.release);return this};t.NoiseSynth.prototype.sync=function(){this._syncMethod("triggerAttack",0);this._syncMethod("triggerRelease",0);return this};t.NoiseSynth.prototype.triggerAttackRelease=function(t,e,n){e=this.toSeconds(e);t=this.toSeconds(t);this.triggerAttack(e,n);this.triggerRelease(e+t);return this};t.NoiseSynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);this._writable(["noise","envelope"]);this.noise.dispose();this.noise=null;this.envelope.dispose();this.envelope=null;return this};return t.NoiseSynth});n(function(t){t.PluckSynth=function(e){e=t.defaultArg(e,t.PluckSynth.defaults);t.Instrument.call(this,e);this._noise=new t.Noise("pink");this.attackNoise=e.attackNoise;this._lfcf=new t.LowpassCombFilter({resonance:e.resonance,dampening:e.dampening});this.resonance=this._lfcf.resonance;this.dampening=this._lfcf.dampening;this._noise.connect(this._lfcf);this._lfcf.connect(this.output);this._readOnly(["resonance","dampening"])};t.extend(t.PluckSynth,t.Instrument);t.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7};t.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t);e=this.toSeconds(e);var n=1/t;this._lfcf.delayTime.setValueAtTime(n,e);this._noise.start(e);this._noise.stop(e+n*this.attackNoise);return this};t.PluckSynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);this._noise.dispose();this._lfcf.dispose();this._noise=null;this._lfcf=null;this._writable(["resonance","dampening"]);this.dampening=null;this.resonance=null;return this};return t.PluckSynth});n(function(t){t.PolySynth=function(){var e=t.defaults(arguments,["polyphony","voice"],t.PolySynth);t.Instrument.call(this,e);e=t.defaultArg(e,t.Instrument.defaults);e.polyphony=Math.min(t.PolySynth.MAX_POLYPHONY,e.polyphony);this.voices=new Array(e.polyphony);this._triggers=new Array(e.polyphony);this.detune=new t.Signal(e.detune,t.Type.Cents);this._readOnly("detune");for(var n=0;n<e.polyphony;n++){var i=new e.voice(arguments[2],arguments[3]);if(!(i instanceof t.Monophonic)){throw new Error("Synth constructor must be instance of Tone.Monophonic")}this.voices[n]=i;i.connect(this.output);if(i.hasOwnProperty("detune")){this.detune.connect(i.detune)}this._triggers[n]={release:-1,note:null,voice:i}}};t.extend(t.PolySynth,t.Instrument);t.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:t.Synth};t.PolySynth.prototype.triggerAttack=function(t,e,n){if(!Array.isArray(t)){t=[t]}e=this.toSeconds(e);for(var i=0;i<t.length;i++){var r=t[i];var o=this._triggers[0];for(var s=1;s<this._triggers.length;s++){if(this._triggers[s].release<o.release){o=this._triggers[s]}}o.release=Infinity;o.note=JSON.stringify(r);o.voice.triggerAttack(r,e,n)}return this};t.PolySynth.prototype.triggerAttackRelease=function(e,n,i,r){i=this.toSeconds(i);this.triggerAttack(e,i,r);if(t.isArray(n)&&t.isArray(e)){for(var o=0;o<e.length;o++){var s=n[Math.min(o,n.length-1)];this.triggerRelease(e[o],i+this.toSeconds(s))}}else{this.triggerRelease(e,i+this.toSeconds(n))}return this};t.PolySynth.prototype.triggerRelease=function(t,e){if(!Array.isArray(t)){t=[t]}e=this.toSeconds(e);for(var n=0;n<t.length;n++){var i=JSON.stringify(t[n]);for(var r=0;r<this._triggers.length;r++){var o=this._triggers[r];if(o.note===i&&o.release>e){o.voice.triggerRelease(e);o.release=e}}}return this};t.PolySynth.prototype.sync=function(){this._syncMethod("triggerAttack",1);this._syncMethod("triggerRelease",1);return this};t.PolySynth.prototype.set=function(t,e,n){for(var i=0;i<this.voices.length;i++){this.voices[i].set(t,e,n)}return this};t.PolySynth.prototype.get=function(t){return this.voices[0].get(t)};t.PolySynth.prototype.releaseAll=function(t){t=this.toSeconds(t);for(var e=0;e<this._triggers.length;e++){var n=this._triggers[e];if(n.release>t){n.release=t;n.voice.triggerRelease(t)}}return this};t.PolySynth.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);for(var e=0;e<this.voices.length;e++){this.voices[e].dispose();this.voices[e]=null}this._writable("detune");this.detune.dispose();this.detune=null;this.voices=null;this._triggers=null;return this};t.PolySynth.MAX_POLYPHONY=20;return t.PolySynth});n(function(t){t.Sampler=function(e){var n=Array.prototype.slice.call(arguments);n.shift();var i=t.defaults(n,["onload","baseUrl"],t.Sampler);t.Instrument.call(this,i);var r={};for(var o in e){if(t.isNote(o)){var s=t.Frequency(o).toMidi();r[s]=e[o]}else if(!isNaN(parseFloat(o))){r[o]=e[o]}else{throw new Error("Tone.Sampler: url keys must be the note's pitch")}}this._buffers=new t.Buffers(r,i.onload,i.baseUrl);this._activeSources={};this.attack=i.attack;this.release=i.release};t.extend(t.Sampler,t.Instrument);t.Sampler.defaults={attack:0,release:.1,onload:t.noOp,baseUrl:""};t.Sampler.prototype._findClosest=function(t){var e=96;var n=0;while(n<e){if(this._buffers.has(t+n)){return-n}else if(this._buffers.has(t-n)){return n}n++}return null};t.Sampler.prototype.triggerAttack=function(e,n,i){var r=t.Frequency(e).toMidi();var o=this._findClosest(r);if(o!==null){var s=r-o;var a=this._buffers.get(s);var u=new t.BufferSource({buffer:a,playbackRate:t.intervalToFrequencyRatio(o),fadeIn:this.attack,fadeOut:this.release,curve:"exponential"}).connect(this.output);u.start(n,0,a.duration,i);if(!t.isArray(this._activeSources[r])){this._activeSources[r]=[]}this._activeSources[r].push({note:r,source:u})}return this};t.Sampler.prototype.triggerRelease=function(e,n){var i=t.Frequency(e).toMidi();if(this._activeSources[i]&&this._activeSources[i].length){var r=this._activeSources[i].shift().source;n=this.toSeconds(n);r.stop(n+this.release,this.release)}return this};t.Sampler.prototype.releaseAll=function(t){t=this.toSeconds(t);for(var e in this._activeSources){var n=this._activeSources[e];while(n.length){var i=n.shift().source;i.stop(t+this.release,this.release)}}return this};t.Sampler.prototype.sync=function(){this._syncMethod("triggerAttack",1);this._syncMethod("triggerRelease",1);return this};t.Sampler.prototype.triggerAttackRelease=function(t,e,n,i){n=this.toSeconds(n);e=this.toSeconds(e);this.triggerAttack(t,n,i);this.triggerRelease(t,n+e);return this};t.Sampler.prototype.add=function(e,n,i){if(t.isNote(e)){var r=t.Frequency(e).toMidi();this._buffers.add(r,n,i)}else if(!isNaN(parseFloat(e))){this._buffers.add(e,n,i)}else{throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+e)}};Object.defineProperty(t.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}});t.Sampler.prototype.dispose=function(){t.Instrument.prototype.dispose.call(this);this._buffers.dispose();this._buffers=null;for(var e in this._activeSources){this._activeSources[e].forEach(function(t){t.source.dispose()})}this._activeSources=null;return this};return t.Sampler});n(function(t){if(t.supported){if(!OscillatorNode.prototype.setPeriodicWave){OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable}if(!AudioContext.prototype.createPeriodicWave){AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable}}});n(function(t){t.GainToAudio=function(){t.SignalBase.call(this);this._norm=this.input=this.output=new t.WaveShaper(function(t){return Math.abs(t)*2-1})};t.extend(t.GainToAudio,t.SignalBase);t.GainToAudio.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._norm.dispose();this._norm=null;return this};return t.GainToAudio});n(function(t){t.Normalize=function(e,n){t.SignalBase.call(this);this._inputMin=t.defaultArg(e,0);this._inputMax=t.defaultArg(n,1);this._sub=this.input=new t.Add(0);this._div=this.output=new t.Multiply(1);this._sub.connect(this._div);this._setRange()};t.extend(t.Normalize,t.SignalBase);Object.defineProperty(t.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t;this._setRange()}});Object.defineProperty(t.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t;this._setRange()}});t.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin;this._div.value=1/(this._inputMax-this._inputMin)};t.Normalize.prototype.dispose=function(){t.SignalBase.prototype.dispose.call(this);this._sub.dispose();this._sub=null;this._div.dispose();this._div=null;return this};return t.Normalize});n(function(t){t.TransportTimelineSignal=function(){t.Signal.apply(this,arguments);this.output=this._outputSig=new t.Signal(this._initialValue);this._lastVal=this.value;this._synced=t.Transport.scheduleRepeat(this._onTick.bind(this),"1i");this._bindAnchorValue=this._anchorValue.bind(this);t.Transport.on("start stop pause",this._bindAnchorValue);this._events.memory=Infinity};t.extend(t.TransportTimelineSignal,t.Signal);t.TransportTimelineSignal.prototype._onTick=function(e){var n=this.getValueAtTime(t.Transport.seconds);if(this._lastVal!==n){this._lastVal=n;this._outputSig.linearRampToValueAtTime(n,e)}};t.TransportTimelineSignal.prototype._anchorValue=function(e){var n=this.getValueAtTime(t.Transport.seconds);this._lastVal=n;this._outputSig.cancelScheduledValues(e);this._outputSig.setValueAtTime(n,e);return this};t.TransportTimelineSignal.prototype.getValueAtTime=function(e){e=t.TransportTime(e);return t.Signal.prototype.getValueAtTime.call(this,e)};t.TransportTimelineSignal.prototype.setValueAtTime=function(e,n){n=t.TransportTime(n);t.Signal.prototype.setValueAtTime.call(this,e,n);return this};t.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(e,n){n=t.TransportTime(n);t.Signal.prototype.linearRampToValueAtTime.call(this,e,n);return this};t.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){n=t.TransportTime(n);t.Signal.prototype.exponentialRampToValueAtTime.call(this,e,n);return this};t.TransportTimelineSignal.prototype.setTargetAtTime=function(e,n,i){n=t.TransportTime(n);t.Signal.prototype.setTargetAtTime.call(this,e,n,i);return this};t.TransportTimelineSignal.prototype.cancelScheduledValues=function(e){e=t.TransportTime(e);t.Signal.prototype.cancelScheduledValues.call(this,e);return this};t.TransportTimelineSignal.prototype.setValueCurveAtTime=function(e,n,i,r){n=t.TransportTime(n);i=t.TransportTime(i);t.Signal.prototype.setValueCurveAtTime.call(this,e,n,i,r);return this};t.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(e){return t.Signal.prototype.cancelAndHoldAtTime.call(this,t.TransportTime(e))};t.TransportTimelineSignal.prototype.dispose=function(){t.Transport.clear(this._synced);t.Transport.off("start stop pause",this._syncedCallback);this._events.cancel(0);t.Signal.prototype.dispose.call(this);this._outputSig.dispose();this._outputSig=null};return t.TransportTimelineSignal});n(function(t){t.GrainPlayer=function(){var e=t.defaults(arguments,["url","onload"],t.GrainPlayer);t.Source.call(this,e);this.buffer=new t.Buffer(e.url,e.onload);this._clock=new t.Clock(this._tick.bind(this),e.grainSize);this._loopStart=0;this._loopEnd=0;this._activeSources=[];this._playbackRate=e.playbackRate;this._grainSize=e.grainSize;this._overlap=e.overlap;this.detune=e.detune;this.overlap=e.overlap;this.loop=e.loop;this.playbackRate=e.playbackRate;this.grainSize=e.grainSize;this.loopStart=e.loopStart;this.loopEnd=e.loopEnd;this.reverse=e.reverse;this._clock.on("stop",this._onstop.bind(this))};t.extend(t.GrainPlayer,t.Source);t.GrainPlayer.defaults={onload:t.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:false,loopStart:0,loopEnd:0,reverse:false};t.GrainPlayer.prototype._start=function(e,n,i){n=t.defaultArg(n,0);n=this.toSeconds(n);e=this.toSeconds(e);this._offset=n;this._clock.start(e);if(i){this.stop(e+this.toSeconds(i))}};t.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)};t.GrainPlayer.prototype._onstop=function(t){this._activeSources.forEach(function(e){e.stop(t,0)})};t.GrainPlayer.prototype._tick=function(e){var n=this._offset<this._overlap?0:this._overlap;var i=new t.BufferSource({buffer:this.buffer,fadeIn:n,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:t.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);i.start(e,this._offset);this._offset+=this.grainSize;i.stop(e+this.grainSize);this._activeSources.push(i);i.onended=function(){var t=this._activeSources.indexOf(i);if(t!==-1){this._activeSources.splice(t,1)}}.bind(this)};t.GrainPlayer.prototype.seek=function(t,e){this._offset=this.toSeconds(t);this._tick(this.toSeconds(e));return this};Object.defineProperty(t.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;this.grainSize=this._grainSize}});Object.defineProperty(t.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}});Object.defineProperty(t.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}});Object.defineProperty(t.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}});Object.defineProperty(t.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t);this._clock.frequency.value=this._playbackRate/this._grainSize}});Object.defineProperty(t.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}});t.GrainPlayer.prototype.dispose=function(){t.Source.prototype.dispose.call(this);this.buffer.dispose();this.buffer=null;this._clock.dispose();this._clock=null;this._activeSources.forEach(function(t){t.dispose()});this._activeSources=null;return this};return t.GrainPlayer});n(function(t){t.Player=function(e){var n;if(e instanceof t.Buffer&&e.loaded){e=e.get();n=t.Player.defaults}else{n=t.defaults(arguments,["url","onload"],t.Player)}t.Source.call(this,n);this.autostart=n.autostart;this._buffer=new t.Buffer({url:n.url,onload:this._onload.bind(this,n.onload),reverse:n.reverse});if(e instanceof AudioBuffer){this._buffer.set(e)}this._loop=n.loop;this._loopStart=n.loopStart;this._loopEnd=n.loopEnd;this._playbackRate=n.playbackRate;this._activeSources=[];this._elapsedTime=new t.TickSource(n.playbackRate);this.fadeIn=n.fadeIn;this.fadeOut=n.fadeOut};t.extend(t.Player,t.Source);t.Player.defaults={onload:t.noOp,playbackRate:1,loop:false,autostart:false,loopStart:0,loopEnd:0,retrigger:false,reverse:false,fadeIn:0,fadeOut:0};t.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))};t.Player.prototype._onload=function(e){e=t.defaultArg(e,t.noOp);e(this);if(this.autostart){this.start()}};t.Player.prototype._onSourceEnd=function(t){var e=this._activeSources.indexOf(t);this._activeSources.splice(e,1)};t.Player.prototype._start=function(e,n,i){if(this._loop){n=t.defaultArg(n,this._loopStart)}else{n=t.defaultArg(n,0)}n=this.toSeconds(n);var r=t.defaultArg(i,Math.max(this._buffer.duration-n,0));r=this.toSeconds(r);e=this.toSeconds(e);this._elapsedTime.start(e,n);var o=new t.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output);if(!this._loop&&!this._synced){this._state.setStateAtTime(t.State.Stopped,e+r/this._playbackRate)}this._activeSources.push(o);if(this._loop&&t.isUndef(i)){o.start(e,n)}else{o.start(e,n,r)}return this};t.Player.prototype._stop=function(t){t=this.toSeconds(t);this._elapsedTime.stop(t);this._activeSources.forEach(function(e){e.stop(t)});return this};t.Player.prototype.restart=function(t,e,n){this._stop(t);this._start(t,e,n);return this};t.Player.prototype.seek=function(e,n){n=this.toSeconds(n);if(this._state.getValueAtTime(n)===t.State.Started){e=this.toSeconds(e);this._stop(n);this._start(n,e)}return this};t.Player.prototype.setLoopPoints=function(t,e){this.loopStart=t;this.loopEnd=e;return this};Object.defineProperty(t.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t;this._activeSources.forEach(function(e){e.loopStart=t})}});Object.defineProperty(t.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t;this._activeSources.forEach(function(e){e.loopEnd=t})}});Object.defineProperty(t.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}});Object.defineProperty(t.Player.prototype,"loop",{get:function(){return this._loop},set:function(e){if(this._loop===e){return}this._loop=e;var n=this.now();if(!e){this._stopAtNextIteration(n)}else{var i=this._state.getNextState(t.State.Stopped,n);if(i){this._activeSources.forEach(function(t){t.loop=e});this._state.cancel(i.time);this._elapsedTime.cancel(i.time)}}}});t.Player.prototype._stopAtNextIteration=function(e){if(this._state.getValueAtTime(e)===t.State.Started){var n=this._state.getNextState(t.State.Stopped,e);var i=this._elapsedTime.getTicksAtTime(e);var r=Math.max(Math.ceil(i/this.buffer.duration),1);var o=this._elapsedTime.getTimeOfTick(r*this.buffer.duration,n?n.time-this.sampleTime:Infinity);this.stop(o)}};Object.defineProperty(t.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;var e=this.now();this._elapsedTime.frequency.setValueAtTime(t,e);if(!this._loop){this._stopAtNextIteration(e)}this._activeSources.forEach(function(n){n.playbackRate.setValueAtTime(t,e)})}});Object.defineProperty(t.Player.prototype,"position",{get:function(){var e=this.now();if(this._state.getValueAtTime(e)===t.State.Started&&this.loaded){var n=this.buffer.duration;var i=this._elapsedTime.getTicksAtTime(e);return i%n}else{return 0}}});Object.defineProperty(t.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}});Object.defineProperty(t.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}});t.Player.prototype.dispose=function(){this._activeSources.forEach(function(t){t.dispose()});this._activeSources=null;t.Source.prototype.dispose.call(this);this._buffer.dispose();this._buffer=null;this._elapsedTime.dispose();this._elapsedTime=null;return this};return t.Player});n(function(t){t.Players=function(e){var n=Array.prototype.slice.call(arguments);n.shift();var i=t.defaults(n,["onload"],t.Players);t.call(this);this._volume=this.output=new t.Volume(i.volume);this.volume=this._volume.volume;this._readOnly("volume");this._volume.output.output.channelCount=2;this._volume.output.output.channelCountMode="explicit";this.mute=i.mute;this._players={};this._loadingCount=0;this._fadeIn=i.fadeIn;this._fadeOut=i.fadeOut;for(var r in e){this._loadingCount++;this.add(r,e[r],this._bufferLoaded.bind(this,i.onload))}};t.extend(t.Players,t.AudioNode);t.Players.defaults={volume:0,mute:false,onload:t.noOp,fadeIn:0,fadeOut:0};t.Players.prototype._bufferLoaded=function(t){this._loadingCount--;if(this._loadingCount===0&&t){t(this)}};Object.defineProperty(t.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}});Object.defineProperty(t.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=t;this._forEach(function(e){e.fadeIn=t})}});Object.defineProperty(t.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=t;this._forEach(function(e){e.fadeOut=t})}});Object.defineProperty(t.Players.prototype,"state",{get:function(){var e=false;this._forEach(function(n){e=e||n.state===t.State.Started});return e?t.State.Started:t.State.Stopped}});t.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)};t.Players.prototype.get=function(t){if(this.has(t)){return this._players[t]}else{throw new Error("Tone.Players: no player named "+t)}};t.Players.prototype._forEach=function(t){for(var e in this._players){t(this._players[e],e)}return this};Object.defineProperty(t.Players.prototype,"loaded",{get:function(){var t=true;this._forEach(function(e){t=t&&e.loaded});return t}});t.Players.prototype.add=function(e,n,i){this._players[e]=new t.Player(n,i).connect(this.output);this._players[e].fadeIn=this._fadeIn;this._players[e].fadeOut=this._fadeOut;return this};t.Players.prototype.stopAll=function(t){this._forEach(function(e){e.stop(t)})};t.Players.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this._volume.dispose();this._volume=null;this._writable("volume");this.volume=null;this.output=null;this._forEach(function(t){t.dispose()});this._players=null;return this};return t.Players});n(function(t){t.UserMedia=function(){var e=t.defaults(arguments,["volume"],t.UserMedia);t.AudioNode.call(this);this._mediaStream=null;this._stream=null;this._device=null;this._volume=this.output=new t.Volume(e.volume);this.volume=this._volume.volume;this._readOnly("volume");this.mute=e.mute};t.extend(t.UserMedia,t.AudioNode);t.UserMedia.defaults={volume:0,mute:false};t.UserMedia.prototype.open=function(e){return t.UserMedia.enumerateDevices().then(function(n){var i;if(t.isNumber(e)){i=n[e]}else{i=n.find(function(t){return t.label===e||t.deviceId===e});if(!i&&n.length>0){i=n[0]}else if(!i&&t.isDefined(e)){throw new Error("Tone.UserMedia: no matching device: "+e)}}this._device=i;var r={audio:{echoCancellation:false,sampleRate:this.context.sampleRate}};if(i){r.audio.deviceId=i.deviceId}return navigator.mediaDevices.getUserMedia(r).then(function(t){if(!this._stream){this._stream=t;this._mediaStream=this.context.createMediaStreamSource(t);this._mediaStream.connect(this.output)}return this}.bind(this))}.bind(this))};t.UserMedia.prototype.close=function(){if(this._stream){this._stream.getAudioTracks().forEach(function(t){t.stop()});this._stream=null;this._mediaStream.disconnect();this._mediaStream=null}this._device=null;return this};t.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then(function(t){return t.filter(function(t){return t.kind==="audioinput"})})};Object.defineProperty(t.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?t.State.Started:t.State.Stopped}});Object.defineProperty(t.UserMedia.prototype,"deviceId",{get:function(){if(this._device){return this._device.deviceId}}});Object.defineProperty(t.UserMedia.prototype,"groupId",{get:function(){if(this._device){return this._device.groupId}}});Object.defineProperty(t.UserMedia.prototype,"label",{get:function(){if(this._device){return this._device.label}}});Object.defineProperty(t.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}});t.UserMedia.prototype.dispose=function(){t.AudioNode.prototype.dispose.call(this);this.close();this._writable("volume");this._volume.dispose();this._volume=null;this.volume=null;return this};Object.defineProperty(t.UserMedia,"supported",{get:function(){return t.isDefined(navigator.mediaDevices)&&t.isFunction(navigator.mediaDevices.getUserMedia)}});return t.UserMedia});n(function(t){t.Midi=function(e,n){if(this instanceof t.Midi){t.Frequency.call(this,e,n)}else{return new t.Midi(e,n)}};t.extend(t.Midi,t.Frequency);t.Midi.prototype._defaultUnits="midi";t.Midi.prototype._frequencyToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._frequencyToUnits.call(this,e))};t.Midi.prototype._ticksToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._ticksToUnits.call(this,e))};t.Midi.prototype._beatsToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._beatsToUnits.call(this,e))};t.Midi.prototype._secondsToUnits=function(e){return t.Frequency.ftom(t.Frequency.prototype._secondsToUnits.call(this,e))};t.Midi.prototype.toMidi=function(){return this.valueOf()};t.Midi.prototype.toFrequency=function(){return t.Frequency.mtof(this.toMidi())};t.Midi.prototype.transpose=function(t){return new this.constructor(this.toMidi()+t)};return t.Midi});return t})},"./node_modules/webpack/buildin/global.js":function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(t){if(typeof window==="object")n=window}t.exports=n},"./node_modules/webpack/buildin/module.js":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];if(!t.children)t.children=[];Object.defineProperty(t,"loaded",{enumerable:true,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:true,get:function(){return t.i}});t.webpackPolyfill=1}return t}},"./src/demo/App.css":function(t,e){},"./src/demo/App.js":function(t,e,n){"use strict";var i=n("./node_modules/react/index.js");var r=n.n(i);var o=n("./src/demo/components/InteractivePiano.js");var s=n("./src/demo/components/MadeWithLoveTag.js");var a=n("./src/demo/App.css");var u=n.n(a);var l=function t(){return r.a.createElement("div",{className:"app__fullscreen-container"},r.a.createElement("div",{className:"app__body"},r.a.createElement(o["a"],null)),r.a.createElement("div",{className:"app__made-with-love-tag"},r.a.createElement(s["a"],{className:"app__made-with-love-tag",author:"lillydinhle",link:"https://github.com/lillydinhle"})))};e["a"]=l},"./src/demo/components/InteractivePiano.css":function(t,e){},"./src/demo/components/InteractivePiano.js":function(t,e,n){"use strict";e["a"]=S;var i=n("./node_modules/react/index.js");var r=n.n(i);var o=n("./node_modules/lodash/lodash.js");var s=n.n(o);var a=n("./node_modules/tone/build/Tone.js");var u=n.n(a);var l=n("./src/lib/index.js");var c=n("./src/demo/components/InteractivePiano.css");var h=n.n(c);var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function p(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function d(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function y(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function _(t,e){return Object(o["difference"])(t,e)}function v(t,e){return Object(o["difference"])(e,t)}var m=function(t){y(e,t);function e(t){p(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.synth=new u.a.PolySynth(4,u.a.Synth).toMaster();return n}f(e,[{key:"componentDidMount",value:function t(){this.startPlayingNotes(this.props.notes)}},{key:"componentDidUpdate",value:function t(e){var n=this.props.notes;var i=e.notes;if(!Object(o["isEqual"])(n,i)){var r=_(n,i);this.startPlayingNotes(r);var s=v(n,i);this.stopPlayingNotes(s)}}},{key:"startPlayingNotes",value:function t(e){this.synth.triggerAttack(e)}},{key:"stopPlayingNotes",value:function t(e){this.synth.triggerRelease(e)}},{key:"render",value:function t(){return null}}]);return e}(i["Component"]);function g(t){var e=t.children;return r.a.createElement("div",{className:"interactive-piano__piano-container",onMouseDown:function t(e){return e.preventDefault()}},e)}function b(t){var e=t.isPlaying,n=t.text,i=t.eventHandlers;return r.a.createElement("div",{className:"interactive-piano__accidental-key__wrapper"},r.a.createElement("button",Object.assign({className:"interactive-piano__accidental-key "+(e?"interactive-piano__accidental-key--playing":"")},i),r.a.createElement("div",{className:"interactive-piano__text"},n)))}function w(t){var e=t.isPlaying,n=t.text,i=t.eventHandlers;return r.a.createElement("button",Object.assign({className:"interactive-piano__natural-key "+(e?"interactive-piano__natural-key--playing":"")},i),r.a.createElement("div",{className:"interactive-piano__text"},n))}function T(t){var e=t.isNoteAccidental,n=t.isNotePlaying,i=t.startPlayingNote,o=t.stopPlayingNote,s=t.keyboardShortcuts;function a(t){if(t.buttons){i()}}var u=e?b:w;var l={onMouseDown:i,onMouseEnter:a,onTouchStart:i,onMouseUp:o,onMouseOut:o,onTouchEnd:o};return r.a.createElement(u,{isPlaying:n,text:s.join(" / "),eventHandlers:l})}function S(){return r.a.createElement(g,null,r.a.createElement(l["a"],{renderAudio:m,startNote:"C4",endNote:"B5",renderPianoKey:T,keyboardMap:{Q:"C4",2:"C#4",W:"D4",3:"D#4",E:"E4",R:"F4",5:"F#4",T:"G4",6:"G#4",Y:"A4",7:"A#4",U:"B4",V:"C5",G:"C#5",B:"D5",H:"D#5",N:"E5",M:"F5",K:"F#5",",":"G5",L:"G#5",".":"A5",";":"A#5","/":"B5"}}))}},"./src/demo/components/MadeWithLoveTag.css":function(t,e){},"./src/demo/components/MadeWithLoveTag.js":function(t,e,n){"use strict";e["a"]=l;var i=n("./node_modules/react/index.js");var r=n.n(i);var o=n("./src/demo/components/MadeWithLoveTag.css");var s=n.n(o);function a(){return r.a.createElement("span",{className:"made-with-love-tag__heart"},"\u2665")}function u(t){var e=t.author,n=t.link;return r.a.createElement("a",{className:"made-with-love-tag__author-link",href:n},e)}function l(t){return r.a.createElement("div",{className:"made-with-love-tag"},"made with ",r.a.createElement(a,null)," by ",r.a.createElement(u,t))}},"./src/demo/index.css":function(t,e){},"./src/demo/index.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=n("./node_modules/react/index.js");var r=n.n(i);var o=n("./node_modules/react-dom/index.js");var s=n.n(o);var a=n("./src/demo/App.js");var u=n("./src/demo/registerServiceWorker.js");var l=n("./src/demo/index.css");var c=n.n(l);s.a.render(r.a.createElement(a["a"],null),document.getElementById("root"));Object(u["a"])()},"./src/demo/registerServiceWorker.js":function(t,e,n){"use strict";e["a"]=r;var i=Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){if("production"==="production"&&"serviceWorker"in navigator){var t=new URL(".",window.location);if(t.origin!==window.location.origin){return}window.addEventListener("load",function(){var t="."+"/service-worker.js";if(i){s(t)}else{o(t)}})}}function o(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){if(e.state==="installed"){if(navigator.serviceWorker.controller){console.log("New content is available; please refresh.")}else{console.log("Content is cached for offline use.")}}}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function s(t){fetch(t).then(function(e){if(e.status===404||e.headers.get("content-type").indexOf("javascript")===-1){navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})})}else{o(t)}}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}function a(){if("serviceWorker"in navigator){navigator.serviceWorker.ready.then(function(t){t.unregister()})}}},"./src/lib/components/Instrument.js":function(t,e,n){"use strict";var i=n("./node_modules/react/index.js");var r=n.n(i);var o=n("./src/lib/components/InstrumentAudio.js");var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function h(t){return!t.ctrlKey&&!t.metaKey&&!t.shiftKey}var f=function(t){c(e,t);function e(t){u(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.state={notesPlaying:[]};n.startPlayingNote=n.startPlayingNote.bind(n);n.stopPlayingNote=n.stopPlayingNote.bind(n);n.handleKeyDown=n.handleKeyDown.bind(n);n.handleKeyUp=n.handleKeyUp.bind(n);return n}s(e,[{key:"componentDidMount",value:function t(){window.addEventListener("keydown",this.handleKeyDown);window.addEventListener("keyup",this.handleKeyUp)}},{key:"componentWillUnmount",value:function t(){window.removeEventListener("keydown",this.handleKeyDown);window.removeEventListener("keyup",this.handleKeyUp)}},{key:"getNoteFromKeyboardKey",value:function t(e){var n=this.props.keyboardMap;return n[e.toUpperCase()]}},{key:"handleKeyDown",value:function t(e){if(h(e)&&!e.repeat){var n=this.getNoteFromKeyboardKey(e.key);if(n){this.startPlayingNote(n)}}}},{key:"handleKeyUp",value:function t(e){if(h(e)){var n=this.getNoteFromKeyboardKey(e.key);if(n){this.stopPlayingNote(n)}}}},{key:"startPlayingNote",value:function t(e){this.setState(function(t){var n=t.notesPlaying;return{notesPlaying:[].concat(a(n),[e])}})}},{key:"stopPlayingNote",value:function t(e){this.setState(function(t){var n=t.notesPlaying;return{notesPlaying:n.filter(function(t){return t!==e})}})}},{key:"render",value:function t(){var e=this.props,n=e.renderInstrument,s=e.renderAudio;var a=this.state.notesPlaying;var u=s||o["a"];return r.a.createElement(i["Fragment"],null,n({notesPlaying:a,onPlayNoteStart:this.startPlayingNote,onPlayNoteEnd:this.stopPlayingNote}),r.a.createElement(u,{notes:a}))}}]);return e}(i["Component"]);e["a"]=f;f.defaultProps={keyboardMap:{}}},"./src/lib/components/InstrumentAudio.js":function(t,e,n){"use strict";var i=n("./node_modules/react/index.js");var r=n.n(i);var o=n("./node_modules/lodash/lodash.js");var s=n.n(o);var a=n("./src/lib/utils/InstrumentPlayer/index.js");var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function c(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(t){l(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.setInstrument=n.setInstrument.bind(n);n.playNotes=n.playNotes.bind(n);return n}u(e,[{key:"componentDidMount",value:function t(){this.instrumentPlayer=new a["a"];this.setInstrument();this.playNotes()}},{key:"componentDidUpdate",value:function t(e){if(!Object(o["isEqual"])(this.props.instrument,e.instrument)){this.setInstrument()}if(!Object(o["isEqual"])(this.props.notes,e.notes)){this.playNotes()}}},{key:"setInstrument",value:function t(){this.instrumentPlayer.setInstrument(this.props.instrument)}},{key:"playNotes",value:function t(){this.instrumentPlayer.playNotes(this.props.notes)}},{key:"render",value:function t(){return null}}]);return e}(i["Component"]);e["a"]=f;f.defaultProps={instrument:"acoustic_grand_piano",notes:[]}},"./src/lib/components/Piano.js":function(t,e,n){"use strict";e["a"]=l;var i=n("./node_modules/react/index.js");var r=n.n(i);var o=n("./src/lib/components/Instrument.js");var s=n("./src/lib/utils/isAccidentalNote.js");var a=n("./src/lib/utils/getNotesBetween.js");var u=n("./src/lib/utils/getKeyboardShortcutsForNote.js");function l(t){var e=t.startNote,n=t.endNote,l=t.keyboardMap,c=t.renderPianoKey,h=t.renderAudio;var f=Object(a["a"])(e,n);return r.a.createElement(o["a"],{instrument:"acoustic_grand_piano",keyboardMap:l,renderInstrument:function t(e){var n=e.notesPlaying,o=e.onPlayNoteStart,a=e.onPlayNoteEnd;return f.map(function(t){return r.a.createElement(i["Fragment"],{key:t},c({note:t,isNoteAccidental:Object(s["a"])(t),isNotePlaying:n.includes(t),startPlayingNote:function e(){return o(t)},stopPlayingNote:function e(){return a(t)},keyboardShortcuts:Object(u["a"])(l,t)}))})},renderAudio:h})}l.defaultProps={keyboardMap:{}}},"./src/lib/constants/NOTES.js":function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var o=[1,2,3,4,5,6,7];e["a"]=o.reduce(function(t,e){var n=r.map(function(t){return""+t+e});return[].concat(i(t),i(n))},[])},"./src/lib/index.js":function(t,e,n){"use strict";var i=n("./src/lib/components/Piano.js");var r=n("./src/lib/constants/NOTES.js");e["a"]=i["a"]},"./src/lib/utils/InstrumentPlayer/AudioContext.js":function(t,e,n){"use strict";e["a"]=window.AudioContext||window.webkitAudioContext},"./src/lib/utils/InstrumentPlayer/AudioPlayer.js":function(t,e,n){"use strict";var i=n("./node_modules/soundfont-player/lib/index.js");var r=n.n(i);var o=n("./src/lib/utils/InstrumentPlayer/AudioContext.js");var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function a(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(){a(this,t)}s(t,[{key:"stop",value:function t(){}}]);return t}();var l=function(){function t(){a(this,t)}s(t,[{key:"play",value:function t(){return new u}}]);return t}();var c=function(){function t(){a(this,t);this.audioContext=o["a"]&&new o["a"];this.soundFontPlayer=new l}s(t,[{key:"setInstrument",value:function t(e){var n=this;r.a.instrument(this.audioContext,e).then(function(t){n.soundFontPlayer=t}).catch(function(){n.soundFontPlayer=new l})}},{key:"playNote",value:function t(e){return this.soundFontPlayer.play(e)}}]);return t}();e["a"]=c},"./src/lib/utils/InstrumentPlayer/Instrument.js":function(t,e,n){"use strict";var i=n("./node_modules/lodash/lodash.js");var r=n.n(i);var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(e){s(this,t);this.audioPlayer=e;this.activeNoteMap={}}o(t,[{key:"playNotes",value:function t(e){this.stopPlayingInactiveNotes(e);this.startPlayingNewlyActiveNotes(e)}},{key:"stopPlayingInactiveNotes",value:function t(e){var n=this;var r=this.getActiveNotes();var o=Object(i["difference"])(r,e);o.forEach(function(t){n.activeNoteMap[t].stop();delete n.activeNoteMap[t]})}},{key:"startPlayingNewlyActiveNotes",value:function t(e){var n=this;var r=this.getActiveNotes();var o=Object(i["difference"])(e,r);o.forEach(function(t){n.activeNoteMap[t]=n.audioPlayer.playNote(t)})}},{key:"getActiveNotes",value:function t(){return Object.keys(this.activeNoteMap)}}]);return t}();e["a"]=a},"./src/lib/utils/InstrumentPlayer/InstrumentPlayer.js":function(t,e,n){"use strict";var i=n("./src/lib/utils/InstrumentPlayer/AudioPlayer.js");var r=n("./src/lib/utils/InstrumentPlayer/Instrument.js");var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,n,i){if(n)t(e.prototype,n);if(i)t(e,i);return e}}();function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(){s(this,t);this.audioPlayer=new i["a"];this.instrument=new r["a"](this.audioPlayer)}o(t,[{key:"setInstrument",value:function t(e){this.audioPlayer.setInstrument(e)}},{key:"playNotes",value:function t(e){this.instrument.playNotes(e)}}]);return t}();e["a"]=a},"./src/lib/utils/InstrumentPlayer/index.js":function(t,e,n){"use strict";var i=n("./src/lib/utils/InstrumentPlayer/InstrumentPlayer.js");e["a"]=i["a"]},"./src/lib/utils/getKeyboardShortcutsForNote.js":function(t,e,n){"use strict";e["a"]=i;function i(t,e){var n=Object.keys(t);return n.filter(function(n){return t[n]===e})}},"./src/lib/utils/getNotesBetween.js":function(t,e,n){"use strict";e["a"]=r;var i=n("./src/lib/constants/NOTES.js");function r(t,e){var n=i["a"].indexOf(t);var r=i["a"].indexOf(e);return i["a"].slice(n,r+1)}},"./src/lib/utils/isAccidentalNote.js":function(t,e,n){"use strict";e["a"]=r;var i=n("./src/lib/constants/NOTES.js");function r(t){return i["a"].includes(t)&&t.includes("#")}},0:function(t,e,n){t.exports=n("./src/demo/index.js")}})});
//# sourceMappingURL=index.js.map